var Gp=Object.defineProperty;var Yp=(e,t,n)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Af=(e,t,n)=>Yp(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();var $1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nh={exports:{}},rr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=Symbol.for("react.transitional.element"),kp=Symbol.for("react.fragment");function jh(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:Xp,type:e,key:a,ref:t!==void 0?t:null,props:n}}rr.Fragment=kp;rr.jsx=jh;rr.jsxs=jh;Nh.exports=rr;var u=Nh.exports,Th={exports:{}},G={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.transitional.element"),Qp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Jp=Symbol.for("react.consumer"),Pp=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Rh=Symbol.for("react.lazy"),Ef=Symbol.iterator;function ey(e){return e===null||typeof e!="object"?null:(e=Ef&&e[Ef]||e["@@iterator"],typeof e=="function"?e:null)}var Oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ch=Object.assign,Mh={};function al(e,t,n){this.props=e,this.context=t,this.refs=Mh,this.updater=n||Oh}al.prototype.isReactComponent={};al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dh(){}Dh.prototype=al.prototype;function qc(e,t,n){this.props=e,this.context=t,this.refs=Mh,this.updater=n||Oh}var Gc=qc.prototype=new Dh;Gc.constructor=qc;Ch(Gc,al.prototype);Gc.isPureReactComponent=!0;var Nf=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},Uh=Object.prototype.hasOwnProperty;function Yc(e,t,n,a,l,s){return n=s.ref,{$$typeof:$c,type:e,key:t,ref:n!==void 0?n:null,props:s}}function ty(e,t){return Yc(e.type,t,void 0,void 0,void 0,e.props)}function Xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===$c}function ny(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jf=/\/+/g;function $r(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ny(""+e.key):t.toString(36)}function Tf(){}function ay(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Tf,Tf):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function pa(e,t,n,a,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $c:case Qp:i=!0;break;case Rh:return i=e._init,pa(i(e._payload),t,n,a,l)}}if(i)return l=l(e),i=a===""?"."+$r(e,0):a,Nf(l)?(n="",i!=null&&(n=i.replace(jf,"$&/")+"/"),pa(l,t,n,"",function(o){return o})):l!=null&&(Xc(l)&&(l=ty(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(jf,"$&/")+"/")+i)),t.push(l)),1;i=0;var r=a===""?".":a+":";if(Nf(e))for(var c=0;c<e.length;c++)a=e[c],s=r+$r(a,c),i+=pa(a,t,n,s,l);else if(c=ey(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,s=r+$r(a,c++),i+=pa(a,t,n,s,l);else if(s==="object"){if(typeof e.then=="function")return pa(ay(e),t,n,a,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function Hs(e,t,n){if(e==null)return e;var a=[],l=0;return pa(e,a,"","",function(s){return t.call(n,s,l++)}),a}function ly(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sy(){}G.Children={map:Hs,forEach:function(e,t,n){Hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hs(e,function(){t++}),t},toArray:function(e){return Hs(e,function(t){return t})||[]},only:function(e){if(!Xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=al;G.Fragment=Vp;G.Profiler=Kp;G.PureComponent=qc;G.StrictMode=Zp;G.Suspense=Ip;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se;G.__COMPILER_RUNTIME={__proto__:null,c:function(e){return se.H.useMemoCache(e)}};G.cache=function(e){return function(){return e.apply(null,arguments)}};G.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Ch({},e.props),l=e.key,s=void 0;if(t!=null)for(i in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(l=""+t.key),t)!Uh.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var r=Array(i),c=0;c<i;c++)r[c]=arguments[c+2];a.children=r}return Yc(e.type,l,void 0,void 0,s,a)};G.createContext=function(e){return e={$$typeof:Pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Jp,_context:e},e};G.createElement=function(e,t,n){var a,l={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Uh.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(l[a]=t[a]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var r=Array(i),c=0;c<i;c++)r[c]=arguments[c+2];l.children=r}if(e&&e.defaultProps)for(a in i=e.defaultProps,i)l[a]===void 0&&(l[a]=i[a]);return Yc(e,s,void 0,void 0,null,l)};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Fp,render:e}};G.isValidElement=Xc;G.lazy=function(e){return{$$typeof:Rh,_payload:{_status:-1,_result:e},_init:ly}};G.memo=function(e,t){return{$$typeof:Wp,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=se.T,n={};se.T=n;try{var a=e(),l=se.S;l!==null&&l(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(sy,Rf)}catch(s){Rf(s)}finally{se.T=t}};G.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()};G.use=function(e){return se.H.use(e)};G.useActionState=function(e,t,n){return se.H.useActionState(e,t,n)};G.useCallback=function(e,t){return se.H.useCallback(e,t)};G.useContext=function(e){return se.H.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e,t){return se.H.useDeferredValue(e,t)};G.useEffect=function(e,t,n){var a=se.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};G.useId=function(){return se.H.useId()};G.useImperativeHandle=function(e,t,n){return se.H.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return se.H.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return se.H.useLayoutEffect(e,t)};G.useMemo=function(e,t){return se.H.useMemo(e,t)};G.useOptimistic=function(e,t){return se.H.useOptimistic(e,t)};G.useReducer=function(e,t,n){return se.H.useReducer(e,t,n)};G.useRef=function(e){return se.H.useRef(e)};G.useState=function(e){return se.H.useState(e)};G.useSyncExternalStore=function(e,t,n){return se.H.useSyncExternalStore(e,t,n)};G.useTransition=function(){return se.H.useTransition()};G.version="19.1.1";Th.exports=G;var R=Th.exports;const iy=Eh(R);var zh={exports:{}},ur={},Bh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,$){var N=C.length;C.push($);e:for(;0<N;){var L=N-1>>>1,X=C[L];if(0<l(X,$))C[L]=$,C[N]=X,N=L;else break e}}function n(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var $=C[0],N=C.pop();if(N!==$){C[0]=N;e:for(var L=0,X=C.length,_t=X>>>1;L<_t;){var Rt=2*(L+1)-1,hl=C[Rt],Yt=Rt+1,B=C[Yt];if(0>l(hl,N))Yt<X&&0>l(B,hl)?(C[L]=B,C[Yt]=N,L=Yt):(C[L]=hl,C[Rt]=N,L=Rt);else if(Yt<X&&0>l(B,N))C[L]=B,C[Yt]=N,L=Yt;else break e}}return $}function l(C,$){var N=C.sortIndex-$.sortIndex;return N!==0?N:C.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,r=i.now();e.unstable_now=function(){return i.now()-r}}var c=[],o=[],g=1,d=null,m=3,h=!1,x=!1,v=!1,_=!1,p=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(C){for(var $=n(o);$!==null;){if($.callback===null)a(o);else if($.startTime<=C)a(o),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(o)}}function w(C){if(v=!1,b(C),!x)if(n(c)!==null)x=!0,E||(E=!0,ee());else{var $=n(o);$!==null&&ze(w,$.startTime-C)}}var E=!1,S=-1,T=5,j=-1;function O(){return _?!0:!(e.unstable_now()-j<T)}function H(){if(_=!1,E){var C=e.unstable_now();j=C;var $=!0;try{e:{x=!1,v&&(v=!1,f(S),S=-1),h=!0;var N=m;try{t:{for(b(C),d=n(c);d!==null&&!(d.expirationTime>C&&O());){var L=d.callback;if(typeof L=="function"){d.callback=null,m=d.priorityLevel;var X=L(d.expirationTime<=C);if(C=e.unstable_now(),typeof X=="function"){d.callback=X,b(C),$=!0;break t}d===n(c)&&a(c),b(C)}else a(c);d=n(c)}if(d!==null)$=!0;else{var _t=n(o);_t!==null&&ze(w,_t.startTime-C),$=!1}}break e}finally{d=null,m=N,h=!1}$=void 0}}finally{$?ee():E=!1}}}var ee;if(typeof y=="function")ee=function(){y(H)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Tt=qe.port2;qe.port1.onmessage=H,ee=function(){Tt.postMessage(null)}}else ee=function(){p(H,0)};function ze(C,$){S=p(function(){C(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var N=m;m=$;try{return C()}finally{m=N}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=m;m=C;try{return $()}finally{m=N}},e.unstable_scheduleCallback=function(C,$,N){var L=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,C){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=N+X,C={id:g++,callback:$,priorityLevel:C,startTime:N,expirationTime:X,sortIndex:-1},N>L?(C.sortIndex=N,t(o,C),n(c)===null&&C===n(o)&&(v?(f(S),S=-1):v=!0,ze(w,N-L))):(C.sortIndex=X,t(c,C),x||h||(x=!0,E||(E=!0,ee()))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var $=m;return function(){var N=m;m=$;try{return C.apply(this,arguments)}finally{m=N}}}})(Hh);Bh.exports=Hh;var ry=Bh.exports,Lh={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=R;function $h(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function un(){}var Xe={d:{f:un,r:function(){throw Error($h(522))},D:un,C:un,L:un,m:un,X:un,S:un,M:un},p:0,findDOMNode:null},cy=Symbol.for("react.portal");function oy(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cy,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Dl=uy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function cr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xe;ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error($h(299));return oy(e,t,null,n)};ke.flushSync=function(e){var t=Dl.T,n=Xe.p;try{if(Dl.T=null,Xe.p=2,e)return e()}finally{Dl.T=t,Xe.p=n,Xe.d.f()}};ke.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Xe.d.C(e,t))};ke.prefetchDNS=function(e){typeof e=="string"&&Xe.d.D(e)};ke.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=cr(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Xe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:l,fetchPriority:s}):n==="script"&&Xe.d.X(e,{crossOrigin:a,integrity:l,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ke.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=cr(t.as,t.crossOrigin);Xe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Xe.d.M(e)};ke.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=cr(n,t.crossOrigin);Xe.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ke.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=cr(t.as,t.crossOrigin);Xe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Xe.d.m(e)};ke.requestFormReset=function(e){Xe.d.r(e)};ke.unstable_batchedUpdates=function(e,t){return e(t)};ke.useFormState=function(e,t,n){return Dl.H.useFormState(e,t,n)};ke.useFormStatus=function(){return Dl.H.useHostTransitionStatus()};ke.version="19.1.1";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),Lh.exports=ke;var fy=Lh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=ry,Gh=R,dy=fy;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Yh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Of(e){if(hs(e)!==e)throw Error(A(188))}function hy(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Of(l),e;if(s===a)return Of(l),t;s=s.sibling}throw Error(A(188))}if(n.return!==a.return)n=l,a=s;else{for(var i=!1,r=l.child;r;){if(r===n){i=!0,n=l,a=s;break}if(r===a){i=!0,a=l,n=s;break}r=r.sibling}if(!i){for(r=s.child;r;){if(r===n){i=!0,n=s,a=l;break}if(r===a){i=!0,a=s,n=l;break}r=r.sibling}if(!i)throw Error(A(189))}}if(n.alternate!==a)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function kh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=kh(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,my=Symbol.for("react.element"),Ls=Symbol.for("react.transitional.element"),wl=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),gy=Symbol.for("react.provider"),Vh=Symbol.for("react.consumer"),Jt=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Uu=Symbol.for("react.activity"),py=Symbol.for("react.memo_cache_sentinel"),Cf=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=Cf&&e[Cf]||e["@@iterator"],typeof e=="function"?e:null)}var yy=Symbol.for("react.client.reference");function zu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sa:return"Fragment";case Cu:return"Profiler";case Qh:return"StrictMode";case Mu:return"Suspense";case Du:return"SuspenseList";case Uu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case wl:return"Portal";case Jt:return(e.displayName||"Context")+".Provider";case Vh:return(e._context.displayName||"Context")+".Consumer";case kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qc:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}var Al=Array.isArray,U=Gh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=dy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kn={pending:!1,data:null,method:null,action:null},Bu=[],wa=-1;function qt(e){return{current:e}}function Re(e){0>wa||(e.current=Bu[wa],Bu[wa]=null,wa--)}function ie(e,t){wa++,Bu[wa]=e.current,e.current=t}var Ht=qt(null),Pl=qt(null),An=qt(null),ji=qt(null);function Ti(e,t){switch(ie(An,t),ie(Pl,e),ie(Ht,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bd(t),e=cg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Ht),ie(Ht,e)}function Va(){Re(Ht),Re(Pl),Re(An)}function Hu(e){e.memoizedState!==null&&ie(ji,e);var t=Ht.current,n=cg(t,e.type);t!==n&&(ie(Pl,e),ie(Ht,n))}function Ri(e){Pl.current===e&&(Re(Ht),Re(Pl)),ji.current===e&&(Re(ji),is._currentValue=Kn)}var Lu=Object.prototype.hasOwnProperty,Vc=we.unstable_scheduleCallback,qr=we.unstable_cancelCallback,by=we.unstable_shouldYield,xy=we.unstable_requestPaint,Lt=we.unstable_now,vy=we.unstable_getCurrentPriorityLevel,Zh=we.unstable_ImmediatePriority,Kh=we.unstable_UserBlockingPriority,Oi=we.unstable_NormalPriority,_y=we.unstable_LowPriority,Jh=we.unstable_IdlePriority,Sy=we.log,wy=we.unstable_setDisableYieldValue,ms=null,it=null;function vn(e){if(typeof Sy=="function"&&wy(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(ms,e)}catch{}}var rt=Math.clz32?Math.clz32:Ny,Ay=Math.log,Ey=Math.LN2;function Ny(e){return e>>>=0,e===0?32:31-(Ay(e)/Ey|0)|0}var $s=256,qs=4194304;function Xn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function or(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var r=a&134217727;return r!==0?(a=r&~s,a!==0?l=Xn(a):(i&=r,i!==0?l=Xn(i):n||(n=r&~e,n!==0&&(l=Xn(n))))):(r=a&~s,r!==0?l=Xn(r):i!==0?l=Xn(i):n||(n=a&~e,n!==0&&(l=Xn(n)))),l===0?0:t!==0&&t!==l&&!(t&s)&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function gs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(){var e=$s;return $s<<=1,!($s&4194048)&&($s=256),e}function Fh(){var e=qs;return qs<<=1,!(qs&62914560)&&(qs=4194304),e}function Gr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ps(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ty(e,t,n,a,l,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,o=e.hiddenUpdates;for(n=i&~n;0<n;){var g=31-rt(n),d=1<<g;r[g]=0,c[g]=-1;var m=o[g];if(m!==null)for(o[g]=null,g=0;g<m.length;g++){var h=m[g];h!==null&&(h.lane&=-536870913)}n&=~d}a!==0&&Ih(e,a,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(i&~t))}function Ih(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Wh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-rt(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function Zc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function em(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:xg(e.type))}function Ry(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var Bn=Math.random().toString(36).slice(2),Le="__reactFiber$"+Bn,Fe="__reactProps$"+Bn,ll="__reactContainer$"+Bn,$u="__reactEvents$"+Bn,Oy="__reactListeners$"+Bn,Cy="__reactHandles$"+Bn,Mf="__reactResources$"+Bn,ys="__reactMarker$"+Bn;function Jc(e){delete e[Le],delete e[Fe],delete e[$u],delete e[Oy],delete e[Cy]}function Aa(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ll]||n[Le]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$d(e);e!==null;){if(n=e[Le])return n;e=$d(e)}return t}e=n,n=e.parentNode}return null}function sl(e){if(e=e[Le]||e[ll]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function El(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function za(e){var t=e[Mf];return t||(t=e[Mf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[ys]=!0}var tm=new Set,nm={};function ia(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(nm[e]=t,e=0;e<t.length;e++)tm.add(t[e])}var My=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Df={},Uf={};function Dy(e){return Lu.call(Uf,e)?!0:Lu.call(Df,e)?!1:My.test(e)?Uf[e]=!0:(Df[e]=!0,!1)}function ui(e,t,n){if(Dy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Gs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Yr,zf;function ya(e){if(Yr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yr=t&&t[1]||"",zf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+zf}var Xr=!1;function kr(e,t){if(!e||Xr)return"";Xr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var m=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){m=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){m=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],r=s[1];if(i&&r){var c=i.split(`
`),o=r.split(`
`);for(l=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;if(a===c.length||l===o.length)for(a=c.length-1,l=o.length-1;1<=a&&0<=l&&c[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(c[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||c[a]!==o[l]){var g=`
`+c[a].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=a&&0<=l);break}}}finally{Xr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ya(n):""}function Uy(e){switch(e.tag){case 26:case 27:case 5:return ya(e.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 15:return kr(e.type,!1);case 11:return kr(e.type.render,!1);case 1:return kr(e.type,!0);case 31:return ya("Activity");default:return""}}function Bf(e){try{var t="";do t+=Uy(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function am(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zy(e){var t=am(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){a=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ci(e){e._valueTracker||(e._valueTracker=zy(e))}function lm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=am(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var By=/[\n"\\]/g;function gt(e){return e.replace(By,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qu(e,t,n,a,l,s,i,r){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Gu(e,i,dt(t)):n!=null?Gu(e,i,dt(n)):a!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+dt(r):e.removeAttribute("name")}function sm(e,t,n,a,l,s,i,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+dt(n):"",t=t!=null?""+dt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=r?e.checked:!!a,e.defaultChecked=!!a,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function Gu(e,t,n){t==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ba(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function im(e,t,n){if(t!=null&&(t=""+dt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+dt(n):""}function rm(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(A(92));if(Al(a)){if(1<a.length)throw Error(A(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=dt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hf(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Hy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function um(e,t,n){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&Hf(e,l,a)}else for(var s in t)t.hasOwnProperty(s)&&Hf(e,s,t[s])}function Pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(e){return $y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Yu=null;function Fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,Ha=null;function Lf(e){var t=sl(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(qu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[Fe]||null;if(!l)throw Error(A(90));qu(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&lm(a)}break e;case"textarea":im(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ba(e,!!n.multiple,t,!1)}}}var Qr=!1;function cm(e,t,n){if(Qr)return e(t,n);Qr=!0;try{var a=e(t);return a}finally{if(Qr=!1,(Ea!==null||Ha!==null)&&(vr(),Ea&&(t=Ea,e=Ha,Ha=Ea=null,Lf(t),e)))for(t=0;t<e.length;t++)Lf(e[t])}}function Fl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Fe]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(nn)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Xu=!1}var _n=null,Ic=null,oi=null;function om(){if(oi)return oi;var e,t=Ic,n=t.length,a,l="value"in _n?_n.value:_n.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(a=1;a<=i&&t[n-a]===l[s-a];a++);return oi=l.slice(e,1<a?1-a:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function $f(){return!1}function Ie(e){function t(n,a,l,s,i){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ys:$f,this.isPropagationStopped=$f,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=Ie(ra),bs=ae({},ra,{view:0,detail:0}),qy=Ie(bs),Vr,Zr,pl,dr=ae({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(Vr=e.screenX-pl.screenX,Zr=e.screenY-pl.screenY):Zr=Vr=0,pl=e),Vr)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),qf=Ie(dr),Gy=ae({},dr,{dataTransfer:0}),Yy=Ie(Gy),Xy=ae({},bs,{relatedTarget:0}),Kr=Ie(Xy),ky=ae({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=Ie(ky),Vy=ae({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zy=Ie(Vy),Ky=ae({},ra,{data:0}),Gf=Ie(Ky),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fy[e])?!!t[e]:!1}function Wc(){return Iy}var Wy=ae({},bs,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eb=Ie(Wy),tb=ae({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Ie(tb),nb=ae({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),ab=Ie(nb),lb=ae({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),sb=Ie(lb),ib=ae({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Ie(ib),ub=ae({},ra,{newState:0,oldState:0}),cb=Ie(ub),ob=[9,13,27,32],eo=nn&&"CompositionEvent"in window,Ul=null;nn&&"documentMode"in document&&(Ul=document.documentMode);var fb=nn&&"TextEvent"in window&&!Ul,fm=nn&&(!eo||Ul&&8<Ul&&11>=Ul),Xf=" ",kf=!1;function dm(e,t){switch(e){case"keyup":return ob.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function db(e,t){switch(e){case"compositionend":return hm(t);case"keypress":return t.which!==32?null:(kf=!0,Xf);case"textInput":return e=t.data,e===Xf&&kf?null:e;default:return null}}function hb(e,t){if(Na)return e==="compositionend"||!eo&&dm(e,t)?(e=om(),oi=Ic=_n=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fm&&t.locale!=="ko"?null:t.data;default:return null}}var mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mb[e.type]:t==="textarea"}function mm(e,t,n,a){Ea?Ha?Ha.push(a):Ha=[a]:Ea=a,t=Pi(t,"onChange"),0<t.length&&(n=new fr("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var zl=null,Il=null;function gb(e){ig(e,0)}function hr(e){var t=El(e);if(lm(t))return e}function Vf(e,t){if(e==="change")return t}var gm=!1;if(nn){var Jr;if(nn){var Pr="oninput"in document;if(!Pr){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Pr=typeof Zf.oninput=="function"}Jr=Pr}else Jr=!1;gm=Jr&&(!document.documentMode||9<document.documentMode)}function Kf(){zl&&(zl.detachEvent("onpropertychange",pm),Il=zl=null)}function pm(e){if(e.propertyName==="value"&&hr(Il)){var t=[];mm(t,Il,e,Fc(e)),cm(gb,t)}}function pb(e,t,n){e==="focusin"?(Kf(),zl=t,Il=n,zl.attachEvent("onpropertychange",pm)):e==="focusout"&&Kf()}function yb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hr(Il)}function bb(e,t){if(e==="click")return hr(t)}function xb(e,t){if(e==="input"||e==="change")return hr(t)}function vb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:vb;function Wl(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Lu.call(t,l)||!ot(e[l],t[l]))return!1}return!0}function Jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var n=Jf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jf(n)}}function ym(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ym(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mi(e.document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _b=nn&&"documentMode"in document&&11>=document.documentMode,ja=null,ku=null,Bl=null,Qu=!1;function Ff(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qu||ja==null||ja!==Mi(a)||(a=ja,"selectionStart"in a&&to(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Bl&&Wl(Bl,a)||(Bl=a,a=Pi(ku,"onSelect"),0<a.length&&(t=new fr("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ja)))}function Gn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},Fr={},xm={};nn&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ua(e){if(Fr[e])return Fr[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xm)return Fr[e]=t[n];return e}var vm=ua("animationend"),_m=ua("animationiteration"),Sm=ua("animationstart"),Sb=ua("transitionrun"),wb=ua("transitionstart"),Ab=ua("transitioncancel"),wm=ua("transitionend"),Am=new Map,Vu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vu.push("scrollEnd");function jt(e,t){Am.set(e,t),ia(t,[e])}var If=new WeakMap;function pt(e,t){if(typeof e=="object"&&e!==null){var n=If.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Bf(t)},If.set(e,t),t)}return{value:e,source:t,stack:Bf(t)}}var ft=[],Ra=0,no=0;function mr(){for(var e=Ra,t=no=Ra=0;t<e;){var n=ft[t];ft[t++]=null;var a=ft[t];ft[t++]=null;var l=ft[t];ft[t++]=null;var s=ft[t];if(ft[t++]=null,a!==null&&l!==null){var i=a.pending;i===null?l.next=l:(l.next=i.next,i.next=l),a.pending=l}s!==0&&Em(n,l,s)}}function gr(e,t,n,a){ft[Ra++]=e,ft[Ra++]=t,ft[Ra++]=n,ft[Ra++]=a,no|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ao(e,t,n,a){return gr(e,t,n,a),Di(e)}function il(e,t){return gr(e,null,null,t),Di(e)}function Em(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-rt(n),e=s.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),s):null}function Di(e){if(50<Vl)throw Vl=0,hc=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Oa={};function Eb(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,a){return new Eb(e,t,n,a)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Nm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function di(e,t,n,a,l,s){var i=0;if(a=e,typeof e=="function")lo(e)&&(i=1);else if(typeof e=="string")i=jx(e,n,Ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Uu:return e=st(31,n,t,l),e.elementType=Uu,e.lanes=s,e;case Sa:return Jn(n.children,l,s,t);case Qh:i=8,l|=24;break;case Cu:return e=st(12,n,t,l|2),e.elementType=Cu,e.lanes=s,e;case Mu:return e=st(13,n,t,l),e.elementType=Mu,e.lanes=s,e;case Du:return e=st(19,n,t,l),e.elementType=Du,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gy:case Jt:i=10;break e;case Vh:i=9;break e;case kc:i=11;break e;case Qc:i=14;break e;case mn:i=16,a=null;break e}i=29,n=Error(A(130,e===null?"null":typeof e,"")),a=null}return t=st(i,n,t,l),t.elementType=e,t.type=a,t.lanes=s,t}function Jn(e,t,n,a){return e=st(7,e,a,t),e.lanes=n,e}function Ir(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Wr(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ca=[],Ma=0,Ui=null,zi=0,ht=[],mt=0,Pn=null,Pt=1,Ft="";function kn(e,t){Ca[Ma++]=zi,Ca[Ma++]=Ui,Ui=e,zi=t}function jm(e,t,n){ht[mt++]=Pt,ht[mt++]=Ft,ht[mt++]=Pn,Pn=e;var a=Pt;e=Ft;var l=32-rt(a)-1;a&=~(1<<l),n+=1;var s=32-rt(t)+l;if(30<s){var i=l-l%5;s=(a&(1<<i)-1).toString(32),a>>=i,l-=i,Pt=1<<32-rt(t)+l|n<<l|a,Ft=s+e}else Pt=1<<s|n<<l|a,Ft=e}function so(e){e.return!==null&&(kn(e,1),jm(e,1,0))}function io(e){for(;e===Ui;)Ui=Ca[--Ma],Ca[Ma]=null,zi=Ca[--Ma],Ca[Ma]=null;for(;e===Pn;)Pn=ht[--mt],ht[mt]=null,Ft=ht[--mt],ht[mt]=null,Pt=ht[--mt],ht[mt]=null}var Ye=null,fe=null,Z=!1,Fn=null,Ut=!1,Zu=Error(A(519));function ta(e){var t=Error(A(418,""));throw es(pt(t,e)),Zu}function Wf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Le]=e,t[Fe]=a,n){case"dialog":k("cancel",t),k("close",t);break;case"iframe":case"object":case"embed":k("load",t);break;case"video":case"audio":for(n=0;n<as.length;n++)k(as[n],t);break;case"source":k("error",t);break;case"img":case"image":case"link":k("error",t),k("load",t);break;case"details":k("toggle",t);break;case"input":k("invalid",t),sm(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ci(t);break;case"select":k("invalid",t);break;case"textarea":k("invalid",t),rm(t,a.value,a.defaultValue,a.children),Ci(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||ug(t.textContent,n)?(a.popover!=null&&(k("beforetoggle",t),k("toggle",t)),a.onScroll!=null&&k("scroll",t),a.onScrollEnd!=null&&k("scrollend",t),a.onClick!=null&&(t.onclick=wr),t=!0):t=!1,t||ta(e)}function ed(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:Ye=Ye.return}}function yl(e){if(e!==Ye)return!1;if(!Z)return ed(e),Z=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||xc(e.type,e.memoizedProps)),n=!n),n&&fe&&ta(e),ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){fe=Nt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}fe=null}}else t===27?(t=fe,Hn(e.type)?(e=Sc,Sc=null,fe=e):fe=t):fe=Ye?Nt(e.stateNode.nextSibling):null;return!0}function xs(){fe=Ye=null,Z=!1}function td(){var e=Fn;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),Fn=null),e}function es(e){Fn===null?Fn=[e]:Fn.push(e)}var Ku=qt(null),ca=null,It=null;function pn(e,t,n){ie(Ku,t._currentValue),t._currentValue=n}function tn(e){e._currentValue=Ku.current,Re(Ku)}function Ju(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Pu(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var i=l.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=l;for(var c=0;c<t.length;c++)if(r.context===t[c]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Ju(s.return,n,e),a||(i=null);break e}s=r.next}}else if(l.tag===18){if(i=l.return,i===null)throw Error(A(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Ju(i,n,e),i=null}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===e){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}}function vs(e,t,n,a){e=null;for(var l=t,s=!1;l!==null;){if(!s){if(l.flags&524288)s=!0;else if(l.flags&262144)break}if(l.tag===10){var i=l.alternate;if(i===null)throw Error(A(387));if(i=i.memoizedProps,i!==null){var r=l.type;ot(l.pendingProps.value,i.value)||(e!==null?e.push(r):e=[r])}}else if(l===ji.current){if(i=l.alternate,i===null)throw Error(A(387));i.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(is):e=[is])}l=l.return}e!==null&&Pu(t,e,n,a),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ca=e,It=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Tm(ca,e)}function Xs(e,t){return ca===null&&na(e),Tm(e,t)}function Tm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},It===null){if(e===null)throw Error(A(308));It=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else It=It.next=t;return n}var Nb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jb=we.unstable_scheduleCallback,Tb=we.unstable_NormalPriority,_e={$$typeof:Jt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ro(){return{controller:new Nb,data:new Map,refCount:0}}function _s(e){e.refCount--,e.refCount===0&&jb(Tb,function(){e.controller.abort()})}var Hl=null,Fu=0,Ja=0,La=null;function Rb(e,t){if(Hl===null){var n=Hl=[];Fu=0,Ja=Co(),La={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Fu++,t.then(nd,nd),t}function nd(){if(--Fu===0&&Hl!==null){La!==null&&(La.status="fulfilled");var e=Hl;Hl=null,Ja=0,La=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ob(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var ad=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Rb(e,t),ad!==null&&ad(e,t)};var In=qt(null);function uo(){var e=In.current;return e!==null?e:ne.pooledCache}function hi(e,t){t===null?ie(In,In.current):ie(In,t.pool)}function Rm(){var e=uo();return e===null?null:{parent:_e._currentValue,pool:e}}var Ss=Error(A(460)),Om=Error(A(474)),pr=Error(A(542)),Iu={then:function(){}};function ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ks(){}function Cm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ks,ks),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,id(e),e;default:if(typeof t.status=="string")t.then(ks,ks);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,id(e),e}throw Ll=t,Ss}}var Ll=null;function sd(){if(Ll===null)throw Error(A(459));var e=Ll;return Ll=null,e}function id(e){if(e===Ss||e===pr)throw Error(A(483))}var gn=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,P&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=Di(e),Em(e,null,n),t}return gr(e,a,t,n),Di(e)}function $l(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Wh(e,n)}}function eu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ec=!1;function ql(){if(ec){var e=La;if(e!==null)throw e}}function Gl(e,t,n,a){ec=!1;var l=e.updateQueue;gn=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var c=r,o=c.next;c.next=null,i===null?s=o:i.next=o,i=c;var g=e.alternate;g!==null&&(g=g.updateQueue,r=g.lastBaseUpdate,r!==i&&(r===null?g.firstBaseUpdate=o:r.next=o,g.lastBaseUpdate=c))}if(s!==null){var d=l.baseState;i=0,g=o=c=null,r=s;do{var m=r.lane&-536870913,h=m!==r.lane;if(h?(V&m)===m:(a&m)===m){m!==0&&m===Ja&&(ec=!0),g!==null&&(g=g.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var x=e,v=r;m=t;var _=n;switch(v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(_,d,m);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(_,d,m):x,m==null)break e;d=ae({},d,m);break e;case 2:gn=!0}}m=r.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=l.callbacks,h===null?l.callbacks=[m]:h.push(m))}else h={lane:m,tag:r.tag,payload:r.payload,callback:r.callback,next:null},g===null?(o=g=h,c=d):g=g.next=h,i|=m;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;h=r,r=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);g===null&&(c=d),l.baseState=c,l.firstBaseUpdate=o,l.lastBaseUpdate=g,s===null&&(l.shared.lanes=0),zn|=i,e.lanes=i,e.memoizedState=d}}function Mm(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function Dm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Mm(n[e],t)}var Pa=qt(null),Hi=qt(0);function rd(e,t){e=sn,ie(Hi,e),ie(Pa,t),sn=e|t.baseLanes}function tc(){ie(Hi,sn),ie(Pa,Pa.current)}function oo(){sn=Hi.current,Re(Pa),Re(Hi)}var Dn=0,Y=null,W=null,ge=null,Li=!1,$a=!1,aa=!1,$i=0,ts=0,qa=null,Cb=0;function he(){throw Error(A(321))}function fo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function ho(e,t,n,a,l,s){return Dn=s,Y=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?o0:f0,aa=!1,s=n(a,l),aa=!1,$a&&(s=zm(t,n,a,l)),Um(e),s}function Um(e){U.H=qi;var t=W!==null&&W.next!==null;if(Dn=0,ge=W=Y=null,Li=!1,ts=0,qa=null,t)throw Error(A(300));e===null||Te||(e=e.dependencies,e!==null&&Bi(e)&&(Te=!0))}function zm(e,t,n,a){Y=e;var l=0;do{if($a&&(qa=null),ts=0,$a=!1,25<=l)throw Error(A(301));if(l+=1,ge=W=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}U.H=Lb,s=t(n,a)}while($a);return s}function Mb(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ws(t):t,e=e.useState()[0],(W!==null?W.memoizedState:null)!==e&&(Y.flags|=1024),t}function mo(){var e=$i!==0;return $i=0,e}function go(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function po(e){if(Li){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Li=!1}Dn=0,ge=W=Y=null,$a=!1,ts=$i=0,qa=null}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Y.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(W===null){var e=Y.alternate;e=e!==null?e.memoizedState:null}else e=W.next;var t=ge===null?Y.memoizedState:ge.next;if(t!==null)ge=t,W=e;else{if(e===null)throw Y.alternate===null?Error(A(467)):Error(A(310));W=e,e={memoizedState:W.memoizedState,baseState:W.baseState,baseQueue:W.baseQueue,queue:W.queue,next:null},ge===null?Y.memoizedState=ge=e:ge=ge.next=e}return ge}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ws(e){var t=ts;return ts+=1,qa===null&&(qa=[]),e=Cm(qa,e,t),t=Y,(ge===null?t.memoizedState:ge.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?o0:f0),e}function yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ws(e);if(e.$$typeof===Jt)return $e(e)}throw Error(A(438,String(e)))}function bo(e){var t=null,n=Y.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Y.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yo(),Y.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=py;return t.index++,n}function an(e,t){return typeof t=="function"?t(e):t}function mi(e){var t=pe();return xo(t,W,e)}function xo(e,t,n){var a=e.queue;if(a===null)throw Error(A(311));a.lastRenderedReducer=n;var l=e.baseQueue,s=a.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}t.baseQueue=l=s,a.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var r=i=null,c=null,o=t,g=!1;do{var d=o.lane&-536870913;if(d!==o.lane?(V&d)===d:(Dn&d)===d){var m=o.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),d===Ja&&(g=!0);else if((Dn&m)===m){o=o.next,m===Ja&&(g=!0);continue}else d={lane:0,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},c===null?(r=c=d,i=s):c=c.next=d,Y.lanes|=m,zn|=m;d=o.action,aa&&n(s,d),s=o.hasEagerState?o.eagerState:n(s,d)}else m={lane:d,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},c===null?(r=c=m,i=s):c=c.next=m,Y.lanes|=d,zn|=d;o=o.next}while(o!==null&&o!==t);if(c===null?i=s:c.next=r,!ot(s,e.memoizedState)&&(Te=!0,g&&(n=La,n!==null)))throw n;e.memoizedState=s,e.baseState=i,e.baseQueue=c,a.lastRenderedState=s}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function tu(e){var t=pe(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);ot(s,t.memoizedState)||(Te=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function Bm(e,t,n){var a=Y,l=pe(),s=Z;if(s){if(n===void 0)throw Error(A(407));n=n()}else n=t();var i=!ot((W||l).memoizedState,n);i&&(l.memoizedState=n,Te=!0),l=l.queue;var r=$m.bind(null,a,l,e);if(As(2048,8,r,[e]),l.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(a.flags|=2048,Fa(9,br(),Lm.bind(null,a,l,n,t),null),ne===null)throw Error(A(349));s||Dn&124||Hm(a,t,n)}return n}function Hm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Y.updateQueue,t===null?(t=yo(),Y.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lm(e,t,n,a){t.value=n,t.getSnapshot=a,qm(t)&&Gm(e)}function $m(e,t,n){return n(function(){qm(t)&&Gm(e)})}function qm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function Gm(e){var t=il(e,2);t!==null&&ct(t,e,2)}function nc(e){var t=Ke();if(typeof e=="function"){var n=e;if(e=n(),aa){vn(!0);try{n()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function Ym(e,t,n,a){return e.baseState=n,xo(e,W,typeof a=="function"?a:an)}function Db(e,t,n,a,l){if(xr(e))throw Error(A(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};U.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,Xm(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Xm(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var s=U.T,i={};U.T=i;try{var r=n(l,a),c=U.S;c!==null&&c(i,r),ud(e,t,r)}catch(o){ac(e,t,o)}finally{U.T=s}}else try{s=n(l,a),ud(e,t,s)}catch(o){ac(e,t,o)}}function ud(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){cd(e,t,a)},function(a){return ac(e,t,a)}):cd(e,t,n)}function cd(e,t,n){t.status="fulfilled",t.value=n,km(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xm(e,n)))}function ac(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,km(t),t=t.next;while(t!==a)}e.action=null}function km(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qm(e,t){return t}function od(e,t){if(Z){var n=ne.formState;if(n!==null){e:{var a=Y;if(Z){if(fe){t:{for(var l=fe,s=Ut;l.nodeType!==8;){if(!s){l=null;break t}if(l=Nt(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){fe=Nt(l.nextSibling),a=l.data==="F!";break e}}ta(a)}a=!1}a&&(t=n[0])}}return n=Ke(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:t},n.queue=a,n=r0.bind(null,Y,a),a.dispatch=n,a=nc(!1),s=wo.bind(null,Y,!1,a.queue),a=Ke(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=Db.bind(null,Y,l,s,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function fd(e){var t=pe();return Vm(t,W,e)}function Vm(e,t,n){if(t=xo(e,t,Qm)[0],e=mi(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ws(t)}catch(i){throw i===Ss?pr:i}else a=t;t=pe();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(Y.flags|=2048,Fa(9,br(),Ub.bind(null,l,n),null)),[a,s,e]}function Ub(e,t){e.action=t}function dd(e){var t=pe(),n=W;if(n!==null)return Vm(t,n,e);pe(),t=t.memoizedState,n=pe();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Fa(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Y.updateQueue,t===null&&(t=yo(),Y.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function br(){return{destroy:void 0,resource:void 0}}function Zm(){return pe().memoizedState}function gi(e,t,n,a){var l=Ke();a=a===void 0?null:a,Y.flags|=e,l.memoizedState=Fa(1|t,br(),n,a)}function As(e,t,n,a){var l=pe();a=a===void 0?null:a;var s=l.memoizedState.inst;W!==null&&a!==null&&fo(a,W.memoizedState.deps)?l.memoizedState=Fa(t,s,n,a):(Y.flags|=e,l.memoizedState=Fa(1|t,s,n,a))}function hd(e,t){gi(8390656,8,e,t)}function Km(e,t){As(2048,8,e,t)}function Jm(e,t){return As(4,2,e,t)}function Pm(e,t){return As(4,4,e,t)}function Fm(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Im(e,t,n){n=n!=null?n.concat([e]):null,As(4,4,Fm.bind(null,t,e),n)}function vo(){}function Wm(e,t){var n=pe();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&fo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function e0(e,t){var n=pe();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&fo(t,a[1]))return a[0];if(a=e(),aa){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[a,t],a}function _o(e,t,n){return n===void 0||Dn&1073741824?e.memoizedState=t:(e.memoizedState=n,e=k0(),Y.lanes|=e,zn|=e,n)}function t0(e,t,n,a){return ot(n,t)?n:Pa.current!==null?(e=_o(e,n,a),ot(e,t)||(Te=!0),e):Dn&42?(e=k0(),Y.lanes|=e,zn|=e,t):(Te=!0,e.memoizedState=n)}function n0(e,t,n,a,l){var s=K.p;K.p=s!==0&&8>s?s:8;var i=U.T,r={};U.T=r,wo(e,!1,t,n);try{var c=l(),o=U.S;if(o!==null&&o(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=Ob(c,a);Yl(e,t,g,ut(e))}else Yl(e,t,a,ut(e))}catch(d){Yl(e,t,{then:function(){},status:"rejected",reason:d},ut())}finally{K.p=s,U.T=i}}function zb(){}function lc(e,t,n,a){if(e.tag!==5)throw Error(A(476));var l=a0(e).queue;n0(e,l,t,Kn,n===null?zb:function(){return l0(e),n(a)})}function a0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Kn,baseState:Kn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:Kn},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function l0(e){var t=a0(e).next.queue;Yl(e,t,{},ut())}function So(){return $e(is)}function s0(){return pe().memoizedState}function i0(){return pe().memoizedState}function Bb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ut();e=En(n);var a=Nn(t,e,n);a!==null&&(ct(a,t,n),$l(a,t,n)),t={cache:ro()},e.payload=t;return}t=t.return}}function Hb(e,t,n){var a=ut();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},xr(e)?u0(t,n):(n=ao(e,t,n,a),n!==null&&(ct(n,e,a),c0(n,t,a)))}function r0(e,t,n){var a=ut();Yl(e,t,n,a)}function Yl(e,t,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(xr(e))u0(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,r=s(i,n);if(l.hasEagerState=!0,l.eagerState=r,ot(r,i))return gr(e,t,l,0),ne===null&&mr(),!1}catch{}finally{}if(n=ao(e,t,l,a),n!==null)return ct(n,e,a),c0(n,t,a),!0}return!1}function wo(e,t,n,a){if(a={lane:2,revertLane:Co(),action:a,hasEagerState:!1,eagerState:null,next:null},xr(e)){if(t)throw Error(A(479))}else t=ao(e,n,a,2),t!==null&&ct(t,e,2)}function xr(e){var t=e.alternate;return e===Y||t!==null&&t===Y}function u0(e,t){$a=Li=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function c0(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Wh(e,n)}}var qi={readContext:$e,use:yr,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},o0={readContext:$e,use:yr,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:hd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,gi(4194308,4,Fm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){gi(4,2,e,t)},useMemo:function(e,t){var n=Ke();t=t===void 0?null:t;var a=e();if(aa){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Ke();if(n!==void 0){var l=n(t);if(aa){vn(!0);try{n(t)}finally{vn(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=Hb.bind(null,Y,e),[a.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:function(e){e=nc(e);var t=e.queue,n=r0.bind(null,Y,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vo,useDeferredValue:function(e,t){var n=Ke();return _o(n,e,t)},useTransition:function(){var e=nc(!1);return e=n0.bind(null,Y,e.queue,!0,!1),Ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Y,l=Ke();if(Z){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ne===null)throw Error(A(349));V&124||Hm(a,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,hd($m.bind(null,a,s,e),[e]),a.flags|=2048,Fa(9,br(),Lm.bind(null,a,s,n,t),null),n},useId:function(){var e=Ke(),t=ne.identifierPrefix;if(Z){var n=Ft,a=Pt;n=(a&~(1<<32-rt(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=$i++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Cb++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:So,useFormState:od,useActionState:od,useOptimistic:function(e){var t=Ke();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wo.bind(null,Y,!0,n),n.dispatch=t,[e,t]},useMemoCache:bo,useCacheRefresh:function(){return Ke().memoizedState=Bb.bind(null,Y)}},f0={readContext:$e,use:yr,useCallback:Wm,useContext:$e,useEffect:Km,useImperativeHandle:Im,useInsertionEffect:Jm,useLayoutEffect:Pm,useMemo:e0,useReducer:mi,useRef:Zm,useState:function(){return mi(an)},useDebugValue:vo,useDeferredValue:function(e,t){var n=pe();return t0(n,W.memoizedState,e,t)},useTransition:function(){var e=mi(an)[0],t=pe().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:Bm,useId:s0,useHostTransitionStatus:So,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var n=pe();return Ym(n,W,e,t)},useMemoCache:bo,useCacheRefresh:i0},Lb={readContext:$e,use:yr,useCallback:Wm,useContext:$e,useEffect:Km,useImperativeHandle:Im,useInsertionEffect:Jm,useLayoutEffect:Pm,useMemo:e0,useReducer:tu,useRef:Zm,useState:function(){return tu(an)},useDebugValue:vo,useDeferredValue:function(e,t){var n=pe();return W===null?_o(n,e,t):t0(n,W.memoizedState,e,t)},useTransition:function(){var e=tu(an)[0],t=pe().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:Bm,useId:s0,useHostTransitionStatus:So,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var n=pe();return W!==null?Ym(n,W,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:bo,useCacheRefresh:i0},Ga=null,ns=0;function Qs(e){var t=ns;return ns+=1,Ga===null&&(Ga=[]),Cm(Ga,e,t)}function bl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vs(e,t){throw t.$$typeof===my?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function md(e){var t=e._init;return t(e._payload)}function d0(e){function t(p,f){if(e){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function a(p){for(var f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function l(p,f){return p=en(p,f),p.index=0,p.sibling=null,p}function s(p,f,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=67108866,f):y):(p.flags|=67108866,f)):(p.flags|=1048576,f)}function i(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function r(p,f,y,b){return f===null||f.tag!==6?(f=Ir(y,p.mode,b),f.return=p,f):(f=l(f,y),f.return=p,f)}function c(p,f,y,b){var w=y.type;return w===Sa?g(p,f,y.props.children,b,y.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mn&&md(w)===f.type)?(f=l(f,y.props),bl(f,y),f.return=p,f):(f=di(y.type,y.key,y.props,null,p.mode,b),bl(f,y),f.return=p,f)}function o(p,f,y,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Wr(y,p.mode,b),f.return=p,f):(f=l(f,y.children||[]),f.return=p,f)}function g(p,f,y,b,w){return f===null||f.tag!==7?(f=Jn(y,p.mode,b,w),f.return=p,f):(f=l(f,y),f.return=p,f)}function d(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=Ir(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ls:return y=di(f.type,f.key,f.props,null,p.mode,y),bl(y,f),y.return=p,y;case wl:return f=Wr(f,p.mode,y),f.return=p,f;case mn:var b=f._init;return f=b(f._payload),d(p,f,y)}if(Al(f)||ml(f))return f=Jn(f,p.mode,y,null),f.return=p,f;if(typeof f.then=="function")return d(p,Qs(f),y);if(f.$$typeof===Jt)return d(p,Xs(p,f),y);Vs(p,f)}return null}function m(p,f,y,b){var w=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:r(p,f,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ls:return y.key===w?c(p,f,y,b):null;case wl:return y.key===w?o(p,f,y,b):null;case mn:return w=y._init,y=w(y._payload),m(p,f,y,b)}if(Al(y)||ml(y))return w!==null?null:g(p,f,y,b,null);if(typeof y.then=="function")return m(p,f,Qs(y),b);if(y.$$typeof===Jt)return m(p,f,Xs(p,y),b);Vs(p,y)}return null}function h(p,f,y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return p=p.get(y)||null,r(f,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ls:return p=p.get(b.key===null?y:b.key)||null,c(f,p,b,w);case wl:return p=p.get(b.key===null?y:b.key)||null,o(f,p,b,w);case mn:var E=b._init;return b=E(b._payload),h(p,f,y,b,w)}if(Al(b)||ml(b))return p=p.get(y)||null,g(f,p,b,w,null);if(typeof b.then=="function")return h(p,f,y,Qs(b),w);if(b.$$typeof===Jt)return h(p,f,y,Xs(f,b),w);Vs(f,b)}return null}function x(p,f,y,b){for(var w=null,E=null,S=f,T=f=0,j=null;S!==null&&T<y.length;T++){S.index>T?(j=S,S=null):j=S.sibling;var O=m(p,S,y[T],b);if(O===null){S===null&&(S=j);break}e&&S&&O.alternate===null&&t(p,S),f=s(O,f,T),E===null?w=O:E.sibling=O,E=O,S=j}if(T===y.length)return n(p,S),Z&&kn(p,T),w;if(S===null){for(;T<y.length;T++)S=d(p,y[T],b),S!==null&&(f=s(S,f,T),E===null?w=S:E.sibling=S,E=S);return Z&&kn(p,T),w}for(S=a(S);T<y.length;T++)j=h(S,p,T,y[T],b),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?T:j.key),f=s(j,f,T),E===null?w=j:E.sibling=j,E=j);return e&&S.forEach(function(H){return t(p,H)}),Z&&kn(p,T),w}function v(p,f,y,b){if(y==null)throw Error(A(151));for(var w=null,E=null,S=f,T=f=0,j=null,O=y.next();S!==null&&!O.done;T++,O=y.next()){S.index>T?(j=S,S=null):j=S.sibling;var H=m(p,S,O.value,b);if(H===null){S===null&&(S=j);break}e&&S&&H.alternate===null&&t(p,S),f=s(H,f,T),E===null?w=H:E.sibling=H,E=H,S=j}if(O.done)return n(p,S),Z&&kn(p,T),w;if(S===null){for(;!O.done;T++,O=y.next())O=d(p,O.value,b),O!==null&&(f=s(O,f,T),E===null?w=O:E.sibling=O,E=O);return Z&&kn(p,T),w}for(S=a(S);!O.done;T++,O=y.next())O=h(S,p,T,O.value,b),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?T:O.key),f=s(O,f,T),E===null?w=O:E.sibling=O,E=O);return e&&S.forEach(function(ee){return t(p,ee)}),Z&&kn(p,T),w}function _(p,f,y,b){if(typeof y=="object"&&y!==null&&y.type===Sa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ls:e:{for(var w=y.key;f!==null;){if(f.key===w){if(w=y.type,w===Sa){if(f.tag===7){n(p,f.sibling),b=l(f,y.props.children),b.return=p,p=b;break e}}else if(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mn&&md(w)===f.type){n(p,f.sibling),b=l(f,y.props),bl(b,y),b.return=p,p=b;break e}n(p,f);break}else t(p,f);f=f.sibling}y.type===Sa?(b=Jn(y.props.children,p.mode,b,y.key),b.return=p,p=b):(b=di(y.type,y.key,y.props,null,p.mode,b),bl(b,y),b.return=p,p=b)}return i(p);case wl:e:{for(w=y.key;f!==null;){if(f.key===w)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(p,f.sibling),b=l(f,y.children||[]),b.return=p,p=b;break e}else{n(p,f);break}else t(p,f);f=f.sibling}b=Wr(y,p.mode,b),b.return=p,p=b}return i(p);case mn:return w=y._init,y=w(y._payload),_(p,f,y,b)}if(Al(y))return x(p,f,y,b);if(ml(y)){if(w=ml(y),typeof w!="function")throw Error(A(150));return y=w.call(y),v(p,f,y,b)}if(typeof y.then=="function")return _(p,f,Qs(y),b);if(y.$$typeof===Jt)return _(p,f,Xs(p,y),b);Vs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,f!==null&&f.tag===6?(n(p,f.sibling),b=l(f,y),b.return=p,p=b):(n(p,f),b=Ir(y,p.mode,b),b.return=p,p=b),i(p)):n(p,f)}return function(p,f,y,b){try{ns=0;var w=_(p,f,y,b);return Ga=null,w}catch(S){if(S===Ss||S===pr)throw S;var E=st(29,S,null,p.mode);return E.lanes=b,E.return=p,E}finally{}}}var Ia=d0(!0),h0=d0(!1),xt=qt(null),$t=null;function yn(e){var t=e.alternate;ie(Se,Se.current&1),ie(xt,e),$t===null&&(t===null||Pa.current!==null||t.memoizedState!==null)&&($t=e)}function m0(e){if(e.tag===22){if(ie(Se,Se.current),ie(xt,e),$t===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&($t=e)}}else bn()}function bn(){ie(Se,Se.current),ie(xt,xt.current)}function Wt(e){Re(xt),$t===e&&($t=null),Re(Se)}var Se=qt(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||_c(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function nu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ut(),l=En(a);l.payload=t,n!=null&&(l.callback=n),t=Nn(e,l,a),t!==null&&(ct(t,e,a),$l(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ut(),l=En(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Nn(e,l,a),t!==null&&(ct(t,e,a),$l(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),a=En(n);a.tag=2,t!=null&&(a.callback=t),t=Nn(e,a,n),t!==null&&(ct(t,e,n),$l(t,e,n))}};function gd(e,t,n,a,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,i):t.prototype&&t.prototype.isPureReactComponent?!Wl(n,a)||!Wl(l,s):!0}function pd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&sc.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=ae({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var Yi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function g0(e){Yi(e)}function p0(e){console.error(e)}function y0(e){Yi(e)}function Xi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function yd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ic(e,t,n){return n=En(n),n.tag=3,n.payload={element:null},n.callback=function(){Xi(e,t)},n}function b0(e){return e=En(e),e.tag=3,e}function x0(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;e.payload=function(){return l(s)},e.callback=function(){yd(t,n,a)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){yd(t,n,a),typeof l!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function $b(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&vs(t,n,l,!0),n=xt.current,n!==null){switch(n.tag){case 13:return $t===null?mc():n.alternate===null&&de===0&&(de=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Iu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),hu(e,a,l)),!1;case 22:return n.flags|=65536,a===Iu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),hu(e,a,l)),!1}throw Error(A(435,n.tag))}return hu(e,a,l),mc(),!1}if(Z)return t=xt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==Zu&&(e=Error(A(422),{cause:a}),es(pt(e,n)))):(a!==Zu&&(t=Error(A(423),{cause:a}),es(pt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=pt(a,n),l=ic(e.stateNode,a,l),eu(e,l),de!==4&&(de=2)),!1;var s=Error(A(520),{cause:a});if(s=pt(s,n),Ql===null?Ql=[s]:Ql.push(s),de!==4&&(de=2),t===null)return!0;a=pt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=ic(n.stateNode,a,e),eu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(jn===null||!jn.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=b0(l),x0(l,e,n,a),eu(n,l),!1}n=n.return}while(n!==null);return!1}var v0=Error(A(461)),Te=!1;function Oe(e,t,n,a){t.child=e===null?h0(t,null,n,a):Ia(t,e.child,n,a)}function bd(e,t,n,a,l){n=n.render;var s=t.ref;if("ref"in a){var i={};for(var r in a)r!=="ref"&&(i[r]=a[r])}else i=a;return na(t),a=ho(e,t,n,i,s,l),r=mo(),e!==null&&!Te?(go(e,t,l),ln(e,t,l)):(Z&&r&&so(t),t.flags|=1,Oe(e,t,a,l),t.child)}function xd(e,t,n,a,l){if(e===null){var s=n.type;return typeof s=="function"&&!lo(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,_0(e,t,s,a,l)):(e=di(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Ao(e,l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(i,a)&&e.ref===t.ref)return ln(e,t,l)}return t.flags|=1,e=en(s,a),e.ref=t.ref,e.return=t,t.child=e}function _0(e,t,n,a,l){if(e!==null){var s=e.memoizedProps;if(Wl(s,a)&&e.ref===t.ref)if(Te=!1,t.pendingProps=a=s,Ao(e,l))e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,ln(e,t,l)}return rc(e,t,n,a,l)}function S0(e,t,n){var a=t.pendingProps,l=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return vd(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hi(t,s!==null?s.cachePool:null),s!==null?rd(t,s):tc(),m0(t);else return t.lanes=t.childLanes=536870912,vd(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(hi(t,s.cachePool),rd(t,s),bn(),t.memoizedState=null):(e!==null&&hi(t,null),tc(),bn());return Oe(e,t,l,n),t.child}function vd(e,t,n,a){var l=uo();return l=l===null?null:{parent:_e._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&hi(t,null),tc(),m0(t),e!==null&&vs(e,t,a,!0),null}function pi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rc(e,t,n,a,l){return na(t),n=ho(e,t,n,a,void 0,l),a=mo(),e!==null&&!Te?(go(e,t,l),ln(e,t,l)):(Z&&a&&so(t),t.flags|=1,Oe(e,t,n,l),t.child)}function _d(e,t,n,a,l,s){return na(t),t.updateQueue=null,n=zm(t,a,n,l),Um(e),a=mo(),e!==null&&!Te?(go(e,t,s),ln(e,t,s)):(Z&&a&&so(t),t.flags|=1,Oe(e,t,n,s),t.child)}function Sd(e,t,n,a,l){if(na(t),t.stateNode===null){var s=Oa,i=n.contextType;typeof i=="object"&&i!==null&&(s=$e(i)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},co(t),i=n.contextType,s.context=typeof i=="object"&&i!==null?$e(i):Oa,s.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(nu(t,n,i,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&sc.enqueueReplaceState(s,s.state,null),Gl(t,a,s,l),ql(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,c=la(n,r);s.props=c;var o=s.context,g=n.contextType;i=Oa,typeof g=="object"&&g!==null&&(i=$e(g));var d=n.getDerivedStateFromProps;g=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||o!==i)&&pd(t,s,a,i),gn=!1;var m=t.memoizedState;s.state=m,Gl(t,a,s,l),ql(),o=t.memoizedState,r||m!==o||gn?(typeof d=="function"&&(nu(t,n,d,a),o=t.memoizedState),(c=gn||gd(t,n,c,a,m,o,i))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),s.props=a,s.state=o,s.context=i,a=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Wu(e,t),i=t.memoizedProps,g=la(n,i),s.props=g,d=t.pendingProps,m=s.context,o=n.contextType,c=Oa,typeof o=="object"&&o!==null&&(c=$e(o)),r=n.getDerivedStateFromProps,(o=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==d||m!==c)&&pd(t,s,a,c),gn=!1,m=t.memoizedState,s.state=m,Gl(t,a,s,l),ql();var h=t.memoizedState;i!==d||m!==h||gn||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof r=="function"&&(nu(t,n,r,a),h=t.memoizedState),(g=gn||gd(t,n,g,a,m,h,c)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(o||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),s.props=a,s.state=h,s.context=c,a=g):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,pi(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Ia(t,e.child,null,l),t.child=Ia(t,null,n,l)):Oe(e,t,n,l),t.memoizedState=s.state,e=t.child):e=ln(e,t,l),e}function wd(e,t,n,a){return xs(),t.flags|=256,Oe(e,t,n,a),t.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lu(e){return{baseLanes:e,cachePool:Rm()}}function su(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yt),e}function w0(e,t,n){var a=t.pendingProps,l=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),i&&(l=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Z){if(l?yn(t):bn(),Z){var r=fe,c;if(c=r){e:{for(c=r,r=Ut;c.nodeType!==8;){if(!r){r=null;break e}if(c=Nt(c.nextSibling),c===null){r=null;break e}}r=c}r!==null?(t.memoizedState={dehydrated:r,treeContext:Pn!==null?{id:Pt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},c=st(18,null,null,0),c.stateNode=r,c.return=t,t.child=c,Ye=t,fe=null,c=!0):c=!1}c||ta(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return _c(r)?t.lanes=32:t.lanes=536870912,null;Wt(t)}return r=a.children,a=a.fallback,l?(bn(),l=t.mode,r=ki({mode:"hidden",children:r},l),a=Jn(a,l,n,null),r.return=t,a.return=t,r.sibling=a,t.child=r,l=t.child,l.memoizedState=lu(n),l.childLanes=su(e,i,n),t.memoizedState=au,a):(yn(t),uc(t,r))}if(c=e.memoizedState,c!==null&&(r=c.dehydrated,r!==null)){if(s)t.flags&256?(yn(t),t.flags&=-257,t=iu(e,t,n)):t.memoizedState!==null?(bn(),t.child=e.child,t.flags|=128,t=null):(bn(),l=a.fallback,r=t.mode,a=ki({mode:"visible",children:a.children},r),l=Jn(l,r,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Ia(t,e.child,null,n),a=t.child,a.memoizedState=lu(n),a.childLanes=su(e,i,n),t.memoizedState=au,t=l);else if(yn(t),_c(r)){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;i=o,a=Error(A(419)),a.stack="",a.digest=i,es({value:a,source:null,stack:null}),t=iu(e,t,n)}else if(Te||vs(e,t,n,!1),i=(n&e.childLanes)!==0,Te||i){if(i=ne,i!==null&&(a=n&-n,a=a&42?1:Zc(a),a=a&(i.suspendedLanes|n)?0:a,a!==0&&a!==c.retryLane))throw c.retryLane=a,il(e,a),ct(i,e,a),v0;r.data==="$?"||mc(),t=iu(e,t,n)}else r.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fe=Nt(r.nextSibling),Ye=t,Z=!0,Fn=null,Ut=!1,e!==null&&(ht[mt++]=Pt,ht[mt++]=Ft,ht[mt++]=Pn,Pt=e.id,Ft=e.overflow,Pn=t),t=uc(t,a.children),t.flags|=4096);return t}return l?(bn(),l=a.fallback,r=t.mode,c=e.child,o=c.sibling,a=en(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,o!==null?l=en(o,l):(l=Jn(l,r,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,r=e.child.memoizedState,r===null?r=lu(n):(c=r.cachePool,c!==null?(o=_e._currentValue,c=c.parent!==o?{parent:o,pool:o}:c):c=Rm(),r={baseLanes:r.baseLanes|n,cachePool:c}),l.memoizedState=r,l.childLanes=su(e,i,n),t.memoizedState=au,a):(yn(t),n=e.child,e=n.sibling,n=en(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function uc(e,t){return t=ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ki(e,t){return e=st(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function iu(e,t,n){return Ia(t,e.child,null,n),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ad(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ju(e.return,t,n)}function ru(e,t,n,a,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l)}function A0(e,t,n){var a=t.pendingProps,l=a.revealOrder,s=a.tail;if(Oe(e,t,a.children,n),a=Se.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,n,t);else if(e.tag===19)Ad(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(ie(Se,a),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Gi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ru(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ru(t,!0,n,null,s);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))if(e!==null){if(vs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ao(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function qb(e,t,n){switch(t.tag){case 3:Ti(t,t.stateNode.containerInfo),pn(t,_e,e.memoizedState.cache),xs();break;case 27:case 5:Hu(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:pn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(yn(t),t.flags|=128,null):n&t.child.childLanes?w0(e,t,n):(yn(t),e=ln(e,t,n),e!==null?e.sibling:null);yn(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(vs(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return A0(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(Se,Se.current),a)break;return null;case 22:case 23:return t.lanes=0,S0(e,t,n);case 24:pn(t,_e,e.memoizedState.cache)}return ln(e,t,n)}function E0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Te=!0;else{if(!Ao(e,n)&&!(t.flags&128))return Te=!1,qb(e,t,n);Te=!!(e.flags&131072)}else Te=!1,Z&&t.flags&1048576&&jm(t,zi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,l=a._init;if(a=l(a._payload),t.type=a,typeof a=="function")lo(a)?(e=la(a,e),t.tag=1,t=Sd(null,t,a,e,n)):(t.tag=0,t=rc(null,t,a,e,n));else{if(a!=null){if(l=a.$$typeof,l===kc){t.tag=11,t=bd(null,t,a,e,n);break e}else if(l===Qc){t.tag=14,t=xd(null,t,a,e,n);break e}}throw t=zu(a)||a,Error(A(306,t,""))}}return t;case 0:return rc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=la(a,t.pendingProps),Sd(e,t,a,l,n);case 3:e:{if(Ti(t,t.stateNode.containerInfo),e===null)throw Error(A(387));a=t.pendingProps;var s=t.memoizedState;l=s.element,Wu(e,t),Gl(t,a,null,n);var i=t.memoizedState;if(a=i.cache,pn(t,_e,a),a!==s.cache&&Pu(t,[_e],n,!0),ql(),a=i.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=wd(e,t,a,n);break e}else if(a!==l){l=pt(Error(A(424)),t),es(l),t=wd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Nt(e.firstChild),Ye=t,Z=!0,Fn=null,Ut=!0,n=h0(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(xs(),a===l){t=ln(e,t,n);break e}Oe(e,t,a,n)}t=t.child}return t;case 26:return pi(e,t),e===null?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Z||(n=t.type,e=t.pendingProps,a=Fi(An.current).createElement(n),a[Le]=t,a[Fe]=e,De(a,n,e),je(a),t.stateNode=a):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hu(t),e===null&&Z&&(a=t.stateNode=fg(t.type,t.pendingProps,An.current),Ye=t,Ut=!0,l=fe,Hn(t.type)?(Sc=l,fe=Nt(a.firstChild)):fe=l),Oe(e,t,t.pendingProps.children,n),pi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Z&&((l=a=fe)&&(a=mx(a,t.type,t.pendingProps,Ut),a!==null?(t.stateNode=a,Ye=t,fe=Nt(a.firstChild),Ut=!1,l=!0):l=!1),l||ta(t)),Hu(t),l=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,xc(l,s)?a=null:i!==null&&xc(l,i)&&(t.flags|=32),t.memoizedState!==null&&(l=ho(e,t,Mb,null,null,n),is._currentValue=l),pi(e,t),Oe(e,t,a,n),t.child;case 6:return e===null&&Z&&((e=n=fe)&&(n=gx(n,t.pendingProps,Ut),n!==null?(t.stateNode=n,Ye=t,fe=null,e=!0):e=!1),e||ta(t)),null;case 13:return w0(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ia(t,null,a,n):Oe(e,t,a,n),t.child;case 11:return bd(e,t,t.type,t.pendingProps,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,pn(t,t.type,a.value),Oe(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,na(t),l=$e(l),a=a(l),t.flags|=1,Oe(e,t,a,n),t.child;case 14:return xd(e,t,t.type,t.pendingProps,n);case 15:return _0(e,t,t.type,t.pendingProps,n);case 19:return A0(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=ki(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=en(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return S0(e,t,n);case 24:return na(t),a=$e(_e),e===null?(l=uo(),l===null&&(l=ne,s=ro(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:a,cache:l},co(t),pn(t,_e,l)):(e.lanes&n&&(Wu(e,t),Gl(t,null,null,n),ql()),l=e.memoizedState,s=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),pn(t,_e,a)):(a=s.cache,pn(t,_e,a),a!==l.cache&&Pu(t,[_e],n,!0))),Oe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function kt(e){e.flags|=4}function Ed(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!mg(t)){if(t=xt.current,t!==null&&((V&4194048)===V?$t!==null:(V&62914560)!==V&&!(V&536870912)||t!==$t))throw Ll=Iu,Om;e.flags|=8192}}function Zs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fh():536870912,e.lanes|=t,Wa|=t)}function xl(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gb(e,t,n){var a=t.pendingProps;switch(io(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(t),null;case 1:return re(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),tn(_e),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yl(t)?kt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,td())),re(t),null;case 26:return n=t.memoizedState,e===null?(kt(t),n!==null?(re(t),Ed(t,n)):(re(t),t.flags&=-16777217)):n?n!==e.memoizedState?(kt(t),re(t),Ed(t,n)):(re(t),t.flags&=-16777217):(e.memoizedProps!==a&&kt(t),re(t),t.flags&=-16777217),null;case 27:Ri(t),n=An.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&kt(t);else{if(!a){if(t.stateNode===null)throw Error(A(166));return re(t),null}e=Ht.current,yl(t)?Wf(t):(e=fg(l,a,n),t.stateNode=e,kt(t))}return re(t),null;case 5:if(Ri(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&kt(t);else{if(!a){if(t.stateNode===null)throw Error(A(166));return re(t),null}if(e=Ht.current,yl(t))Wf(t);else{switch(l=Fi(An.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}e[Le]=t,e[Fe]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(De(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&kt(t)}}return re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&kt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(A(166));if(e=An.current,yl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=Ye,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[Le]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||ug(e.nodeValue,n)),e||ta(t)}else e=Fi(e).createTextNode(a),e[Le]=t,t.stateNode=e}return re(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=yl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(A(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[Le]=t}else xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;re(t),l=!1}else l=td(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(Wt(t),t):(Wt(t),null)}if(Wt(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Zs(t,t.updateQueue),re(t),null;case 4:return Va(),e===null&&Mo(t.stateNode.containerInfo),re(t),null;case 10:return tn(t.type),re(t),null;case 19:if(Re(Se),l=t.memoizedState,l===null)return re(t),null;if(a=(t.flags&128)!==0,s=l.rendering,s===null)if(a)xl(l,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Gi(e),s!==null){for(t.flags|=128,xl(l,!1),e=s.updateQueue,t.updateQueue=e,Zs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Nm(n,e),n=n.sibling;return ie(Se,Se.current&1|2),t.child}e=e.sibling}l.tail!==null&&Lt()>Vi&&(t.flags|=128,a=!0,xl(l,!1),t.lanes=4194304)}else{if(!a)if(e=Gi(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Zs(t,e),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Z)return re(t),null}else 2*Lt()-l.renderingStartTime>Vi&&n!==536870912&&(t.flags|=128,a=!0,xl(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Lt(),t.sibling=null,e=Se.current,ie(Se,a?e&1|2:e&1),t):(re(t),null);case 22:case 23:return Wt(t),oo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(re(t),t.subtreeFlags&6&&(t.flags|=8192)):re(t),n=t.updateQueue,n!==null&&Zs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Re(In),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),tn(_e),re(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function Yb(e,t){switch(io(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(_e),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ri(t),null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Se),null;case 4:return Va(),null;case 10:return tn(t.type),null;case 22:case 23:return Wt(t),oo(),e!==null&&Re(In),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tn(_e),null;case 25:return null;default:return null}}function N0(e,t){switch(io(t),t.tag){case 3:tn(_e),Va();break;case 26:case 27:case 5:Ri(t);break;case 4:Va();break;case 13:Wt(t);break;case 19:Re(Se);break;case 10:tn(t.type);break;case 22:case 23:Wt(t),oo(),e!==null&&Re(In);break;case 24:tn(_e)}}function Es(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var s=n.create,i=n.inst;a=s(),i.destroy=a}n=n.next}while(n!==l)}}catch(r){te(t,t.return,r)}}function Un(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){var i=a.inst,r=i.destroy;if(r!==void 0){i.destroy=void 0,l=t;var c=n,o=r;try{o()}catch(g){te(l,c,g)}}}a=a.next}while(a!==s)}}catch(g){te(t,t.return,g)}}function j0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Dm(t,n)}catch(a){te(e,e.return,a)}}}function T0(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){te(e,t,a)}}function Xl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){te(e,t,l)}}function zt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){te(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){te(e,t,l)}else n.current=null}function R0(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){te(e,e.return,l)}}function uu(e,t,n){try{var a=e.stateNode;cx(a,e.type,n,t),a[Fe]=t}catch(l){te(e,e.return,l)}}function O0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wr));else if(a!==4&&(a===27&&Hn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function Qi(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Hn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qi(e,t,n),e=e.sibling;e!==null;)Qi(e,t,n),e=e.sibling}function C0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);De(t,a,n),t[Le]=e,t[Fe]=n}catch(s){te(e,e.return,s)}}var Kt=!1,me=!1,ou=!1,Nd=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Xb(e,t){if(e=e.containerInfo,yc=tr,e=bm(e),to(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,r=-1,c=-1,o=0,g=0,d=e,m=null;t:for(;;){for(var h;d!==n||l!==0&&d.nodeType!==3||(r=i+l),d!==s||a!==0&&d.nodeType!==3||(c=i+a),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)m=d,d=h;for(;;){if(d===e)break t;if(m===n&&++o===l&&(r=i),m===s&&++g===a&&(c=i),(h=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=h}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bc={focusedElem:e,selectionRange:n},tr=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){switch(t=Ne,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var x=la(n.type,l,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(x,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){te(n,n.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)vc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}}function M0(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n),a&4&&Es(5,n);break;case 1:if(cn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){te(n,n.return,i)}else{var l=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){te(n,n.return,i)}}a&64&&j0(n),a&512&&Xl(n,n.return);break;case 3:if(cn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Dm(e,t)}catch(i){te(n,n.return,i)}}break;case 27:t===null&&a&4&&C0(n);case 26:case 5:cn(e,n),t===null&&a&4&&R0(n),a&512&&Xl(n,n.return);break;case 12:cn(e,n);break;case 13:cn(e,n),a&4&&z0(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ib.bind(null,n),px(e,n))));break;case 22:if(a=n.memoizedState!==null||Kt,!a){t=t!==null&&t.memoizedState!==null||me,l=Kt;var s=me;Kt=a,(me=t)&&!s?hn(e,n,(n.subtreeFlags&8772)!==0):cn(e,n),Kt=l,me=s}break;case 30:break;default:cn(e,n)}}function D0(e){var t=e.alternate;t!==null&&(e.alternate=null,D0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,Je=!1;function Qt(e,t,n){for(n=n.child;n!==null;)U0(e,t,n),n=n.sibling}function U0(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ms,n)}catch{}switch(n.tag){case 26:me||zt(n,t),Qt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||zt(n,t);var a=le,l=Je;Hn(n.type)&&(le=n.stateNode,Je=!1),Qt(e,t,n),Zl(n.stateNode),le=a,Je=l;break;case 5:me||zt(n,t);case 6:if(a=le,l=Je,le=null,Qt(e,t,n),le=a,Je=l,le!==null)if(Je)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(n.stateNode)}catch(s){te(n,t,s)}else try{le.removeChild(n.stateNode)}catch(s){te(n,t,s)}break;case 18:le!==null&&(Je?(e=le,Ld(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),cs(e)):Ld(le,n.stateNode));break;case 4:a=le,l=Je,le=n.stateNode.containerInfo,Je=!0,Qt(e,t,n),le=a,Je=l;break;case 0:case 11:case 14:case 15:me||Un(2,n,t),me||Un(4,n,t),Qt(e,t,n);break;case 1:me||(zt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&T0(n,t,a)),Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:me=(a=me)||n.memoizedState!==null,Qt(e,t,n),me=a;break;default:Qt(e,t,n)}}function z0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cs(e)}catch(n){te(t,t.return,n)}}function kb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nd),t;default:throw Error(A(435,e.tag))}}function fu(e,t){var n=kb(e);t.forEach(function(a){var l=Wb.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}function We(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=e,i=t,r=i;e:for(;r!==null;){switch(r.tag){case 27:if(Hn(r.type)){le=r.stateNode,Je=!1;break e}break;case 5:le=r.stateNode,Je=!1;break e;case 3:case 4:le=r.stateNode.containerInfo,Je=!0;break e}r=r.return}if(le===null)throw Error(A(160));U0(s,i,l),le=null,Je=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)B0(t,e),t=t.sibling}var At=null;function B0(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:We(t,e),et(e),a&4&&(Un(3,e,e.return),Es(3,e),Un(5,e,e.return));break;case 1:We(t,e),et(e),a&512&&(me||n===null||zt(n,n.return)),a&64&&Kt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=At;if(We(t,e),et(e),a&512&&(me||n===null||zt(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[ys]||s[Le]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),De(s,a,n),s[Le]=e,je(s),a=s;break e;case"link":var i=Xd("link","href",l).get(a+(n.href||""));if(i){for(var r=0;r<i.length;r++)if(s=i[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(r,1);break t}}s=l.createElement(a),De(s,a,n),l.head.appendChild(s);break;case"meta":if(i=Xd("meta","content",l).get(a+(n.content||""))){for(r=0;r<i.length;r++)if(s=i[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(r,1);break t}}s=l.createElement(a),De(s,a,n),l.head.appendChild(s);break;default:throw Error(A(468,a))}s[Le]=e,je(s),a=s}e.stateNode=a}else kd(l,e.type,e.stateNode);else e.stateNode=Yd(l,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?kd(l,e.type,e.stateNode):Yd(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&uu(e,e.memoizedProps,n.memoizedProps)}break;case 27:We(t,e),et(e),a&512&&(me||n===null||zt(n,n.return)),n!==null&&a&4&&uu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(We(t,e),et(e),a&512&&(me||n===null||zt(n,n.return)),e.flags&32){l=e.stateNode;try{Ka(l,"")}catch(h){te(e,e.return,h)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,uu(e,l,n!==null?n.memoizedProps:l)),a&1024&&(ou=!0);break;case 6:if(We(t,e),et(e),a&4){if(e.stateNode===null)throw Error(A(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){te(e,e.return,h)}}break;case 3:if(xi=null,l=At,At=Ii(t.containerInfo),We(t,e),At=l,et(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(h){te(e,e.return,h)}ou&&(ou=!1,H0(e));break;case 4:a=At,At=Ii(e.stateNode.containerInfo),We(t,e),et(e),At=a;break;case 12:We(t,e),et(e);break;case 13:We(t,e),et(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ro=Lt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,fu(e,a)));break;case 22:l=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,o=Kt,g=me;if(Kt=o||l,me=g||c,We(t,e),me=g,Kt=o,et(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||c||Kt||me||Qn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(s=c.stateNode,l)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{r=c.stateNode;var d=c.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;r.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){te(c,c.return,h)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(h){te(c,c.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,fu(e,n))));break;case 19:We(t,e),et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,fu(e,a)));break;case 30:break;case 21:break;default:We(t,e),et(e)}}function et(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(O0(a)){n=a;break}a=a.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var l=n.stateNode,s=cu(e);Qi(e,s,l);break;case 5:var i=n.stateNode;n.flags&32&&(Ka(i,""),n.flags&=-33);var r=cu(e);Qi(e,r,i);break;case 3:case 4:var c=n.stateNode.containerInfo,o=cu(e);cc(e,o,c);break;default:throw Error(A(161))}}catch(g){te(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;H0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)M0(e,t.alternate,t),t=t.sibling}function Qn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Un(4,t,t.return),Qn(t);break;case 1:zt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&T0(t,t.return,n),Qn(t);break;case 27:Zl(t.stateNode);case 26:case 5:zt(t,t.return),Qn(t);break;case 22:t.memoizedState===null&&Qn(t);break;case 30:Qn(t);break;default:Qn(t)}e=e.sibling}}function hn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:hn(l,s,n),Es(4,s);break;case 1:if(hn(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(o){te(a,a.return,o)}if(a=s,l=a.updateQueue,l!==null){var r=a.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)Mm(c[l],r)}catch(o){te(a,a.return,o)}}n&&i&64&&j0(s),Xl(s,s.return);break;case 27:C0(s);case 26:case 5:hn(l,s,n),n&&a===null&&i&4&&R0(s),Xl(s,s.return);break;case 12:hn(l,s,n);break;case 13:hn(l,s,n),n&&i&4&&z0(l,s);break;case 22:s.memoizedState===null&&hn(l,s,n),Xl(s,s.return);break;case 30:break;default:hn(l,s,n)}t=t.sibling}}function Eo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_s(n))}function No(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_s(e))}function Ot(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L0(e,t,n,a),t=t.sibling}function L0(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ot(e,t,n,a),l&2048&&Es(9,t);break;case 1:Ot(e,t,n,a);break;case 3:Ot(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_s(e)));break;case 12:if(l&2048){Ot(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,r=s.onPostCommit;typeof r=="function"&&r(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){te(t,t.return,c)}}else Ot(e,t,n,a);break;case 13:Ot(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,t.memoizedState!==null?s._visibility&2?Ot(e,t,n,a):kl(e,t):s._visibility&2?Ot(e,t,n,a):(s._visibility|=2,ba(e,t,n,a,(t.subtreeFlags&10256)!==0)),l&2048&&Eo(i,t);break;case 24:Ot(e,t,n,a),l&2048&&No(t.alternate,t);break;default:Ot(e,t,n,a)}}function ba(e,t,n,a,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,i=t,r=n,c=a,o=i.flags;switch(i.tag){case 0:case 11:case 15:ba(s,i,r,c,l),Es(8,i);break;case 23:break;case 22:var g=i.stateNode;i.memoizedState!==null?g._visibility&2?ba(s,i,r,c,l):kl(s,i):(g._visibility|=2,ba(s,i,r,c,l)),l&&o&2048&&Eo(i.alternate,i);break;case 24:ba(s,i,r,c,l),l&&o&2048&&No(i.alternate,i);break;default:ba(s,i,r,c,l)}t=t.sibling}}function kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:kl(n,a),l&2048&&Eo(a.alternate,a);break;case 24:kl(n,a),l&2048&&No(a.alternate,a);break;default:kl(n,a)}t=t.sibling}}var Nl=8192;function oa(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)$0(e),e=e.sibling}function $0(e){switch(e.tag){case 26:oa(e),e.flags&Nl&&e.memoizedState!==null&&Rx(At,e.memoizedState,e.memoizedProps);break;case 5:oa(e);break;case 3:case 4:var t=At;At=Ii(e.stateNode.containerInfo),oa(e),At=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Nl,Nl=16777216,oa(e),Nl=t):oa(e));break;default:oa(e)}}function q0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ne=a,Y0(a,e)}q0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G0(e),e=e.sibling}function G0(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Un(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yi(e)):vl(e);break;default:vl(e)}}function yi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ne=a,Y0(a,e)}q0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Un(8,t,t.return),yi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,yi(t));break;default:yi(t)}e=e.sibling}}function Y0(e,t){for(;Ne!==null;){var n=Ne;switch(n.tag){case 0:case 11:case 15:Un(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_s(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ne=a;else e:for(n=e;Ne!==null;){a=Ne;var l=a.sibling,s=a.return;if(D0(a),a===n){Ne=null;break e}if(l!==null){l.return=s,Ne=l;break e}Ne=s}}}var Qb={getCacheForType:function(e){var t=$e(_e),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Vb=typeof WeakMap=="function"?WeakMap:Map,P=0,ne=null,Q=null,V=0,J=0,lt=null,Sn=!1,rl=!1,jo=!1,sn=0,de=0,zn=0,Wn=0,To=0,yt=0,Wa=0,Ql=null,Pe=null,oc=!1,Ro=0,Vi=1/0,Zi=null,jn=null,Me=0,Tn=null,el=null,Ya=0,fc=0,dc=null,X0=null,Vl=0,hc=null;function ut(){if(P&2&&V!==0)return V&-V;if(U.T!==null){var e=Ja;return e!==0?e:Co()}return em()}function k0(){yt===0&&(yt=!(V&536870912)||Z?Ph():536870912);var e=xt.current;return e!==null&&(e.flags|=32),yt}function ct(e,t,n){(e===ne&&(J===2||J===9)||e.cancelPendingCommit!==null)&&(tl(e,0),wn(e,V,yt,!1)),ps(e,n),(!(P&2)||e!==ne)&&(e===ne&&(!(P&2)&&(Wn|=n),de===4&&wn(e,V,yt,!1)),Gt(e))}function Q0(e,t,n){if(P&6)throw Error(A(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||gs(e,t),l=a?Jb(e,t):du(e,t,!0),s=a;do{if(l===0){rl&&!a&&wn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Zb(n)){l=du(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var r=e;l=Ql;var c=r.current.memoizedState.isDehydrated;if(c&&(tl(r,i).flags|=256),i=du(r,i,!1),i!==2){if(jo&&!c){r.errorRecoveryDisabledLanes|=s,Wn|=s,l=4;break e}s=Pe,Pe=l,s!==null&&(Pe===null?Pe=s:Pe.push.apply(Pe,s))}l=i}if(s=!1,l!==2)continue}}if(l===1){tl(e,0),wn(e,t,0,!0);break}e:{switch(a=e,s=l,s){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:wn(a,t,yt,!Sn);break e;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(l=Ro+300-Lt(),10<l)){if(wn(a,t,yt,!Sn),or(a,0,!0)!==0)break e;a.timeoutHandle=og(jd.bind(null,a,n,Pe,Zi,oc,t,yt,Wn,Wa,Sn,s,2,-0,0),l);break e}jd(a,n,Pe,Zi,oc,t,yt,Wn,Wa,Sn,s,0,-0,0)}}break}while(!0);Gt(e)}function jd(e,t,n,a,l,s,i,r,c,o,g,d,m,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(ss={stylesheets:null,count:0,unsuspend:Tx},$0(t),d=Ox(),d!==null)){e.cancelPendingCommit=d(Rd.bind(null,e,t,s,n,a,l,i,r,c,g,1,m,h)),wn(e,s,i,!o);return}Rd(e,t,s,n,a,l,i,r,c)}function Zb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!ot(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t,n,a){t&=~To,t&=~Wn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var s=31-rt(l),i=1<<s;a[s]=-1,l&=~i}n!==0&&Ih(e,n,t)}function vr(){return P&6?!0:(Ns(0),!1)}function Oo(){if(Q!==null){if(J===0)var e=Q.return;else e=Q,It=ca=null,po(e),Ga=null,ns=0,e=Q;for(;e!==null;)N0(e.alternate,e),e=e.return;Q=null}}function tl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Oo(),ne=e,Q=n=en(e.current,null),V=t,J=0,lt=null,Sn=!1,rl=gs(e,t),jo=!1,Wa=yt=To=Wn=zn=de=0,Pe=Ql=null,oc=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-rt(a),s=1<<l;t|=e[l],a&=~s}return sn=t,mr(),n}function V0(e,t){Y=null,U.H=qi,t===Ss||t===pr?(t=sd(),J=3):t===Om?(t=sd(),J=4):J=t===v0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,lt=t,Q===null&&(de=1,Xi(e,pt(t,e.current)))}function Z0(){var e=U.H;return U.H=qi,e===null?qi:e}function K0(){var e=U.A;return U.A=Qb,e}function mc(){de=4,Sn||(V&4194048)!==V&&xt.current!==null||(rl=!0),!(zn&134217727)&&!(Wn&134217727)||ne===null||wn(ne,V,yt,!1)}function du(e,t,n){var a=P;P|=2;var l=Z0(),s=K0();(ne!==e||V!==t)&&(Zi=null,tl(e,t)),t=!1;var i=de;e:do try{if(J!==0&&Q!==null){var r=Q,c=lt;switch(J){case 8:Oo(),i=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var o=J;if(J=0,lt=null,Da(e,r,c,o),n&&rl){i=0;break e}break;default:o=J,J=0,lt=null,Da(e,r,c,o)}}Kb(),i=de;break}catch(g){V0(e,g)}while(!0);return t&&e.shellSuspendCounter++,It=ca=null,P=a,U.H=l,U.A=s,Q===null&&(ne=null,V=0,mr()),i}function Kb(){for(;Q!==null;)J0(Q)}function Jb(e,t){var n=P;P|=2;var a=Z0(),l=K0();ne!==e||V!==t?(Zi=null,Vi=Lt()+500,tl(e,t)):rl=gs(e,t);e:do try{if(J!==0&&Q!==null){t=Q;var s=lt;t:switch(J){case 1:J=0,lt=null,Da(e,t,s,1);break;case 2:case 9:if(ld(s)){J=0,lt=null,Td(t);break}t=function(){J!==2&&J!==9||ne!==e||(J=7),Gt(e)},s.then(t,t);break e;case 3:J=7;break e;case 4:J=5;break e;case 7:ld(s)?(J=0,lt=null,Td(t)):(J=0,lt=null,Da(e,t,s,7));break;case 5:var i=null;switch(Q.tag){case 26:i=Q.memoizedState;case 5:case 27:var r=Q;if(!i||mg(i)){J=0,lt=null;var c=r.sibling;if(c!==null)Q=c;else{var o=r.return;o!==null?(Q=o,_r(o)):Q=null}break t}}J=0,lt=null,Da(e,t,s,5);break;case 6:J=0,lt=null,Da(e,t,s,6);break;case 8:Oo(),de=6;break e;default:throw Error(A(462))}}Pb();break}catch(g){V0(e,g)}while(!0);return It=ca=null,U.H=a,U.A=l,P=n,Q!==null?0:(ne=null,V=0,mr(),de)}function Pb(){for(;Q!==null&&!by();)J0(Q)}function J0(e){var t=E0(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?_r(e):Q=t}function Td(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_d(n,t,t.pendingProps,t.type,void 0,V);break;case 11:t=_d(n,t,t.pendingProps,t.type.render,t.ref,V);break;case 5:po(t);default:N0(n,t),t=Q=Nm(t,sn),t=E0(n,t,sn)}e.memoizedProps=e.pendingProps,t===null?_r(e):Q=t}function Da(e,t,n,a){It=ca=null,po(t),Ga=null,ns=0;var l=t.return;try{if($b(e,l,t,n,V)){de=1,Xi(e,pt(n,e.current)),Q=null;return}}catch(s){if(l!==null)throw Q=l,s;de=1,Xi(e,pt(n,e.current)),Q=null;return}t.flags&32768?(Z||a===1?e=!0:rl||V&536870912?e=!1:(Sn=e=!0,(a===2||a===9||a===3||a===6)&&(a=xt.current,a!==null&&a.tag===13&&(a.flags|=16384))),P0(t,e)):_r(t)}function _r(e){var t=e;do{if(t.flags&32768){P0(t,Sn);return}e=t.return;var n=Gb(t.alternate,t,sn);if(n!==null){Q=n;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);de===0&&(de=5)}function P0(e,t){do{var n=Yb(e.alternate,e);if(n!==null){n.flags&=32767,Q=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Q=e;return}Q=e=n}while(e!==null);de=6,Q=null}function Rd(e,t,n,a,l,s,i,r,c){e.cancelPendingCommit=null;do Sr();while(Me!==0);if(P&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(s=t.lanes|t.childLanes,s|=no,Ty(e,n,s,i,r,c),e===ne&&(Q=ne=null,V=0),el=t,Tn=e,Ya=n,fc=s,dc=l,X0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ex(Oi,function(){return tg(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=U.T,U.T=null,l=K.p,K.p=2,i=P,P|=4;try{Xb(e,t,n)}finally{P=i,K.p=l,U.T=a}}Me=1,F0(),I0(),W0()}}function F0(){if(Me===1){Me=0;var e=Tn,t=el,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=U.T,U.T=null;var a=K.p;K.p=2;var l=P;P|=4;try{B0(t,e);var s=bc,i=bm(e.containerInfo),r=s.focusedElem,c=s.selectionRange;if(i!==r&&r&&r.ownerDocument&&ym(r.ownerDocument.documentElement,r)){if(c!==null&&to(r)){var o=c.start,g=c.end;if(g===void 0&&(g=o),"selectionStart"in r)r.selectionStart=o,r.selectionEnd=Math.min(g,r.value.length);else{var d=r.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var h=m.getSelection(),x=r.textContent.length,v=Math.min(c.start,x),_=c.end===void 0?v:Math.min(c.end,x);!h.extend&&v>_&&(i=_,_=v,v=i);var p=Pf(r,v),f=Pf(r,_);if(p&&f&&(h.rangeCount!==1||h.anchorNode!==p.node||h.anchorOffset!==p.offset||h.focusNode!==f.node||h.focusOffset!==f.offset)){var y=d.createRange();y.setStart(p.node,p.offset),h.removeAllRanges(),v>_?(h.addRange(y),h.extend(f.node,f.offset)):(y.setEnd(f.node,f.offset),h.addRange(y))}}}}for(d=[],h=r;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<d.length;r++){var b=d[r];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}tr=!!yc,bc=yc=null}finally{P=l,K.p=a,U.T=n}}e.current=t,Me=2}}function I0(){if(Me===2){Me=0;var e=Tn,t=el,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=U.T,U.T=null;var a=K.p;K.p=2;var l=P;P|=4;try{M0(e,t.alternate,t)}finally{P=l,K.p=a,U.T=n}}Me=3}}function W0(){if(Me===4||Me===3){Me=0,xy();var e=Tn,t=el,n=Ya,a=X0;t.subtreeFlags&10256||t.flags&10256?Me=5:(Me=0,el=Tn=null,eg(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(jn=null),Kc(n),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ms,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=U.T,l=K.p,K.p=2,U.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var r=a[i];s(r.value,{componentStack:r.stack})}}finally{U.T=t,K.p=l}}Ya&3&&Sr(),Gt(e),l=e.pendingLanes,n&4194090&&l&42?e===hc?Vl++:(Vl=0,hc=e):Vl=0,Ns(0)}}function eg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_s(t)))}function Sr(e){return F0(),I0(),W0(),tg()}function tg(){if(Me!==5)return!1;var e=Tn,t=fc;fc=0;var n=Kc(Ya),a=U.T,l=K.p;try{K.p=32>n?32:n,U.T=null,n=dc,dc=null;var s=Tn,i=Ya;if(Me=0,el=Tn=null,Ya=0,P&6)throw Error(A(331));var r=P;if(P|=4,G0(s.current),L0(s,s.current,i,n),P=r,Ns(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ms,s)}catch{}return!0}finally{K.p=l,U.T=a,eg(e,t)}}function Od(e,t,n){t=pt(n,t),t=ic(e.stateNode,t,2),e=Nn(e,t,2),e!==null&&(ps(e,2),Gt(e))}function te(e,t,n){if(e.tag===3)Od(e,e,n);else for(;t!==null;){if(t.tag===3){Od(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))){e=pt(n,e),n=b0(2),a=Nn(t,n,2),a!==null&&(x0(n,a,t,e),ps(a,2),Gt(a));break}}t=t.return}}function hu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Vb;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(jo=!0,l.add(n),e=Fb.bind(null,e,t,n),t.then(e,e))}function Fb(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ne===e&&(V&n)===n&&(de===4||de===3&&(V&62914560)===V&&300>Lt()-Ro?!(P&2)&&tl(e,0):To|=n,Wa===V&&(Wa=0)),Gt(e)}function ng(e,t){t===0&&(t=Fh()),e=il(e,t),e!==null&&(ps(e,t),Gt(e))}function Ib(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ng(e,n)}function Wb(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(A(314))}a!==null&&a.delete(t),ng(e,n)}function ex(e,t){return Vc(e,t)}var Ki=null,xa=null,gc=!1,Ji=!1,mu=!1,ea=0;function Gt(e){e!==xa&&e.next===null&&(xa===null?Ki=xa=e:xa=xa.next=e),Ji=!0,gc||(gc=!0,nx())}function Ns(e,t){if(!mu&&Ji){mu=!0;do for(var n=!1,a=Ki;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var i=a.suspendedLanes,r=a.pingedLanes;s=(1<<31-rt(42|e)+1)-1,s&=l&~(i&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Cd(a,s))}else s=V,s=or(a,a===ne?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||gs(a,s)||(n=!0,Cd(a,s));a=a.next}while(n);mu=!1}}function tx(){ag()}function ag(){Ji=gc=!1;var e=0;ea!==0&&(ox()&&(e=ea),ea=0);for(var t=Lt(),n=null,a=Ki;a!==null;){var l=a.next,s=lg(a,t);s===0?(a.next=null,n===null?Ki=l:n.next=l,l===null&&(xa=n)):(n=a,(e!==0||s&3)&&(Ji=!0)),a=l}Ns(e)}function lg(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var i=31-rt(s),r=1<<i,c=l[i];c===-1?(!(r&n)||r&a)&&(l[i]=jy(r,t)):c<=t&&(e.expiredLanes|=r),s&=~r}if(t=ne,n=V,n=or(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(J===2||J===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&qr(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||gs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&qr(a),Kc(n)){case 2:case 8:n=Kh;break;case 32:n=Oi;break;case 268435456:n=Jh;break;default:n=Oi}return a=sg.bind(null,e),n=Vc(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&qr(a),e.callbackPriority=2,e.callbackNode=null,2}function sg(e,t){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var a=V;return a=or(e,e===ne?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Q0(e,a,t),lg(e,Lt()),e.callbackNode!=null&&e.callbackNode===n?sg.bind(null,e):null)}function Cd(e,t){if(Sr())return null;Q0(e,t,!0)}function nx(){dx(function(){P&6?Vc(Zh,tx):ag()})}function Co(){return ea===0&&(ea=Ph()),ea}function Md(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ci(""+e)}function Dd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ax(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var s=Md((l[Fe]||null).action),i=a.submitter;i&&(t=(t=i[Fe]||null)?Md(t.formAction):i.getAttribute("formAction"),t!==null&&(s=t,i=null));var r=new fr("action","action",null,a,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ea!==0){var c=i?Dd(l,i):new FormData(l);lc(n,{pending:!0,data:c,method:l.method,action:s},null,c)}}else typeof s=="function"&&(r.preventDefault(),c=i?Dd(l,i):new FormData(l),lc(n,{pending:!0,data:c,method:l.method,action:s},s,c))},currentTarget:l}]})}}for(var gu=0;gu<Vu.length;gu++){var pu=Vu[gu],lx=pu.toLowerCase(),sx=pu[0].toUpperCase()+pu.slice(1);jt(lx,"on"+sx)}jt(vm,"onAnimationEnd");jt(_m,"onAnimationIteration");jt(Sm,"onAnimationStart");jt("dblclick","onDoubleClick");jt("focusin","onFocus");jt("focusout","onBlur");jt(Sb,"onTransitionRun");jt(wb,"onTransitionStart");jt(Ab,"onTransitionCancel");jt(wm,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(as));function ig(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var r=a[i],c=r.instance,o=r.currentTarget;if(r=r.listener,c!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=o;try{s(l)}catch(g){Yi(g)}l.currentTarget=null,s=c}else for(i=0;i<a.length;i++){if(r=a[i],c=r.instance,o=r.currentTarget,r=r.listener,c!==s&&l.isPropagationStopped())break e;s=r,l.currentTarget=o;try{s(l)}catch(g){Yi(g)}l.currentTarget=null,s=c}}}}function k(e,t){var n=t[$u];n===void 0&&(n=t[$u]=new Set);var a=e+"__bubble";n.has(a)||(rg(t,e,2,!1),n.add(a))}function yu(e,t,n){var a=0;t&&(a|=4),rg(n,e,a,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function Mo(e){if(!e[Ks]){e[Ks]=!0,tm.forEach(function(n){n!=="selectionchange"&&(ix.has(n)||yu(n,!1,e),yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,yu("selectionchange",!1,t))}}function rg(e,t,n,a){switch(xg(t)){case 2:var l=Dx;break;case 8:l=Ux;break;default:l=Bo}n=l.bind(null,t,n,e),l=void 0,!Xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function bu(e,t,n,a,l){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var r=a.stateNode.containerInfo;if(r===l)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===l)return;i=i.return}for(;r!==null;){if(i=Aa(r),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){a=s=i;continue e}r=r.parentNode}}a=a.return}cm(function(){var o=s,g=Fc(n),d=[];e:{var m=Am.get(e);if(m!==void 0){var h=fr,x=e;switch(e){case"keypress":if(fi(n)===0)break e;case"keydown":case"keyup":h=eb;break;case"focusin":x="focus",h=Kr;break;case"focusout":x="blur",h=Kr;break;case"beforeblur":case"afterblur":h=Kr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Yy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ab;break;case vm:case _m:case Sm:h=Qy;break;case wm:h=sb;break;case"scroll":case"scrollend":h=qy;break;case"wheel":h=rb;break;case"copy":case"cut":case"paste":h=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Yf;break;case"toggle":case"beforetoggle":h=cb}var v=(t&4)!==0,_=!v&&(e==="scroll"||e==="scrollend"),p=v?m!==null?m+"Capture":null:m;v=[];for(var f=o,y;f!==null;){var b=f;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||p===null||(b=Fl(f,p),b!=null&&v.push(ls(f,b,y))),_)break;f=f.return}0<v.length&&(m=new h(m,x,null,n,g),d.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==Yu&&(x=n.relatedTarget||n.fromElement)&&(Aa(x)||x[ll]))break e;if((h||m)&&(m=g.window===g?g:(m=g.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=n.relatedTarget||n.toElement,h=o,x=x?Aa(x):null,x!==null&&(_=hs(x),v=x.tag,x!==_||v!==5&&v!==27&&v!==6)&&(x=null)):(h=null,x=o),h!==x)){if(v=qf,b="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Yf,b="onPointerLeave",p="onPointerEnter",f="pointer"),_=h==null?m:El(h),y=x==null?m:El(x),m=new v(b,f+"leave",h,n,g),m.target=_,m.relatedTarget=y,b=null,Aa(g)===o&&(v=new v(p,f+"enter",x,n,g),v.target=y,v.relatedTarget=_,b=v),_=b,h&&x)t:{for(v=h,p=x,f=0,y=v;y;y=fa(y))f++;for(y=0,b=p;b;b=fa(b))y++;for(;0<f-y;)v=fa(v),f--;for(;0<y-f;)p=fa(p),y--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=fa(v),p=fa(p)}v=null}else v=null;h!==null&&Ud(d,m,h,v,!1),x!==null&&_!==null&&Ud(d,_,x,v,!0)}}e:{if(m=o?El(o):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var w=Vf;else if(Qf(m))if(gm)w=xb;else{w=yb;var E=pb}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?o&&Pc(o.elementType)&&(w=Vf):w=bb;if(w&&(w=w(e,o))){mm(d,w,n,g);break e}E&&E(e,m,o),e==="focusout"&&o&&m.type==="number"&&o.memoizedProps.value!=null&&Gu(m,"number",m.value)}switch(E=o?El(o):window,e){case"focusin":(Qf(E)||E.contentEditable==="true")&&(ja=E,ku=o,Bl=null);break;case"focusout":Bl=ku=ja=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Ff(d,n,g);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":Ff(d,n,g)}var S;if(eo)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Na?dm(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(fm&&n.locale!=="ko"&&(Na||T!=="onCompositionStart"?T==="onCompositionEnd"&&Na&&(S=om()):(_n=g,Ic="value"in _n?_n.value:_n.textContent,Na=!0)),E=Pi(o,T),0<E.length&&(T=new Gf(T,e,null,n,g),d.push({event:T,listeners:E}),S?T.data=S:(S=hm(n),S!==null&&(T.data=S)))),(S=fb?db(e,n):hb(e,n))&&(T=Pi(o,"onBeforeInput"),0<T.length&&(E=new Gf("onBeforeInput","beforeinput",null,n,g),d.push({event:E,listeners:T}),E.data=S)),ax(d,e,o,n,g)}ig(d,t)})}function ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pi(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Fl(e,n),l!=null&&a.unshift(ls(e,l,s)),l=Fl(e,t),l!=null&&a.push(ls(e,l,s))),e.tag===3)return a;e=e.return}return[]}function fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ud(e,t,n,a,l){for(var s=t._reactName,i=[];n!==null&&n!==a;){var r=n,c=r.alternate,o=r.stateNode;if(r=r.tag,c!==null&&c===a)break;r!==5&&r!==26&&r!==27||o===null||(c=o,l?(o=Fl(n,s),o!=null&&i.unshift(ls(n,o,c))):l||(o=Fl(n,s),o!=null&&i.push(ls(n,o,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var rx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(rx,`
`).replace(ux,"")}function ug(e,t){return t=zd(t),zd(e)===t}function wr(){}function I(e,t,n,a,l,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ka(e,""+a);break;case"className":Gs(e,"class",a);break;case"tabIndex":Gs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(e,n,a);break;case"style":um(e,a,s);break;case"data":if(t!=="object"){Gs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ci(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&I(e,t,"name",l.name,l,null),I(e,t,"formEncType",l.formEncType,l,null),I(e,t,"formMethod",l.formMethod,l,null),I(e,t,"formTarget",l.formTarget,l,null)):(I(e,t,"encType",l.encType,l,null),I(e,t,"method",l.method,l,null),I(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ci(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=wr);break;case"onScroll":a!=null&&k("scroll",e);break;case"onScrollEnd":a!=null&&k("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(A(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ci(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":k("beforetoggle",e),k("toggle",e),ui(e,"popover",a);break;case"xlinkActuate":Xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Xt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Xt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Xt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Xt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ui(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ly.get(n)||n,ui(e,n,a))}}function pc(e,t,n,a,l,s){switch(n){case"style":um(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(A(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&Ka(e,""+a);break;case"onScroll":a!=null&&k("scroll",e);break;case"onScrollEnd":a!=null&&k("scrollend",e);break;case"onClick":a!=null&&(e.onclick=wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[Fe]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ui(e,n,a)}}}function De(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":k("error",e),k("load",e);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var i=n[s];if(i!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:I(e,t,s,i,n,null)}}l&&I(e,t,"srcSet",n.srcSet,n,null),a&&I(e,t,"src",n.src,n,null);return;case"input":k("invalid",e);var r=s=i=l=null,c=null,o=null;for(a in n)if(n.hasOwnProperty(a)){var g=n[a];if(g!=null)switch(a){case"name":l=g;break;case"type":i=g;break;case"checked":c=g;break;case"defaultChecked":o=g;break;case"value":s=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(A(137,t));break;default:I(e,t,a,g,n,null)}}sm(e,s,r,c,o,i,l,!1),Ci(e);return;case"select":k("invalid",e),a=i=s=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":s=r;break;case"defaultValue":i=r;break;case"multiple":a=r;default:I(e,t,l,r,n,null)}t=s,n=i,e.multiple=!!a,t!=null?Ba(e,!!a,t,!1):n!=null&&Ba(e,!!a,n,!0);return;case"textarea":k("invalid",e),s=l=a=null;for(i in n)if(n.hasOwnProperty(i)&&(r=n[i],r!=null))switch(i){case"value":a=r;break;case"defaultValue":l=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(A(91));break;default:I(e,t,i,r,n,null)}rm(e,a,l,s),Ci(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:I(e,t,c,a,n,null)}return;case"dialog":k("beforetoggle",e),k("toggle",e),k("cancel",e),k("close",e);break;case"iframe":case"object":k("load",e);break;case"video":case"audio":for(a=0;a<as.length;a++)k(as[a],e);break;case"image":k("error",e),k("load",e);break;case"details":k("toggle",e);break;case"embed":case"source":case"link":k("error",e),k("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:I(e,t,o,a,n,null)}return;default:if(Pc(t)){for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!==void 0&&pc(e,t,g,a,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(a=n[r],a!=null&&I(e,t,r,a,n,null))}function cx(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,i=null,r=null,c=null,o=null,g=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=d;default:a.hasOwnProperty(h)||I(e,t,h,null,a,d)}}for(var m in a){var h=a[m];if(d=n[m],a.hasOwnProperty(m)&&(h!=null||d!=null))switch(m){case"type":s=h;break;case"name":l=h;break;case"checked":o=h;break;case"defaultChecked":g=h;break;case"value":i=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,t));break;default:h!==d&&I(e,t,m,h,a,d)}}qu(e,i,r,c,o,g,s,l);return;case"select":h=i=r=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(s)||I(e,t,s,null,a,c)}for(l in a)if(s=a[l],c=n[l],a.hasOwnProperty(l)&&(s!=null||c!=null))switch(l){case"value":m=s;break;case"defaultValue":r=s;break;case"multiple":i=s;default:s!==c&&I(e,t,l,s,a,c)}t=r,n=i,a=h,m!=null?Ba(e,!!n,m,!1):!!a!=!!n&&(t!=null?Ba(e,!!n,t,!0):Ba(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:I(e,t,r,null,a,l)}for(i in a)if(l=a[i],s=n[i],a.hasOwnProperty(i)&&(l!=null||s!=null))switch(i){case"value":m=l;break;case"defaultValue":h=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:l!==s&&I(e,t,i,l,a,s)}im(e,m,h);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!a.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:I(e,t,x,null,a,m)}for(c in a)if(m=a[c],h=n[c],a.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:I(e,t,c,m,a,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!a.hasOwnProperty(v)&&I(e,t,v,null,a,m);for(o in a)if(m=a[o],h=n[o],a.hasOwnProperty(o)&&m!==h&&(m!=null||h!=null))switch(o){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,t));break;default:I(e,t,o,m,a,h)}return;default:if(Pc(t)){for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!==void 0&&!a.hasOwnProperty(_)&&pc(e,t,_,void 0,a,m);for(g in a)m=a[g],h=n[g],!a.hasOwnProperty(g)||m===h||m===void 0&&h===void 0||pc(e,t,g,m,a,h);return}}for(var p in n)m=n[p],n.hasOwnProperty(p)&&m!=null&&!a.hasOwnProperty(p)&&I(e,t,p,null,a,m);for(d in a)m=a[d],h=n[d],!a.hasOwnProperty(d)||m===h||m==null&&h==null||I(e,t,d,m,a,h)}var yc=null,bc=null;function Fi(e){return e.nodeType===9?e:e.ownerDocument}function Bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=null;function ox(){var e=window.event;return e&&e.type==="popstate"?e===xu?!1:(xu=e,!0):(xu=null,!1)}var og=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(e){return Hd.resolve(null).then(e).catch(hx)}:og;function hx(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Ld(e,t){var n=t,a=0,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<a&&8>a){n=a;var i=e.ownerDocument;if(n&1&&Zl(i.documentElement),n&2&&Zl(i.body),n&4)for(n=i.head,Zl(n),i=n.firstChild;i;){var r=i.nextSibling,c=i.nodeName;i[ys]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}if(l===0){e.removeChild(s),cs(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);cs(t)}function vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vc(n),Jc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function mx(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ys])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Nt(e.nextSibling),e===null)break}return null}function gx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nt(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function px(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Sc=null;function $d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function fg(e,t,n){switch(t=Fi(n),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function Zl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jc(e)}var vt=new Map,qd=new Set;function Ii(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rn=K.d;K.d={f:yx,r:bx,D:xx,C:vx,L:_x,m:Sx,X:Ax,S:wx,M:Ex};function yx(){var e=rn.f(),t=vr();return e||t}function bx(e){var t=sl(e);t!==null&&t.tag===5&&t.type==="form"?l0(t):rn.r(e)}var ul=typeof document>"u"?null:document;function dg(e,t,n){var a=ul;if(a&&typeof t=="string"&&t){var l=gt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),qd.has(l)||(qd.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),De(t,"link",e),je(t),a.head.appendChild(t)))}}function xx(e){rn.D(e),dg("dns-prefetch",e,null)}function vx(e,t){rn.C(e,t),dg("preconnect",e,t)}function _x(e,t,n){rn.L(e,t,n);var a=ul;if(a&&e&&t){var l='link[rel="preload"][as="'+gt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+gt(n.imageSizes)+'"]')):l+='[href="'+gt(e)+'"]';var s=l;switch(t){case"style":s=nl(e);break;case"script":s=cl(e)}vt.has(s)||(e=ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),vt.set(s,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(js(s))||t==="script"&&a.querySelector(Ts(s))||(t=a.createElement("link"),De(t,"link",e),je(t),a.head.appendChild(t)))}}function Sx(e,t){rn.m(e,t);var n=ul;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+gt(a)+'"][href="'+gt(e)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=cl(e)}if(!vt.has(s)&&(e=ae({rel:"modulepreload",href:e},t),vt.set(s,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ts(s)))return}a=n.createElement("link"),De(a,"link",e),je(a),n.head.appendChild(a)}}}function wx(e,t,n){rn.S(e,t,n);var a=ul;if(a&&e){var l=za(a).hoistableStyles,s=nl(e);t=t||"default";var i=l.get(s);if(!i){var r={loading:0,preload:null};if(i=a.querySelector(js(s)))r.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=vt.get(s))&&Do(e,n);var c=i=a.createElement("link");je(c),De(c,"link",e),c._p=new Promise(function(o,g){c.onload=o,c.onerror=g}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,bi(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:r},l.set(s,i)}}}function Ax(e,t){rn.X(e,t);var n=ul;if(n&&e){var a=za(n).hoistableScripts,l=cl(e),s=a.get(l);s||(s=n.querySelector(Ts(l)),s||(e=ae({src:e,async:!0},t),(t=vt.get(l))&&Uo(e,t),s=n.createElement("script"),je(s),De(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Ex(e,t){rn.M(e,t);var n=ul;if(n&&e){var a=za(n).hoistableScripts,l=cl(e),s=a.get(l);s||(s=n.querySelector(Ts(l)),s||(e=ae({src:e,async:!0,type:"module"},t),(t=vt.get(l))&&Uo(e,t),s=n.createElement("script"),je(s),De(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Gd(e,t,n,a){var l=(l=An.current)?Ii(l):null;if(!l)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=nl(n.href),n=za(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=nl(n.href);var s=za(l).hoistableStyles,i=s.get(e);if(i||(l=l.ownerDocument||l,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,i),(s=l.querySelector(js(e)))&&!s._p&&(i.instance=s,i.state.loading=5),vt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},vt.set(e,n),s||Nx(l,e,n,i.state))),t&&a===null)throw Error(A(528,""));return i}if(t&&a!==null)throw Error(A(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cl(n),n=za(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function nl(e){return'href="'+gt(e)+'"'}function js(e){return'link[rel="stylesheet"]['+e+"]"}function hg(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function Nx(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),De(t,"link",n),je(t),e.head.appendChild(t))}function cl(e){return'[src="'+gt(e)+'"]'}function Ts(e){return"script[async]"+e}function Yd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(a)return t.instance=a,je(a),a;var l=ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),je(a),De(a,"style",l),bi(a,n.precedence,e),t.instance=a;case"stylesheet":l=nl(n.href);var s=e.querySelector(js(l));if(s)return t.state.loading|=4,t.instance=s,je(s),s;a=hg(n),(l=vt.get(l))&&Do(a,l),s=(e.ownerDocument||e).createElement("link"),je(s);var i=s;return i._p=new Promise(function(r,c){i.onload=r,i.onerror=c}),De(s,"link",a),t.state.loading|=4,bi(s,n.precedence,e),t.instance=s;case"script":return s=cl(n.src),(l=e.querySelector(Ts(s)))?(t.instance=l,je(l),l):(a=n,(l=vt.get(s))&&(a=ae({},n),Uo(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),je(l),De(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,bi(a,n.precedence,e));return t.instance}function bi(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,i=0;i<a.length;i++){var r=a[i];if(r.dataset.precedence===t)s=r;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Do(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Uo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xi=null;function Xd(e,t,n){if(xi===null){var a=new Map,l=xi=new Map;l.set(n,a)}else l=xi,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[ys]||s[Le]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(t)||"";i=e+i;var r=a.get(i);r?r.push(s):a.set(i,[s])}}return a}function kd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function jx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ss=null;function Tx(){}function Rx(e,t,n){if(ss===null)throw Error(A(475));var a=ss;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var l=nl(n.href),s=e.querySelector(js(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Wi.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,je(s);return}s=e.ownerDocument||e,n=hg(n),(l=vt.get(l))&&Do(n,l),s=s.createElement("link"),je(s);var i=s;i._p=new Promise(function(r,c){i.onload=r,i.onerror=c}),De(s,"link",n),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=Wi.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ox(){if(ss===null)throw Error(A(475));var e=ss;return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Wi(){if(this.count--,this.count===0){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var er=null;function wc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,er=new Map,t.forEach(Cx,e),er=null,Wi.call(e))}function Cx(e,t){if(!(t.state.loading&4)){var n=er.get(e);if(n)var a=n.get(null);else{n=new Map,er.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var i=l[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}l=t.instance,i=l.getAttribute("data-precedence"),s=n.get(i)||a,s===a&&n.set(null,l),n.set(i,l),this.count++,a=Wi.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var is={$$typeof:Jt,Provider:null,Consumer:null,_currentValue:Kn,_currentValue2:Kn,_threadCount:0};function Mx(e,t,n,a,l,s,i,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function gg(e,t,n,a,l,s,i,r,c,o,g,d){return e=new Mx(e,t,n,i,r,c,o,d),t=1,s===!0&&(t|=24),s=st(3,null,null,t),e.current=s,s.stateNode=e,t=ro(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},co(s),e}function pg(e){return e?(e=Oa,e):Oa}function yg(e,t,n,a,l,s){l=pg(l),a.context===null?a.context=l:a.pendingContext=l,a=En(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Nn(e,a,t),n!==null&&(ct(n,e,t),$l(n,e,t))}function Qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zo(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function bg(e){if(e.tag===13){var t=il(e,67108864);t!==null&&ct(t,e,67108864),zo(e,67108864)}}var tr=!0;function Dx(e,t,n,a){var l=U.T;U.T=null;var s=K.p;try{K.p=2,Bo(e,t,n,a)}finally{K.p=s,U.T=l}}function Ux(e,t,n,a){var l=U.T;U.T=null;var s=K.p;try{K.p=8,Bo(e,t,n,a)}finally{K.p=s,U.T=l}}function Bo(e,t,n,a){if(tr){var l=Ac(a);if(l===null)bu(e,t,a,nr,n),Vd(e,a);else if(Bx(l,e,t,n,a))a.stopPropagation();else if(Vd(e,a),t&4&&-1<zx.indexOf(e)){for(;l!==null;){var s=sl(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=Xn(s.pendingLanes);if(i!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;i;){var c=1<<31-rt(i);r.entanglements[1]|=c,i&=~c}Gt(s),!(P&6)&&(Vi=Lt()+500,Ns(0))}}break;case 13:r=il(s,2),r!==null&&ct(r,s,2),vr(),zo(s,2)}if(s=Ac(a),s===null&&bu(e,t,a,nr,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else bu(e,t,a,null,n)}}function Ac(e){return e=Fc(e),Ho(e)}var nr=null;function Ho(e){if(nr=null,e=Aa(e),e!==null){var t=hs(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Xh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nr=e,null}function xg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vy()){case Zh:return 2;case Kh:return 8;case Oi:case _y:return 32;case Jh:return 268435456;default:return 32}default:return 32}}var Ec=!1,Rn=null,On=null,Cn=null,rs=new Map,us=new Map,xn=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vd(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function _l(e,t,n,a,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},t!==null&&(t=sl(t),t!==null&&bg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Bx(e,t,n,a,l){switch(t){case"focusin":return Rn=_l(Rn,e,t,n,a,l),!0;case"dragenter":return On=_l(On,e,t,n,a,l),!0;case"mouseover":return Cn=_l(Cn,e,t,n,a,l),!0;case"pointerover":var s=l.pointerId;return rs.set(s,_l(rs.get(s)||null,e,t,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,us.set(s,_l(us.get(s)||null,e,t,n,a,l)),!0}return!1}function vg(e){var t=Aa(e.target);if(t!==null){var n=hs(t);if(n!==null){if(t=n.tag,t===13){if(t=Xh(n),t!==null){e.blockedOn=t,Ry(e.priority,function(){if(n.tag===13){var a=ut();a=Zc(a);var l=il(n,a);l!==null&&ct(l,n,a),zo(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ac(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Yu=a,n.target.dispatchEvent(a),Yu=null}else return t=sl(n),t!==null&&bg(t),e.blockedOn=n,!1;t.shift()}return!0}function Zd(e,t,n){vi(e)&&n.delete(t)}function Hx(){Ec=!1,Rn!==null&&vi(Rn)&&(Rn=null),On!==null&&vi(On)&&(On=null),Cn!==null&&vi(Cn)&&(Cn=null),rs.forEach(Zd),us.forEach(Zd)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,we.unstable_scheduleCallback(we.unstable_NormalPriority,Hx)))}var Ps=null;function Kd(e){Ps!==e&&(Ps=e,we.unstable_scheduleCallback(we.unstable_NormalPriority,function(){Ps===e&&(Ps=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(Ho(a||n)===null)continue;break}var s=sl(n);s!==null&&(e.splice(t,3),t-=3,lc(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function cs(e){function t(c){return Js(c,e)}Rn!==null&&Js(Rn,e),On!==null&&Js(On,e),Cn!==null&&Js(Cn,e),rs.forEach(t),us.forEach(t);for(var n=0;n<xn.length;n++){var a=xn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<xn.length&&(n=xn[0],n.blockedOn===null);)vg(n),n.blockedOn===null&&xn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],i=l[Fe]||null;if(typeof s=="function")i||Kd(n);else if(i){var r=null;if(s&&s.hasAttribute("formAction")){if(l=s,i=s[Fe]||null)r=i.formAction;else if(Ho(l)!==null)continue}else r=i.action;typeof r=="function"?n[a+1]=r:(n.splice(a,3),a-=3),Kd(n)}}}function Lo(e){this._internalRoot=e}Ar.prototype.render=Lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var n=t.current,a=ut();yg(n,a,e,t,null,null)};Ar.prototype.unmount=Lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yg(e.current,2,null,e,null,null),vr(),t[ll]=null}};function Ar(e){this._internalRoot=e}Ar.prototype.unstable_scheduleHydration=function(e){if(e){var t=em();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xn.length&&t!==0&&t<xn[n].priority;n++);xn.splice(n,0,e),n===0&&vg(e)}};var Jd=Gh.version;if(Jd!=="19.1.1")throw Error(A(527,Jd,"19.1.1"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=hy(t),e=e!==null?kh(e):null,e=e===null?null:e.stateNode,e};var Lx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{ms=Fs.inject(Lx),it=Fs}catch{}}ur.createRoot=function(e,t){if(!Yh(e))throw Error(A(299));var n=!1,a="",l=g0,s=p0,i=y0,r=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=gg(e,1,!1,null,null,n,a,l,s,i,r,null),e[ll]=t.current,Mo(e),new Lo(t)};ur.hydrateRoot=function(e,t,n){if(!Yh(e))throw Error(A(299));var a=!1,l="",s=g0,i=p0,r=y0,c=null,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(o=n.formState)),t=gg(e,1,!0,t,n??null,a,l,s,i,r,c,o),t.context=pg(null),n=t.current,a=ut(),a=Zc(a),l=En(a),l.callback=null,Nn(n,l,a),n=a,t.current.lanes=n,ps(t,n),Gt(t),e[ll]=t.current,Mo(e),new Ar(t)};ur.version="19.1.1";function _g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_g)}catch(e){console.error(e)}}_g(),zh.exports=ur;var $x=zh.exports;const qx=Eh($x),Gx=({onNewProject:e,onOpenProjects:t,hasProjects:n})=>{const[a,l]=R.useState(""),[s,i]=R.useState(!1),r=()=>{s&&a.trim()?e(a.trim()):i(!0)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-4xl w-full",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-5xl font-bold text-slate-800 mb-4",children:"EduContent 프롬프트 생성기"}),u.jsx("p",{className:"text-xl text-slate-600 mb-2",children:"AI와 함께 5단계로 맞춤형 교육 콘텐츠를 만들어보세요"}),u.jsx("p",{className:"text-slate-500",children:"고정 크기 또는 스크롤 가능한 레이아웃으로 교육 자료를 생성합니다"})]}),u.jsxs("div",{className:`grid ${n?"md:grid-cols-2":"md:grid-cols-1 max-w-md mx-auto"} gap-6`,children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:u.jsx("span",{className:"text-3xl",children:"✨"})}),u.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-2",children:"새 프로젝트 시작"}),u.jsx("p",{className:"text-slate-600",children:n?"새로운 교육 콘텐츠를 만들어보세요":"첫 번째 교육 콘텐츠를 만들어보세요"})]}),s?u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",value:a,onChange:c=>l(c.target.value),onKeyPress:c=>c.key==="Enter"&&r(),placeholder:"프로젝트 제목을 입력하세요",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:r,disabled:!a.trim(),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"시작하기"}),u.jsx("button",{onClick:()=>{i(!1),l("")},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"취소"})]})]}):u.jsxs("button",{onClick:r,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"+"}),u.jsx("span",{children:"새 프로젝트 만들기"})]})]}),n&&u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:u.jsx("span",{className:"text-3xl",children:"📂"})}),u.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-2",children:"기존 프로젝트 열기"}),u.jsx("p",{className:"text-slate-600",children:"이전에 작업했던 프로젝트를 계속 진행하세요"})]}),u.jsxs("button",{onClick:t,className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx("span",{children:"📋"}),u.jsx("span",{children:"프로젝트 목록 보기"})]})]})]}),u.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full mb-3",children:u.jsx("span",{className:"text-xl",children:"🎯"})}),u.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:"5단계 프로세스"}),u.jsx("p",{className:"text-sm text-slate-600",children:"체계적인 단계별 콘텐츠 생성"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-pink-100 rounded-full mb-3",children:u.jsx("span",{className:"text-xl",children:"🤖"})}),u.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:"AI 지원"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Google Gemini 기반 자동 생성"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-orange-100 rounded-full mb-3",children:u.jsx("span",{className:"text-xl",children:"💾"})}),u.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:"자동 저장"}),u.jsx("p",{className:"text-sm text-slate-600",children:"작업 내용 자동 저장 및 복구"})]})]}),u.jsx("footer",{className:"text-center mt-16 text-slate-400 text-sm",children:u.jsx("p",{children:"React, Tailwind CSS, Google Gemini 기반"})})]})})};var oe=(e=>(e[e.BasicInfo=1]="BasicInfo",e[e.VisualIdentity=2]="VisualIdentity",e[e.PageProposal=3]="PageProposal",e[e.Enhancements=4]="Enhancements",e[e.FinalPrompt=5]="FinalPrompt",e))(oe||{});const Ve={PROJECT_LIST:"educontent-projects-list",PROJECT_PREFIX:"educontent-project-",CURRENT_PROJECT:"educontent-current-project",AUTOSAVE_ENABLED:"educontent-autosave-enabled"};class Yx{generateId(){return`proj_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getProjectList(){try{const t=localStorage.getItem(Ve.PROJECT_LIST);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to get project list:",t),[]}}saveProjectList(t){try{localStorage.setItem(Ve.PROJECT_LIST,JSON.stringify(t))}catch(n){throw console.error("Failed to save project list:",n),n}}getProject(t){try{const n=localStorage.getItem(`${Ve.PROJECT_PREFIX}${t}`);return n?JSON.parse(n):null}catch(n){return console.error("Failed to get project:",n),null}}saveProject(t){try{localStorage.setItem(`${Ve.PROJECT_PREFIX}${t.id}`,JSON.stringify(t));const n=this.getProjectList(),a={id:t.id,name:t.name,createdAt:t.createdAt,updatedAt:t.updatedAt,currentStep:t.currentStep},l=n.findIndex(s=>s.id===t.id);l>=0?n[l]=a:n.unshift(a),this.saveProjectList(n)}catch(n){throw console.error("Failed to save project:",n),n}}createProject(t,n=oe.BasicInfo){const a=new Date().toISOString(),l={id:this.generateId(),name:t.projectTitle||"새 프로젝트",createdAt:a,updatedAt:a,currentStep:n,data:{projectData:t}};return this.saveProject(l),this.setCurrentProjectId(l.id),l}updateProject(t,n){const a=this.getProject(t);return a?(n.name!==void 0&&(a.name=n.name),n.currentStep!==void 0&&(a.currentStep=n.currentStep),n.projectData!==void 0&&(a.data.projectData=n.projectData),n.visualIdentity!==void 0&&(a.data.visualIdentity=n.visualIdentity),n.step2Spec!==void 0&&(a.data.step2Spec=n.step2Spec),n.step3Spec!==void 0&&(a.data.step3Spec=n.step3Spec),n.finalPrompt!==void 0&&(a.data.finalPrompt=n.finalPrompt),a.updatedAt=new Date().toISOString(),this.saveProject(a),a):null}deleteProject(t){try{localStorage.removeItem(`${Ve.PROJECT_PREFIX}${t}`);const a=this.getProjectList().filter(l=>l.id!==t);return this.saveProjectList(a),this.getCurrentProjectId()===t&&this.clearCurrentProjectId(),!0}catch(n){return console.error("Failed to delete project:",n),!1}}getCurrentProjectId(){return localStorage.getItem(Ve.CURRENT_PROJECT)}setCurrentProjectId(t){localStorage.setItem(Ve.CURRENT_PROJECT,t)}clearCurrentProjectId(){localStorage.removeItem(Ve.CURRENT_PROJECT)}getCurrentProject(){const t=this.getCurrentProjectId();return t?this.getProject(t):null}isAutosaveEnabled(){return localStorage.getItem(Ve.AUTOSAVE_ENABLED)!=="false"}setAutosaveEnabled(t){localStorage.setItem(Ve.AUTOSAVE_ENABLED,String(t))}clearAllData(){this.getProjectList().forEach(n=>{localStorage.removeItem(`${Ve.PROJECT_PREFIX}${n.id}`)}),localStorage.removeItem(Ve.PROJECT_LIST),localStorage.removeItem(Ve.CURRENT_PROJECT),localStorage.removeItem(Ve.AUTOSAVE_ENABLED)}exportProject(t){const n=this.getProject(t);return n?JSON.stringify(n,null,2):null}importProject(t){try{const n=JSON.parse(t);return n.id=this.generateId(),n.updatedAt=new Date().toISOString(),this.saveProject(n),n}catch(n){return console.error("Failed to import project:",n),null}}}const ve=new Yx,Xx=({onProjectSelect:e,onNewProject:t,onBack:n})=>{const[a,l]=R.useState([]),[s,i]=R.useState(null),[r,c]=R.useState(null);R.useEffect(()=>{o()},[]);const o=()=>{const x=ve.getProjectList();l(x)},g=async(x,v)=>{if(v.stopPropagation(),!!confirm("정말로 이 프로젝트를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.")){c(x);try{ve.deleteProject(x),o(),ve.getProjectList().length===0&&setTimeout(()=>{n()},500)}finally{c(null)}}},d=async(x,v)=>{v.stopPropagation();const _=ve.getProject(x);if(!_)return;const p=prompt("복제할 프로젝트의 이름을 입력하세요:",`${_.name} (복사본)`);if(!p)return;const f=ve.createProject(_.data.projectData);ve.updateProject(f.id,{name:p,projectData:_.data.projectData,visualIdentity:_.data.visualIdentity,step2Spec:_.data.step2Spec,step3Spec:_.data.step3Spec,currentStep:_.currentStep}),o()},m=x=>{const v=new Date(x),p=new Date().getTime()-v.getTime(),f=Math.floor(p/(1e3*60*60)),y=Math.floor(f/24);return f<1?"방금 전":f<24?`${f}시간 전`:y<7?`${y}일 전`:v.toLocaleDateString("ko-KR")},h=x=>["기본 정보","비주얼 아이덴티티","레이아웃 제안","애니메이션 효과","최종 프롬프트"][x-1]||"기본 정보";return u.jsx("div",{className:"min-h-screen bg-slate-100 p-4 sm:p-6 lg:p-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("button",{onClick:n,className:"mb-4 px-4 py-2 text-slate-600 hover:text-slate-800 transition-colors flex items-center gap-2",children:[u.jsx("span",{children:"←"}),u.jsx("span",{children:"돌아가기"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"내 프로젝트"}),u.jsx("p",{className:"text-slate-500 mt-2",children:a.length>0?`총 ${a.length}개의 프로젝트가 있습니다.`:"아직 생성된 프로젝트가 없습니다."})]}),u.jsxs("button",{onClick:()=>t(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"+"}),u.jsx("span",{children:"새 프로젝트"})]})]})]}),a.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(x=>u.jsxs("div",{className:`bg-white rounded-xl shadow-lg hover:shadow-xl transition-all cursor-pointer overflow-hidden ${s===x.id?"ring-2 ring-blue-500":""} ${r===x.id?"opacity-50 pointer-events-none":""}`,onClick:()=>{i(x.id),setTimeout(()=>e(x.id),100)},children:[u.jsxs("div",{className:"p-6 border-b border-gray-100",children:[u.jsx("h3",{className:"font-semibold text-lg text-slate-800 mb-1 truncate",children:x.name||"제목 없음"}),u.jsxs("p",{className:"text-sm text-slate-500",children:[h(x.currentStep)," 단계"]})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[u.jsx("span",{children:"진행도"}),u.jsxs("span",{children:[Math.round(x.currentStep/5*100),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${x.currentStep/5*100}%`}})})]}),u.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"생성일:"}),u.jsx("span",{children:m(x.createdAt)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"수정일:"}),u.jsx("span",{children:m(x.updatedAt)})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between",children:[u.jsx("button",{onClick:v=>d(x.id,v),className:"px-3 py-1.5 text-sm text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded transition-colors",children:"📋 복제"}),u.jsx("button",{onClick:v=>g(x.id,v),className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",children:"🗑️ 삭제"})]})]})]},x.id))}):u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📝"}),u.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"프로젝트가 없습니다"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"첫 번째 교육 콘텐츠 프로젝트를 만들어보세요!"}),u.jsx("button",{onClick:t,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"새 프로젝트 만들기"})]})]})})},kx=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),Pd=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Qx=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Vx=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),$o=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 22.25l-.648-1.688a2.25 2.25 0 00-1.688-1.688l-1.688-.648 1.688-.648a2.25 2.25 0 001.688-1.688l.648-1.688.648 1.688a2.25 2.25 0 001.688 1.688l1.688.648-1.688.648a2.25 2.25 0 00-1.688 1.688z"})}),Nc="RFC3986",jc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Zx="RFC1738",Kx=Array.isArray,Ct=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),vu=1024,Jx=(e,t,n,a,l)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(r){return"%26%23"+parseInt(r.slice(2),16)+"%3B"});let i="";for(let r=0;r<s.length;r+=vu){const c=s.length>=vu?s.slice(r,r+vu):s,o=[];for(let g=0;g<c.length;++g){let d=c.charCodeAt(g);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||l===Zx&&(d===40||d===41)){o[o.length]=c.charAt(g);continue}if(d<128){o[o.length]=Ct[d];continue}if(d<2048){o[o.length]=Ct[192|d>>6]+Ct[128|d&63];continue}if(d<55296||d>=57344){o[o.length]=Ct[224|d>>12]+Ct[128|d>>6&63]+Ct[128|d&63];continue}g+=1,d=65536+((d&1023)<<10|c.charCodeAt(g)&1023),o[o.length]=Ct[240|d>>18]+Ct[128|d>>12&63]+Ct[128|d>>6&63]+Ct[128|d&63]}i+=o.join("")}return i};function Px(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Fd(e,t){if(Kx(e)){const n=[];for(let a=0;a<e.length;a+=1)n.push(t(e[a]));return n}return t(e)}const Fx=Object.prototype.hasOwnProperty,Sg={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Mt=Array.isArray,Ix=Array.prototype.push,wg=function(e,t){Ix.apply(e,Mt(t)?t:[t])},Wx=Date.prototype.toISOString,xe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Jx,encodeValuesOnly:!1,format:Nc,formatter:jc[Nc],indices:!1,serializeDate(e){return Wx.call(e)},skipNulls:!1,strictNullHandling:!1};function ev(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const _u={};function Ag(e,t,n,a,l,s,i,r,c,o,g,d,m,h,x,v,_,p){let f=e,y=p,b=0,w=!1;for(;(y=y.get(_u))!==void 0&&!w;){const O=y.get(e);if(b+=1,typeof O<"u"){if(O===b)throw new RangeError("Cyclic object value");w=!0}typeof y.get(_u)>"u"&&(b=0)}if(typeof o=="function"?f=o(t,f):f instanceof Date?f=m==null?void 0:m(f):n==="comma"&&Mt(f)&&(f=Fd(f,function(O){return O instanceof Date?m==null?void 0:m(O):O})),f===null){if(s)return c&&!v?c(t,xe.encoder,_,"key",h):t;f=""}if(ev(f)||Px(f)){if(c){const O=v?t:c(t,xe.encoder,_,"key",h);return[(x==null?void 0:x(O))+"="+(x==null?void 0:x(c(f,xe.encoder,_,"value",h)))]}return[(x==null?void 0:x(t))+"="+(x==null?void 0:x(String(f)))]}const E=[];if(typeof f>"u")return E;let S;if(n==="comma"&&Mt(f))v&&c&&(f=Fd(f,c)),S=[{value:f.length>0?f.join(",")||null:void 0}];else if(Mt(o))S=o;else{const O=Object.keys(f);S=g?O.sort(g):O}const T=r?String(t).replace(/\./g,"%2E"):String(t),j=a&&Mt(f)&&f.length===1?T+"[]":T;if(l&&Mt(f)&&f.length===0)return j+"[]";for(let O=0;O<S.length;++O){const H=S[O],ee=typeof H=="object"&&typeof H.value<"u"?H.value:f[H];if(i&&ee===null)continue;const qe=d&&r?H.replace(/\./g,"%2E"):H,Tt=Mt(f)?typeof n=="function"?n(j,qe):j:j+(d?"."+qe:"["+qe+"]");p.set(e,b);const ze=new WeakMap;ze.set(_u,p),wg(E,Ag(ee,Tt,n,a,l,s,i,r,n==="comma"&&v&&Mt(f)?null:c,o,g,d,m,h,x,v,_,ze))}return E}function tv(e=xe){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||xe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Nc;if(typeof e.format<"u"){if(!Fx.call(jc,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const a=jc[n];let l=xe.filter;(typeof e.filter=="function"||Mt(e.filter))&&(l=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in Sg?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=xe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:xe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:xe.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:xe.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xe.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?xe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:xe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:xe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:xe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:xe.encodeValuesOnly,filter:l,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:xe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:xe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xe.strictNullHandling}}function nv(e,t={}){let n=e;const a=tv(t);let l,s;typeof a.filter=="function"?(s=a.filter,n=s("",n)):Mt(a.filter)&&(s=a.filter,l=s);const i=[];if(typeof n!="object"||n===null)return"";const r=Sg[a.arrayFormat],c=r==="comma"&&a.commaRoundTrip;l||(l=Object.keys(n)),a.sort&&l.sort(a.sort);const o=new WeakMap;for(let m=0;m<l.length;++m){const h=l[m];a.skipNulls&&n[h]===null||wg(i,Ag(n[h],h,r,c,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,o))}const g=i.join(a.delimiter);let d=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),g.length>0?d+g:""}const va="4.104.0";let Id=!1,Kl,Eg,Ng,Tc,jg,Tg,Rg,Og,Cg;function av(e,t={auto:!1}){if(Id)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Kl)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Kl}'\``);Id=t.auto,Kl=e.kind,Eg=e.fetch,Ng=e.FormData,Tc=e.File,jg=e.ReadableStream,Tg=e.getMultipartRequestOptions,Rg=e.getDefaultAgent,Og=e.fileFromPath,Cg=e.isFsReadStream}class lv{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function sv({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,a,l,s;try{n=fetch,a=Request,l=Response,s=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:a,Response:l,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(i,r)=>({...r,body:new lv(i)}),getDefaultAgent:i=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:i=>!1}}const Mg=()=>{Kl||av(sv(),{auto:!0})};Mg();class D extends Error{}class Ue extends D{constructor(t,n,a,l){super(`${Ue.makeMessage(t,n,a)}`),this.status=t,this.headers=l,this.request_id=l==null?void 0:l["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,a){const l=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):a;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,n,a,l){if(!t||!l)return new Er({message:a,cause:Oc(n)});const s=n==null?void 0:n.error;return t===400?new Dg(t,s,a,l):t===401?new Ug(t,s,a,l):t===403?new zg(t,s,a,l):t===404?new Bg(t,s,a,l):t===409?new Hg(t,s,a,l):t===422?new Lg(t,s,a,l):t===429?new $g(t,s,a,l):t>=500?new qg(t,s,a,l):new Ue(t,s,a,l)}}class bt extends Ue{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Er extends Ue{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class qo extends Er{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Dg extends Ue{}class Ug extends Ue{}class zg extends Ue{}class Bg extends Ue{}class Hg extends Ue{}class Lg extends Ue{}class $g extends Ue{}class qg extends Ue{}class Gg extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class Yg extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Is=function(e,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(e,n):l?l.value=n:t.set(e,n),n},Yn=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},nt;class Nr{constructor(){nt.set(this,void 0),this.buffer=new Uint8Array,Is(this,nt,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let a=new Uint8Array(this.buffer.length+n.length);a.set(this.buffer),a.set(n,this.buffer.length),this.buffer=a;const l=[];let s;for(;(s=iv(this.buffer,Yn(this,nt,"f")))!=null;){if(s.carriage&&Yn(this,nt,"f")==null){Is(this,nt,s.index,"f");continue}if(Yn(this,nt,"f")!=null&&(s.index!==Yn(this,nt,"f")+1||s.carriage)){l.push(this.decodeText(this.buffer.slice(0,Yn(this,nt,"f")-1))),this.buffer=this.buffer.slice(Yn(this,nt,"f")),Is(this,nt,null,"f");continue}const i=Yn(this,nt,"f")!==null?s.preceding-1:s.preceding,r=this.decodeText(this.buffer.slice(0,i));l.push(r),this.buffer=this.buffer.slice(s.index),Is(this,nt,null,"f")}return l}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new D(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new D(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new D("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}nt=new WeakMap;Nr.NEWLINE_CHARS=new Set([`
`,"\r"]);Nr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iv(e,t){for(let l=t??0;l<e.length;l++){if(e[l]===10)return{preceding:l,index:l+1,carriage:!1};if(e[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function rv(e){for(let a=0;a<e.length-1;a++){if(e[a]===10&&e[a+1]===10||e[a]===13&&e[a+1]===13)return a+2;if(e[a]===13&&e[a+1]===10&&a+3<e.length&&e[a+2]===13&&e[a+3]===10)return a+4}return-1}function Xg(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Bt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let a=!1;async function*l(){if(a)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let s=!1;try{for await(const i of uv(t,n))if(!s){if(i.data.startsWith("[DONE]")){s=!0;continue}if(i.event===null||i.event.startsWith("response.")||i.event.startsWith("transcript.")){let r;try{r=JSON.parse(i.data)}catch(c){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),c}if(r&&r.error)throw new Ue(void 0,r.error,void 0,Pg(t.headers));yield r}else{let r;try{r=JSON.parse(i.data)}catch(c){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),c}if(i.event=="error")throw new Ue(void 0,r.error,r.message,void 0);yield{event:i.event,data:r}}}s=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{s||n.abort()}}return new Bt(l,n)}static fromReadableStream(t,n){let a=!1;async function*l(){const i=new Nr,r=Xg(t);for await(const c of r)for(const o of i.decode(c))yield o;for(const c of i.flush())yield c}async function*s(){if(a)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let i=!1;try{for await(const r of l())i||r&&(yield JSON.parse(r));i=!0}catch(r){if(r instanceof Error&&r.name==="AbortError")return;throw r}finally{i||n.abort()}}return new Bt(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],a=this.iterator(),l=s=>({next:()=>{if(s.length===0){const i=a.next();t.push(i),n.push(i)}return s.shift()}});return[new Bt(()=>l(t),this.controller),new Bt(()=>l(n),this.controller)]}toReadableStream(){const t=this;let n;const a=new TextEncoder;return new jg({async start(){n=t[Symbol.asyncIterator]()},async pull(l){try{const{value:s,done:i}=await n.next();if(i)return l.close();const r=a.encode(JSON.stringify(s)+`
`);l.enqueue(r)}catch(s){l.error(s)}},async cancel(){var l;await((l=n.return)==null?void 0:l.call(n))}})}}async function*uv(e,t){if(!e.body)throw t.abort(),new D("Attempted to iterate over a response with no body");const n=new ov,a=new Nr,l=Xg(e.body);for await(const s of cv(l))for(const i of a.decode(s)){const r=n.decode(i);r&&(yield r)}for(const s of a.flush()){const i=n.decode(s);i&&(yield i)}}async function*cv(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const a=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let l=new Uint8Array(t.length+a.length);l.set(t),l.set(a,t.length),t=l;let s;for(;(s=rv(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class ov{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,a,l]=fv(t,":");return l.startsWith(" ")&&(l=l.substring(1)),n==="event"?this.event=l:n==="data"&&this.data.push(l),null}}function fv(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const kg=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Qg=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&jr(e),jr=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",dv=e=>Qg(e)||kg(e)||Cg(e);async function Vg(e,t,n){var l;if(e=await e,Qg(e))return e;if(kg(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const i=jr(s)?[await s.arrayBuffer()]:[s];return new Tc(i,t,n)}const a=await hv(e);if(t||(t=gv(e)??"unknown_file"),!(n!=null&&n.type)){const s=(l=a[0])==null?void 0:l.type;typeof s=="string"&&(n={...n,type:s})}return new Tc(a,t,n)}async function hv(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(jr(e))t.push(await e.arrayBuffer());else if(pv(e))for await(const a of e)t.push(a);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${mv(e)}`);return t}function mv(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function gv(e){var t;return Su(e.name)||Su(e.filename)||((t=Su(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Su=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},pv=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Wd=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",sa=async e=>{const t=await yv(e.body);return Tg(t,e)},yv=async e=>{const t=new Ng;return await Promise.all(Object.entries(e||{}).map(([n,a])=>Rc(t,n,a))),t},Rc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(dv(n)){const a=await Vg(n);e.append(t,a)}else if(Array.isArray(n))await Promise.all(n.map(a=>Rc(e,t+"[]",a)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([a,l])=>Rc(e,`${t}[${a}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Xa={},bv=function(e,t,n,a,l){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},xv=function(e,t,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},Ws;Mg();async function Zg(e){var i;const{response:t}=e;if(e.options.stream)return Mn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Bt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),a=(i=n==null?void 0:n.split(";")[0])==null?void 0:i.trim();if((a==null?void 0:a.includes("application/json"))||(a==null?void 0:a.endsWith("+json"))){const r=await t.json();return Mn("response",t.status,t.url,t.headers,r),Kg(r,t)}const s=await t.text();return Mn("response",t.status,t.url,t.headers,s),s}function Kg(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Tr extends Promise{constructor(t,n=Zg){super(a=>{a(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Tr(this.responsePromise,async n=>Kg(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class vv{constructor({baseURL:t,maxRetries:n=2,timeout:a=6e5,httpAgent:l,fetch:s}){this.baseURL=t,this.maxRetries=wu("maxRetries",n),this.timeout=wu("timeout",a),this.httpAgent=l,this.fetch=s??Eg}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ev(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Rv()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,a){return this.request(Promise.resolve(a).then(async l=>{const s=l&&jr(l==null?void 0:l.body)?new DataView(await l.body.arrayBuffer()):(l==null?void 0:l.body)instanceof DataView?l.body:(l==null?void 0:l.body)instanceof ArrayBuffer?new DataView(l.body):l&&ArrayBuffer.isView(l==null?void 0:l.body)?new DataView(l.body.buffer):l==null?void 0:l.body;return{method:t,path:n,...l,body:s}}))}getAPIList(t,n,a){return this.requestAPIList(n,{method:"get",path:t,...a})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var v;const a={...t},{method:l,path:s,query:i,headers:r={}}=a,c=ArrayBuffer.isView(a.body)||a.__binaryRequest&&typeof a.body=="string"?a.body:Wd(a.body)?a.body.body:a.body?JSON.stringify(a.body,null,2):null,o=this.calculateContentLength(c),g=this.buildURL(s,i);"timeout"in a&&wu("timeout",a.timeout),a.timeout=a.timeout??this.timeout;const d=a.httpAgent??this.httpAgent??Rg(g),m=a.timeout+1e3;typeof((v=d==null?void 0:d.options)==null?void 0:v.timeout)=="number"&&m>(d.options.timeout??0)&&(d.options.timeout=m),this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const h=this.buildHeaders({options:a,headers:r,contentLength:o,retryCount:n});return{req:{method:l,...c&&{body:c},headers:h,...d&&{agent:d},signal:a.signal??null},url:g,timeout:a.timeout}}buildHeaders({options:t,headers:n,contentLength:a,retryCount:l}){const s={};a&&(s["content-length"]=a);const i=this.defaultHeaders(t);return ah(s,i),ah(s,n),Wd(t.body)&&Kl!=="node"&&delete s["content-type"],ti(i,"x-stainless-retry-count")===void 0&&ti(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(l)),ti(i,"x-stainless-timeout")===void 0&&ti(n,"x-stainless-timeout")===void 0&&t.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:a}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,a,l){return Ue.generate(t,n,a,l)}request(t,n=null){return new Tr(this.makeRequest(t,n))}async makeRequest(t,n){var d,m;const a=await t,l=a.maxRetries??this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:s,url:i,timeout:r}=this.buildRequest(a,{retryCount:l-n});if(await this.prepareRequest(s,{url:i,options:a}),Mn("request",i,a,s.headers),(d=a.signal)!=null&&d.aborted)throw new bt;const c=new AbortController,o=await this.fetchWithTimeout(i,s,r,c).catch(Oc);if(o instanceof Error){if((m=a.signal)!=null&&m.aborted)throw new bt;if(n)return this.retryRequest(a,n);throw o.name==="AbortError"?new qo:new Er({cause:o})}const g=Pg(o.headers);if(!o.ok){if(n&&this.shouldRetry(o)){const f=`retrying, ${n} attempts remaining`;return Mn(`response (error; ${f})`,o.status,i,g),this.retryRequest(a,n,g)}const h=await o.text().catch(f=>Oc(f).message),x=Nv(h),v=x?void 0:h;throw Mn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,o.status,i,g,v),this.makeStatusError(o.status,x,v,g)}return{response:o,options:a,controller:c}}requestAPIList(t,n){const a=this.makeRequest(n,null);return new _v(this,a,t)}buildURL(t,n){const a=Tv(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Fg(l)||(n={...l,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,a])=>typeof a<"u").map(([n,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(n)}=`;throw new D(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,a,l){const{signal:s,...i}=n||{};s&&s.addEventListener("abort",()=>l.abort());const r=setTimeout(()=>l.abort(),a),c={signal:l.signal,...i};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,t,c).finally(()=>{clearTimeout(r)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,a){let l;const s=a==null?void 0:a["retry-after-ms"];if(s){const r=parseFloat(s);Number.isNaN(r)||(l=r)}const i=a==null?void 0:a["retry-after"];if(i&&!l){const r=parseFloat(i);Number.isNaN(r)?l=Date.parse(i)-Date.now():l=r*1e3}if(!(l&&0<=l&&l<60*1e3)){const r=t.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,r)}return await Rs(l),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,i=Math.min(.5*Math.pow(2,s),8),r=1-Math.random()*.25;return i*r*1e3}getUserAgent(){return`${this.constructor.name}/JS ${va}`}}class Jg{constructor(t,n,a,l){Ws.set(this,void 0),bv(this,Ws,t),this.options=l,this.response=n,this.body=a}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const a=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[l,s]of a)t.url.searchParams.set(l,s);n.query=void 0,n.path=t.url.toString()}return await xv(this,Ws,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ws=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class _v extends Tr{constructor(t,n,a){super(n,async l=>new a(t,l.response,await Zg(l),l.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Pg=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const a=n.toString();return t[a.toLowerCase()]||t[a]}}),Sv={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ce=e=>typeof e=="object"&&e!==null&&!Fg(e)&&Object.keys(e).every(t=>Ig(Sv,t)),wv=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":th(Deno.build.os),"X-Stainless-Arch":eh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":th(process.platform),"X-Stainless-Arch":eh(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Av();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Av(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const a=n.exec(navigator.userAgent);if(a){const l=a[1]||0,s=a[2]||0,i=a[3]||0;return{browser:t,version:`${l}.${s}.${i}`}}}return null}const eh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",th=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let nh;const Ev=()=>nh??(nh=wv()),Nv=e=>{try{return JSON.parse(e)}catch{return}},jv=/^[a-z][a-z0-9+.-]*:/i,Tv=e=>jv.test(e),Rs=e=>new Promise(t=>setTimeout(t,e)),wu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new D(`${e} must be an integer`);if(t<0)throw new D(`${e} must be a positive integer`);return t},Oc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},ei=e=>{var t,n,a,l;if(typeof process<"u")return((t=Xa==null?void 0:Xa[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(l=(a=(n=Deno.env)==null?void 0:n.get)==null?void 0:a.call(n,e))==null?void 0:l.trim()};function Fg(e){if(!e)return!0;for(const t in e)return!1;return!0}function Ig(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ah(e,t){for(const n in t){if(!Ig(t,n))continue;const a=n.toLowerCase();if(!a)continue;const l=t[n];l===null?delete e[a]:l!==void 0&&(e[a]=l)}}const lh=new Set(["authorization","api-key"]);function Mn(e,...t){if(typeof process<"u"&&(Xa==null?void 0:Xa.DEBUG)==="true"){const n=t.map(a=>{if(!a)return a;if(a.headers){const s={...a,headers:{...a.headers}};for(const i in a.headers)lh.has(i.toLowerCase())&&(s.headers[i]="REDACTED");return s}let l=null;for(const s in a)lh.has(s.toLowerCase())&&(l??(l={...a}),l[s]="REDACTED");return l??a});console.log(`OpenAI:DEBUG:${e}`,...n)}}const Rv=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Ov=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Cv=e=>typeof(e==null?void 0:e.get)=="function",ti=(e,t)=>{var a;const n=t.toLowerCase();if(Cv(e)){const l=((a=t[0])==null?void 0:a.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,i,r)=>i+r.toUpperCase());for(const s of[t,n,t.toUpperCase(),l]){const i=e.get(s);if(i)return i}}for(const[l,s]of Object.entries(e))if(l.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s},Mv=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,a=new Uint8Array(n);for(let l=0;l<n;l++)a[l]=t.charCodeAt(l);return Array.from(new Float32Array(a.buffer))}};function Au(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Rr extends Jg{constructor(t,n,a,l){super(t,n,a,l),this.data=a.data||[],this.object=a.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ae extends Jg{constructor(t,n,a,l){super(t,n,a,l),this.data=a.data||[],this.has_more=a.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var a;const t=this.getPaginatedItems();if(!t.length)return null;const n=(a=t[t.length-1])==null?void 0:a.id;return n?{params:{after:n}}:null}}class z{constructor(t){this._client=t}}let Wg=class extends z{list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Dv,{query:n,...a})}},Or=class extends z{constructor(){super(...arguments),this.messages=new Wg(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,a){return this._client.post(`/chat/completions/${t}`,{body:n,...a})}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/chat/completions",Cr,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Cr extends Ae{}class Dv extends Ae{}Or.ChatCompletionsPage=Cr;Or.Messages=Wg;let Mr=class extends z{constructor(){super(...arguments),this.completions=new Or(this._client)}};Mr.Completions=Or;Mr.ChatCompletionsPage=Cr;class ep extends z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class tp extends z{create(t,n){return this._client.post("/audio/transcriptions",sa({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class np extends z{create(t,n){return this._client.post("/audio/translations",sa({body:t,...n,__metadata:{model:t.model}}))}}class Os extends z{constructor(){super(...arguments),this.transcriptions=new tp(this._client),this.translations=new np(this._client),this.speech=new ep(this._client)}}Os.Transcriptions=tp;Os.Translations=np;Os.Speech=ep;class Go extends z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/batches",Yo,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class Yo extends Ae{}Go.BatchesPage=Yo;var St=function(e,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(e,n):l?l.value=n:t.set(e,n),n},ue=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},Cc,_i,Si,jl,Tl,wi,Rl,Zt,Ol,ar,lr,_a,ap;class Xo{constructor(){Cc.add(this),this.controller=new AbortController,_i.set(this,void 0),Si.set(this,()=>{}),jl.set(this,()=>{}),Tl.set(this,void 0),wi.set(this,()=>{}),Rl.set(this,()=>{}),Zt.set(this,{}),Ol.set(this,!1),ar.set(this,!1),lr.set(this,!1),_a.set(this,!1),St(this,_i,new Promise((t,n)=>{St(this,Si,t,"f"),St(this,jl,n,"f")}),"f"),St(this,Tl,new Promise((t,n)=>{St(this,wi,t,"f"),St(this,Rl,n,"f")}),"f"),ue(this,_i,"f").catch(()=>{}),ue(this,Tl,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ue(this,Cc,"m",ap).bind(this))},0)}_connected(){this.ended||(ue(this,Si,"f").call(this),this._emit("connect"))}get ended(){return ue(this,Ol,"f")}get errored(){return ue(this,ar,"f")}get aborted(){return ue(this,lr,"f")}abort(){this.controller.abort()}on(t,n){return(ue(this,Zt,"f")[t]||(ue(this,Zt,"f")[t]=[])).push({listener:n}),this}off(t,n){const a=ue(this,Zt,"f")[t];if(!a)return this;const l=a.findIndex(s=>s.listener===n);return l>=0&&a.splice(l,1),this}once(t,n){return(ue(this,Zt,"f")[t]||(ue(this,Zt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,a)=>{St(this,_a,!0,"f"),t!=="error"&&this.once("error",a),this.once(t,n)})}async done(){St(this,_a,!0,"f"),await ue(this,Tl,"f")}_emit(t,...n){if(ue(this,Ol,"f"))return;t==="end"&&(St(this,Ol,!0,"f"),ue(this,wi,"f").call(this));const a=ue(this,Zt,"f")[t];if(a&&(ue(this,Zt,"f")[t]=a.filter(l=>!l.once),a.forEach(({listener:l})=>l(...n))),t==="abort"){const l=n[0];!ue(this,_a,"f")&&!(a!=null&&a.length)&&Promise.reject(l),ue(this,jl,"f").call(this,l),ue(this,Rl,"f").call(this,l),this._emit("end");return}if(t==="error"){const l=n[0];!ue(this,_a,"f")&&!(a!=null&&a.length)&&Promise.reject(l),ue(this,jl,"f").call(this,l),ue(this,Rl,"f").call(this,l),this._emit("end")}}_emitFinal(){}}_i=new WeakMap,Si=new WeakMap,jl=new WeakMap,Tl=new WeakMap,wi=new WeakMap,Rl=new WeakMap,Zt=new WeakMap,Ol=new WeakMap,ar=new WeakMap,lr=new WeakMap,_a=new WeakMap,Cc=new WeakSet,ap=function(t){if(St(this,ar,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new bt),t instanceof bt)return St(this,lr,!0,"f"),this._emit("abort",t);if(t instanceof D)return this._emit("error",t);if(t instanceof Error){const n=new D(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new D(String(t)))};var M=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},tt=function(e,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(e,n):l?l.value=n:t.set(e,n),n},Ce,Mc,Dt,Ai,wt,Zn,Ua,Vn,sr,at,Ei,Ni,Jl,Cl,Ml,sh,ih,rh,uh,ch,oh,fh;class Et extends Xo{constructor(){super(...arguments),Ce.add(this),Mc.set(this,[]),Dt.set(this,{}),Ai.set(this,{}),wt.set(this,void 0),Zn.set(this,void 0),Ua.set(this,void 0),Vn.set(this,void 0),sr.set(this,void 0),at.set(this,void 0),Ei.set(this,void 0),Ni.set(this,void 0),Jl.set(this,void 0)}[(Mc=new WeakMap,Dt=new WeakMap,Ai=new WeakMap,wt=new WeakMap,Zn=new WeakMap,Ua=new WeakMap,Vn=new WeakMap,sr=new WeakMap,at=new WeakMap,Ei=new WeakMap,Ni=new WeakMap,Jl=new WeakMap,Ce=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let a=!1;return this.on("event",l=>{const s=n.shift();s?s.resolve(l):t.push(l)}),this.on("end",()=>{a=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{a=!0;for(const s of n)s.reject(l);n.length=0}),this.on("error",l=>{a=!0;for(const s of n)s.reject(l);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((s,i)=>n.push({resolve:s,reject:i})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Et;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),this._connected();const l=Bt.fromReadableStream(t,this.controller);for await(const i of l)M(this,Ce,"m",Cl).call(this,i);if((s=l.controller.signal)!=null&&s.aborted)throw new bt;return this._addRun(M(this,Ce,"m",Ml).call(this))}toReadableStream(){return new Bt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,a,l,s){const i=new Et;return i._run(()=>i._runToolAssistantStream(t,n,a,l,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,a,l,s){var o;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const r={...l,stream:!0},c=await t.submitToolOutputs(n,a,r,{...s,signal:this.controller.signal});this._connected();for await(const g of c)M(this,Ce,"m",Cl).call(this,g);if((o=c.controller.signal)!=null&&o.aborted)throw new bt;return this._addRun(M(this,Ce,"m",Ml).call(this))}static createThreadAssistantStream(t,n,a){const l=new Et;return l._run(()=>l._threadAssistantStream(t,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),l}static createAssistantStream(t,n,a,l){const s=new Et;return s._run(()=>s._runAssistantStream(t,n,a,{...l,headers:{...l==null?void 0:l.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return M(this,Ei,"f")}currentRun(){return M(this,Ni,"f")}currentMessageSnapshot(){return M(this,wt,"f")}currentRunStepSnapshot(){return M(this,Jl,"f")}async finalRunSteps(){return await this.done(),Object.values(M(this,Dt,"f"))}async finalMessages(){return await this.done(),Object.values(M(this,Ai,"f"))}async finalRun(){if(await this.done(),!M(this,Zn,"f"))throw Error("Final run was not received.");return M(this,Zn,"f")}async _createThreadAssistantStream(t,n,a){var r;const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},i=await t.createAndRun(s,{...a,signal:this.controller.signal});this._connected();for await(const c of i)M(this,Ce,"m",Cl).call(this,c);if((r=i.controller.signal)!=null&&r.aborted)throw new bt;return this._addRun(M(this,Ce,"m",Ml).call(this))}async _createAssistantStream(t,n,a,l){var c;const s=l==null?void 0:l.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...a,stream:!0},r=await t.create(n,i,{...l,signal:this.controller.signal});this._connected();for await(const o of r)M(this,Ce,"m",Cl).call(this,o);if((c=r.controller.signal)!=null&&c.aborted)throw new bt;return this._addRun(M(this,Ce,"m",Ml).call(this))}static accumulateDelta(t,n){for(const[a,l]of Object.entries(n)){if(!t.hasOwnProperty(a)){t[a]=l;continue}let s=t[a];if(s==null){t[a]=l;continue}if(a==="index"||a==="type"){t[a]=l;continue}if(typeof s=="string"&&typeof l=="string")s+=l;else if(typeof s=="number"&&typeof l=="number")s+=l;else if(Au(s)&&Au(l))s=this.accumulateDelta(s,l);else if(Array.isArray(s)&&Array.isArray(l)){if(s.every(i=>typeof i=="string"||typeof i=="number")){s.push(...l);continue}for(const i of l){if(!Au(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const r=i.index;if(r==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof r!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${r}`);const c=s[r];c==null?s.push(i):s[r]=this.accumulateDelta(c,i)}continue}else throw Error(`Unhandled record type: ${a}, deltaValue: ${l}, accValue: ${s}`);t[a]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,a){return await this._createThreadAssistantStream(n,t,a)}async _runAssistantStream(t,n,a,l){return await this._createAssistantStream(n,t,a,l)}async _runToolAssistantStream(t,n,a,l,s){return await this._createToolAssistantStream(a,t,n,l,s)}}Cl=function(t){if(!this.ended)switch(tt(this,Ei,t,"f"),M(this,Ce,"m",rh).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":M(this,Ce,"m",fh).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":M(this,Ce,"m",ih).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":M(this,Ce,"m",sh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ml=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!M(this,Zn,"f"))throw Error("Final run has not been received");return M(this,Zn,"f")},sh=function(t){const[n,a]=M(this,Ce,"m",ch).call(this,t,M(this,wt,"f"));tt(this,wt,n,"f"),M(this,Ai,"f")[n.id]=n;for(const l of a){const s=n.content[l.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const l of t.data.delta.content){if(l.type=="text"&&l.text){let s=l.text,i=n.content[l.index];if(i&&i.type=="text")this._emit("textDelta",s,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(l.index!=M(this,Ua,"f")){if(M(this,Vn,"f"))switch(M(this,Vn,"f").type){case"text":this._emit("textDone",M(this,Vn,"f").text,M(this,wt,"f"));break;case"image_file":this._emit("imageFileDone",M(this,Vn,"f").image_file,M(this,wt,"f"));break}tt(this,Ua,l.index,"f")}tt(this,Vn,n.content[l.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(M(this,Ua,"f")!==void 0){const l=t.data.content[M(this,Ua,"f")];if(l)switch(l.type){case"image_file":this._emit("imageFileDone",l.image_file,M(this,wt,"f"));break;case"text":this._emit("textDone",l.text,M(this,wt,"f"));break}}M(this,wt,"f")&&this._emit("messageDone",t.data),tt(this,wt,void 0,"f")}},ih=function(t){const n=M(this,Ce,"m",uh).call(this,t);switch(tt(this,Jl,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const a=t.data.delta;if(a.step_details&&a.step_details.type=="tool_calls"&&a.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of a.step_details.tool_calls)s.index==M(this,sr,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(M(this,at,"f")&&this._emit("toolCallDone",M(this,at,"f")),tt(this,sr,s.index,"f"),tt(this,at,n.step_details.tool_calls[s.index],"f"),M(this,at,"f")&&this._emit("toolCallCreated",M(this,at,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":tt(this,Jl,void 0,"f"),t.data.step_details.type=="tool_calls"&&M(this,at,"f")&&(this._emit("toolCallDone",M(this,at,"f")),tt(this,at,void 0,"f")),this._emit("runStepDone",t.data,n);break}},rh=function(t){M(this,Mc,"f").push(t),this._emit("event",t)},uh=function(t){switch(t.event){case"thread.run.step.created":return M(this,Dt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=M(this,Dt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let a=t.data;if(a.delta){const l=Et.accumulateDelta(n,a.delta);M(this,Dt,"f")[t.data.id]=l}return M(this,Dt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":M(this,Dt,"f")[t.data.id]=t.data;break}if(M(this,Dt,"f")[t.data.id])return M(this,Dt,"f")[t.data.id];throw new Error("No snapshot available")},ch=function(t,n){let a=[];switch(t.event){case"thread.message.created":return[t.data,a];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let l=t.data;if(l.delta.content)for(const s of l.delta.content)if(s.index in n.content){let i=n.content[s.index];n.content[s.index]=M(this,Ce,"m",oh).call(this,s,i)}else n.content[s.index]=s,a.push(s);return[n,a];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,a];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},oh=function(t,n){return Et.accumulateDelta(n,t)},fh=function(t){switch(tt(this,Ni,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":tt(this,Zn,t.data,"f"),M(this,at,"f")&&(this._emit("toolCallDone",M(this,at,"f")),tt(this,at,void 0,"f"));break}};class ko extends z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,a){return this._client.post(`/assistants/${t}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/assistants",Qo,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Qo extends Ae{}ko.AssistantsPage=Qo;function dh(e){return typeof e.parse=="function"}const ka=e=>(e==null?void 0:e.role)==="assistant",lp=e=>(e==null?void 0:e.role)==="function",sp=e=>(e==null?void 0:e.role)==="tool";function Vo(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Cs(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Uv(e,t){return!t||!ip(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Zo(e,t)}function Zo(e,t){const n=e.choices.map(a=>{var l;if(a.finish_reason==="length")throw new Gg;if(a.finish_reason==="content_filter")throw new Yg;return{...a,message:{...a.message,...a.message.tool_calls?{tool_calls:((l=a.message.tool_calls)==null?void 0:l.map(s=>Bv(t,s)))??void 0}:void 0,parsed:a.message.content&&!a.message.refusal?zv(t,a.message.content):null}}});return{...e,choices:n}}function zv(e,t){var n,a;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((a=e.response_format)==null?void 0:a.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Bv(e,t){var a;const n=(a=e.tools)==null?void 0:a.find(l=>{var s;return((s=l.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Cs(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Hv(e,t){var a;if(!e)return!1;const n=(a=e.tools)==null?void 0:a.find(l=>{var s;return((s=l.function)==null?void 0:s.name)===t.function.name});return Cs(n)||(n==null?void 0:n.function.strict)||!1}function ip(e){var t;return Vo(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Cs(n)||n.type==="function"&&n.function.strict===!0))??!1}function Lv(e){for(const t of e??[]){if(t.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new D(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ze=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},He,Dc,ir,Uc,zc,Bc,rp,Hc;const hh=10;class up extends Xo{constructor(){super(...arguments),He.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var a;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(a=t.choices[0])==null?void 0:a.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(lp(t)||sp(t))&&t.content)this._emit("functionCallResult",t.content);else if(ka(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(ka(t)&&t.tool_calls)for(const a of t.tool_calls)a.type==="function"&&this._emit("functionCall",a.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new D("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Ze(this,He,"m",Dc).call(this)}async finalMessage(){return await this.done(),Ze(this,He,"m",ir).call(this)}async finalFunctionCall(){return await this.done(),Ze(this,He,"m",Uc).call(this)}async finalFunctionCallResult(){return await this.done(),Ze(this,He,"m",zc).call(this)}async totalUsage(){return await this.done(),Ze(this,He,"m",Bc).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Ze(this,He,"m",ir).call(this);n&&this._emit("finalMessage",n);const a=Ze(this,He,"m",Dc).call(this);a&&this._emit("finalContent",a);const l=Ze(this,He,"m",Uc).call(this);l&&this._emit("finalFunctionCall",l);const s=Ze(this,He,"m",zc).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",Ze(this,He,"m",Bc).call(this))}async _createChatCompletion(t,n,a){const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),Ze(this,He,"m",rp).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...a,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Zo(s,n))}async _runChatCompletion(t,n,a){for(const l of n.messages)this._addMessage(l,!1);return await this._createChatCompletion(t,n,a)}async _runFunctions(t,n,a){var m;const l="function",{function_call:s="auto",stream:i,...r}=n,c=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:o=hh}=a||{},g={};for(const h of n.functions)g[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<o;++h){const v=(m=(await this._createChatCompletion(t,{...r,function_call:s,functions:d,messages:[...this.messages]},a)).choices[0])==null?void 0:m.message;if(!v)throw new D("missing message in ChatCompletion response");if(!v.function_call)return;const{name:_,arguments:p}=v.function_call,f=g[_];if(f){if(c&&c!==_){const E=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:l,name:_,content:E});continue}}else{const E=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${d.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:l,name:_,content:E});continue}let y;try{y=dh(f)?await f.parse(p):p}catch(E){this._addMessage({role:l,name:_,content:E instanceof Error?E.message:String(E)});continue}const b=await f.function(y,this),w=Ze(this,He,"m",Hc).call(this,b);if(this._addMessage({role:l,name:_,content:w}),c)return}}async _runTools(t,n,a){var h,x,v;const l="tool",{tool_choice:s="auto",stream:i,...r}=n,c=typeof s!="string"&&((h=s==null?void 0:s.function)==null?void 0:h.name),{maxChatCompletions:o=hh}=a||{},g=n.tools.map(_=>{if(Cs(_)){if(!_.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),d={};for(const _ of g)_.type==="function"&&(d[_.function.name||_.function.function.name]=_.function);const m="tools"in n?g.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<o;++_){const f=(x=(await this._createChatCompletion(t,{...r,tool_choice:s,tools:m,messages:[...this.messages]},a)).choices[0])==null?void 0:x.message;if(!f)throw new D("missing message in ChatCompletion response");if(!((v=f.tool_calls)!=null&&v.length))return;for(const y of f.tool_calls){if(y.type!=="function")continue;const b=y.id,{name:w,arguments:E}=y.function,S=d[w];if(S){if(c&&c!==w){const H=`Invalid tool_call: ${JSON.stringify(w)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:l,tool_call_id:b,content:H});continue}}else{const H=`Invalid tool_call: ${JSON.stringify(w)}. Available options are: ${Object.keys(d).map(ee=>JSON.stringify(ee)).join(", ")}. Please try again`;this._addMessage({role:l,tool_call_id:b,content:H});continue}let T;try{T=dh(S)?await S.parse(E):E}catch(H){const ee=H instanceof Error?H.message:String(H);this._addMessage({role:l,tool_call_id:b,content:ee});continue}const j=await S.function(T,this),O=Ze(this,He,"m",Hc).call(this,j);if(this._addMessage({role:l,tool_call_id:b,content:O}),c)return}}}}He=new WeakSet,Dc=function(){return Ze(this,He,"m",ir).call(this).content??null},ir=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(ka(n)){const{function_call:a,...l}=n,s={...l,content:n.content??null,refusal:n.refusal??null};return a&&(s.function_call=a),s}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},Uc=function(){var t,n;for(let a=this.messages.length-1;a>=0;a--){const l=this.messages[a];if(ka(l)&&(l!=null&&l.function_call))return l.function_call;if(ka(l)&&((t=l==null?void 0:l.tool_calls)!=null&&t.length))return(n=l.tool_calls.at(-1))==null?void 0:n.function}},zc=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(lp(n)&&n.content!=null||sp(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(a=>{var l;return a.role==="assistant"&&((l=a.tool_calls)==null?void 0:l.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Bc=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},rp=function(t){if(t.n!=null&&t.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Hc=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class os extends up{static runFunctions(t,n,a){const l=new os,s={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runFunctions"}};return l._run(()=>l._runFunctions(t,n,s)),l}static runTools(t,n,a){const l=new os,s={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(t,n,s)),l}_addMessage(t,n=!0){super._addMessage(t,n),ka(t)&&t.content&&this._emit("content",t.content)}}const cp=1,op=2,fp=4,dp=8,hp=16,mp=32,gp=64,pp=128,yp=256,bp=pp|yp,xp=hp|mp|bp|gp,vp=cp|op|xp,_p=fp|dp,$v=vp|_p,Ee={STR:cp,NUM:op,ARR:fp,OBJ:dp,NULL:hp,BOOL:mp,NAN:gp,INFINITY:pp,MINUS_INFINITY:yp,INF:bp,SPECIAL:xp,ATOM:vp,COLLECTION:_p,ALL:$v};class qv extends Error{}class Gv extends Error{}function Yv(e,t=Ee.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Xv(e.trim(),t)}const Xv=(e,t)=>{const n=e.length;let a=0;const l=m=>{throw new qv(`${m} at position ${a}`)},s=m=>{throw new Gv(`${m} at position ${a}`)},i=()=>(d(),a>=n&&l("Unexpected end of input"),e[a]==='"'?r():e[a]==="{"?c():e[a]==="["?o():e.substring(a,a+4)==="null"||Ee.NULL&t&&n-a<4&&"null".startsWith(e.substring(a))?(a+=4,null):e.substring(a,a+4)==="true"||Ee.BOOL&t&&n-a<4&&"true".startsWith(e.substring(a))?(a+=4,!0):e.substring(a,a+5)==="false"||Ee.BOOL&t&&n-a<5&&"false".startsWith(e.substring(a))?(a+=5,!1):e.substring(a,a+8)==="Infinity"||Ee.INFINITY&t&&n-a<8&&"Infinity".startsWith(e.substring(a))?(a+=8,1/0):e.substring(a,a+9)==="-Infinity"||Ee.MINUS_INFINITY&t&&1<n-a&&n-a<9&&"-Infinity".startsWith(e.substring(a))?(a+=9,-1/0):e.substring(a,a+3)==="NaN"||Ee.NAN&t&&n-a<3&&"NaN".startsWith(e.substring(a))?(a+=3,NaN):g()),r=()=>{const m=a;let h=!1;for(a++;a<n&&(e[a]!=='"'||h&&e[a-1]==="\\");)h=e[a]==="\\"?!h:!1,a++;if(e.charAt(a)=='"')try{return JSON.parse(e.substring(m,++a-Number(h)))}catch(x){s(String(x))}else if(Ee.STR&t)try{return JSON.parse(e.substring(m,a-Number(h))+'"')}catch{return JSON.parse(e.substring(m,e.lastIndexOf("\\"))+'"')}l("Unterminated string literal")},c=()=>{a++,d();const m={};try{for(;e[a]!=="}";){if(d(),a>=n&&Ee.OBJ&t)return m;const h=r();d(),a++;try{const x=i();Object.defineProperty(m,h,{value:x,writable:!0,enumerable:!0,configurable:!0})}catch(x){if(Ee.OBJ&t)return m;throw x}d(),e[a]===","&&a++}}catch{if(Ee.OBJ&t)return m;l("Expected '}' at end of object")}return a++,m},o=()=>{a++;const m=[];try{for(;e[a]!=="]";)m.push(i()),d(),e[a]===","&&a++}catch{if(Ee.ARR&t)return m;l("Expected ']' at end of array")}return a++,m},g=()=>{if(a===0){e==="-"&&Ee.NUM&t&&l("Not sure what '-' is");try{return JSON.parse(e)}catch(h){if(Ee.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(h))}}const m=a;for(e[a]==="-"&&a++;e[a]&&!",]}".includes(e[a]);)a++;a==n&&!(Ee.NUM&t)&&l("Unterminated number literal");try{return JSON.parse(e.substring(m,a))}catch{e.substring(m,a)==="-"&&Ee.NUM&t&&l("Not sure what '-' is");try{return JSON.parse(e.substring(m,e.lastIndexOf("e")))}catch(x){s(String(x))}}},d=()=>{for(;a<n&&` 
\r	`.includes(e[a]);)a++};return i()},mh=e=>Yv(e,Ee.ALL^Ee.NUM);var da=function(e,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(e,n):l?l.value=n:t.set(e,n),n},F=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},be,Vt,ha,on,Eu,ni,Nu,ju,Tu,ai,Ru,gh;class fs extends up{constructor(t){super(),be.add(this),Vt.set(this,void 0),ha.set(this,void 0),on.set(this,void 0),da(this,Vt,t,"f"),da(this,ha,[],"f")}get currentChatCompletionSnapshot(){return F(this,on,"f")}static fromReadableStream(t){const n=new fs(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,a){const l=new fs(n);return l._run(()=>l._runChatCompletion(t,{...n,stream:!0},{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createChatCompletion(t,n,a){var i;super._createChatCompletion;const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),F(this,be,"m",Eu).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...a,signal:this.controller.signal});this._connected();for await(const r of s)F(this,be,"m",Nu).call(this,r);if((i=s.controller.signal)!=null&&i.aborted)throw new bt;return this._addChatCompletion(F(this,be,"m",ai).call(this))}async _fromReadableStream(t,n){var i;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),F(this,be,"m",Eu).call(this),this._connected();const l=Bt.fromReadableStream(t,this.controller);let s;for await(const r of l)s&&s!==r.id&&this._addChatCompletion(F(this,be,"m",ai).call(this)),F(this,be,"m",Nu).call(this,r),s=r.id;if((i=l.controller.signal)!=null&&i.aborted)throw new bt;return this._addChatCompletion(F(this,be,"m",ai).call(this))}[(Vt=new WeakMap,ha=new WeakMap,on=new WeakMap,be=new WeakSet,Eu=function(){this.ended||da(this,on,void 0,"f")},ni=function(n){let a=F(this,ha,"f")[n.index];return a||(a={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},F(this,ha,"f")[n.index]=a,a)},Nu=function(n){var l,s,i,r,c,o,g,d,m,h,x,v,_,p,f;if(this.ended)return;const a=F(this,be,"m",gh).call(this,n);this._emit("chunk",n,a);for(const y of n.choices){const b=a.choices[y.index];y.delta.content!=null&&((l=b.message)==null?void 0:l.role)==="assistant"&&((s=b.message)!=null&&s.content)&&(this._emit("content",y.delta.content,b.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:b.message.content,parsed:b.message.parsed})),y.delta.refusal!=null&&((i=b.message)==null?void 0:i.role)==="assistant"&&((r=b.message)!=null&&r.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:b.message.refusal}),((c=y.logprobs)==null?void 0:c.content)!=null&&((o=b.message)==null?void 0:o.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(g=y.logprobs)==null?void 0:g.content,snapshot:((d=b.logprobs)==null?void 0:d.content)??[]}),((m=y.logprobs)==null?void 0:m.refusal)!=null&&((h=b.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(x=y.logprobs)==null?void 0:x.refusal,snapshot:((v=b.logprobs)==null?void 0:v.refusal)??[]});const w=F(this,be,"m",ni).call(this,b);b.finish_reason&&(F(this,be,"m",Tu).call(this,b),w.current_tool_call_index!=null&&F(this,be,"m",ju).call(this,b,w.current_tool_call_index));for(const E of y.delta.tool_calls??[])w.current_tool_call_index!==E.index&&(F(this,be,"m",Tu).call(this,b),w.current_tool_call_index!=null&&F(this,be,"m",ju).call(this,b,w.current_tool_call_index)),w.current_tool_call_index=E.index;for(const E of y.delta.tool_calls??[]){const S=(_=b.message.tool_calls)==null?void 0:_[E.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(p=S.function)==null?void 0:p.name,index:E.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((f=E.function)==null?void 0:f.arguments)??""}):(S==null||S.type,void 0))}}},ju=function(n,a){var i,r,c;if(F(this,be,"m",ni).call(this,n).done_tool_calls.has(a))return;const s=(i=n.message.tool_calls)==null?void 0:i[a];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const o=(c=(r=F(this,Vt,"f"))==null?void 0:r.tools)==null?void 0:c.find(g=>g.type==="function"&&g.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:a,arguments:s.function.arguments,parsed_arguments:Cs(o)?o.$parseRaw(s.function.arguments):o!=null&&o.function.strict?JSON.parse(s.function.arguments):null})}else s.type},Tu=function(n){var l,s;const a=F(this,be,"m",ni).call(this,n);if(n.message.content&&!a.content_done){a.content_done=!0;const i=F(this,be,"m",Ru).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!a.refusal_done&&(a.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(l=n.logprobs)!=null&&l.content&&!a.logprobs_content_done&&(a.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!a.logprobs_refusal_done&&(a.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ai=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=F(this,on,"f");if(!n)throw new D("request ended without sending any chunks");return da(this,on,void 0,"f"),da(this,ha,[],"f"),kv(n,F(this,Vt,"f"))},Ru=function(){var a;const n=(a=F(this,Vt,"f"))==null?void 0:a.response_format;return Vo(n)?n:null},gh=function(n){var a,l,s,i;let r=F(this,on,"f");const{choices:c,...o}=n;r?Object.assign(r,o):r=da(this,on,{...o,choices:[]},"f");for(const{delta:g,finish_reason:d,index:m,logprobs:h=null,...x}of n.choices){let v=r.choices[m];if(v||(v=r.choices[m]={finish_reason:d,index:m,message:{},logprobs:h,...x}),h)if(!v.logprobs)v.logprobs=Object.assign({},h);else{const{content:E,refusal:S,...T}=h;Object.assign(v.logprobs,T),E&&((a=v.logprobs).content??(a.content=[]),v.logprobs.content.push(...E)),S&&((l=v.logprobs).refusal??(l.refusal=[]),v.logprobs.refusal.push(...S))}if(d&&(v.finish_reason=d,F(this,Vt,"f")&&ip(F(this,Vt,"f")))){if(d==="length")throw new Gg;if(d==="content_filter")throw new Yg}if(Object.assign(v,x),!g)continue;const{content:_,refusal:p,function_call:f,role:y,tool_calls:b,...w}=g;if(Object.assign(v.message,w),p&&(v.message.refusal=(v.message.refusal||"")+p),y&&(v.message.role=y),f&&(v.message.function_call?(f.name&&(v.message.function_call.name=f.name),f.arguments&&((s=v.message.function_call).arguments??(s.arguments=""),v.message.function_call.arguments+=f.arguments)):v.message.function_call=f),_&&(v.message.content=(v.message.content||"")+_,!v.message.refusal&&F(this,be,"m",Ru).call(this)&&(v.message.parsed=mh(v.message.content))),b){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:E,id:S,type:T,function:j,...O}of b){const H=(i=v.message.tool_calls)[E]??(i[E]={});Object.assign(H,O),S&&(H.id=S),T&&(H.type=T),j&&(H.function??(H.function={name:j.name??"",arguments:""})),j!=null&&j.name&&(H.function.name=j.name),j!=null&&j.arguments&&(H.function.arguments+=j.arguments,Hv(F(this,Vt,"f"),H)&&(H.function.parsed_arguments=mh(H.function.arguments)))}}}return r},Symbol.asyncIterator)](){const t=[],n=[];let a=!1;return this.on("chunk",l=>{const s=n.shift();s?s.resolve(l):t.push(l)}),this.on("end",()=>{a=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{a=!0;for(const s of n)s.reject(l);n.length=0}),this.on("error",l=>{a=!0;for(const s of n)s.reject(l);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((s,i)=>n.push({resolve:s,reject:i})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Bt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function kv(e,t){const{id:n,choices:a,created:l,model:s,system_fingerprint:i,...r}=e,c={...r,id:n,choices:a.map(({message:o,finish_reason:g,index:d,logprobs:m,...h})=>{if(!g)throw new D(`missing finish_reason for choice ${d}`);const{content:x=null,function_call:v,tool_calls:_,...p}=o,f=o.role;if(!f)throw new D(`missing role for choice ${d}`);if(v){const{arguments:y,name:b}=v;if(y==null)throw new D(`missing function_call.arguments for choice ${d}`);if(!b)throw new D(`missing function_call.name for choice ${d}`);return{...h,message:{content:x,function_call:{arguments:y,name:b},role:f,refusal:o.refusal??null},finish_reason:g,index:d,logprobs:m}}return _?{...h,index:d,finish_reason:g,logprobs:m,message:{...p,role:f,content:x,refusal:o.refusal??null,tool_calls:_.map((y,b)=>{const{function:w,type:E,id:S,...T}=y,{arguments:j,name:O,...H}=w||{};if(S==null)throw new D(`missing choices[${d}].tool_calls[${b}].id
${li(e)}`);if(E==null)throw new D(`missing choices[${d}].tool_calls[${b}].type
${li(e)}`);if(O==null)throw new D(`missing choices[${d}].tool_calls[${b}].function.name
${li(e)}`);if(j==null)throw new D(`missing choices[${d}].tool_calls[${b}].function.arguments
${li(e)}`);return{...T,id:S,type:E,function:{...H,name:O,arguments:j}}})}}:{...h,message:{...p,content:x,role:f,refusal:o.refusal??null},finish_reason:g,index:d,logprobs:m}}),created:l,model:s,object:"chat.completion",...i?{system_fingerprint:i}:{}};return Uv(c,t)}function li(e){return JSON.stringify(e)}class Qa extends fs{static fromReadableStream(t){const n=new Qa(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,a){const l=new Qa(null),s={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runFunctions"}};return l._run(()=>l._runFunctions(t,n,s)),l}static runTools(t,n,a){const l=new Qa(n),s={...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(t,n,s)),l}}let Sp=class extends z{parse(t,n){return Lv(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(a=>Zo(a,t))}runFunctions(t,n){return t.stream?Qa.runFunctions(this._client,t,n):os.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Qa.runTools(this._client,t,n):os.runTools(this._client,t,n)}stream(t,n){return fs.createChatCompletion(this._client,t,n)}};class Lc extends z{constructor(){super(...arguments),this.completions=new Sp(this._client)}}(function(e){e.Completions=Sp})(Lc||(Lc={}));class wp extends z{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ap extends z{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Dr extends z{constructor(){super(...arguments),this.sessions=new wp(this._client),this.transcriptionSessions=new Ap(this._client)}}Dr.Sessions=wp;Dr.TranscriptionSessions=Ap;class Ko extends z{create(t,n,a){return this._client.post(`/threads/${t}/messages`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,n,a){return this._client.get(`/threads/${t}/messages/${n}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,n,a,l){return this._client.post(`/threads/${t}/messages/${n}`,{body:a,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,Jo,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,n,a){return this._client.delete(`/threads/${t}/messages/${n}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Jo extends Ae{}Ko.MessagesPage=Jo;class Po extends z{retrieve(t,n,a,l={},s){return ce(l)?this.retrieve(t,n,a,{},l):this._client.get(`/threads/${t}/runs/${n}/steps/${a}`,{query:l,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n,a={},l){return ce(a)?this.list(t,n,{},a):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Fo,{query:a,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}}class Fo extends Ae{}Po.RunStepsPage=Fo;let Ms=class extends z{constructor(){super(...arguments),this.steps=new Po(this._client)}create(t,n,a){const{include:l,...s}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:l},body:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:n.stream??!1})}retrieve(t,n,a){return this._client.get(`/threads/${t}/runs/${n}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,n,a,l){return this._client.post(`/threads/${t}/runs/${n}`,{body:a,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,Io,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}cancel(t,n,a){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async createAndPoll(t,n,a){const l=await this.create(t,n,a);return await this.poll(t,l.id,a)}createAndStream(t,n,a){return Et.createAssistantStream(t,this._client.beta.threads.runs,n,a)}async poll(t,n,a){const l={...a==null?void 0:a.headers,"X-Stainless-Poll-Helper":"true"};for(a!=null&&a.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const{data:s,response:i}=await this.retrieve(t,n,{...a,headers:{...a==null?void 0:a.headers,...l}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let r=5e3;if(a!=null&&a.pollIntervalMs)r=a.pollIntervalMs;else{const c=i.headers.get("openai-poll-after-ms");if(c){const o=parseInt(c);isNaN(o)||(r=o)}}await Rs(r);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,n,a){return Et.createAssistantStream(t,this._client.beta.threads.runs,n,a)}submitToolOutputs(t,n,a,l){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:a,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers},stream:a.stream??!1})}async submitToolOutputsAndPoll(t,n,a,l){const s=await this.submitToolOutputs(t,n,a,l);return await this.poll(t,s.id,l)}submitToolOutputsStream(t,n,a,l){return Et.createToolAssistantStream(t,n,this._client.beta.threads.runs,a,l)}};class Io extends Ae{}Ms.RunsPage=Io;Ms.Steps=Po;Ms.RunStepsPage=Fo;class ol extends z{constructor(){super(...arguments),this.runs=new Ms(this._client),this.messages=new Ko(this._client)}create(t={},n){return ce(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,a){return this._client.post(`/threads/${t}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const a=await this.createAndRun(t,n);return await this.runs.poll(a.thread_id,a.id,n)}createAndRunStream(t,n){return Et.createThreadAssistantStream(t,this._client.beta.threads,n)}}ol.Runs=Ms;ol.RunsPage=Io;ol.Messages=Ko;ol.MessagesPage=Jo;class fl extends z{constructor(){super(...arguments),this.realtime=new Dr(this._client),this.chat=new Lc(this._client),this.assistants=new ko(this._client),this.threads=new ol(this._client)}}fl.Realtime=Dr;fl.Assistants=ko;fl.AssistantsPage=Qo;fl.Threads=ol;class Ep extends z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Np extends z{retrieve(t,n,a){return this._client.get(`/containers/${t}/files/${n}/content`,{...a,headers:{Accept:"application/binary",...a==null?void 0:a.headers},__binaryResponse:!0})}}let Ur=class extends z{constructor(){super(...arguments),this.content=new Np(this._client)}create(t,n,a){return this._client.post(`/containers/${t}/files`,sa({body:n,...a}))}retrieve(t,n,a){return this._client.get(`/containers/${t}/files/${n}`,a)}list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,Wo,{query:n,...a})}del(t,n,a){return this._client.delete(`/containers/${t}/files/${n}`,{...a,headers:{Accept:"*/*",...a==null?void 0:a.headers}})}};class Wo extends Ae{}Ur.FileListResponsesPage=Wo;Ur.Content=Np;class Ds extends z{constructor(){super(...arguments),this.files=new Ur(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/containers",ef,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class ef extends Ae{}Ds.ContainerListResponsesPage=ef;Ds.Files=Ur;Ds.FileListResponsesPage=Wo;class jp extends z{create(t,n){const a=!!t.encoding_format;let l=a?t.encoding_format:"base64";a&&Mn("Request","User defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:l},...n});return a?s:(Mn("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(i=>(i&&i.data&&i.data.forEach(r=>{const c=r.embedding;r.embedding=Mv(c)}),i)))}}class tf extends z{retrieve(t,n,a,l){return this._client.get(`/evals/${t}/runs/${n}/output_items/${a}`,l)}list(t,n,a={},l){return ce(a)?this.list(t,n,{},a):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,nf,{query:a,...l})}}class nf extends Ae{}tf.OutputItemListResponsesPage=nf;class Us extends z{constructor(){super(...arguments),this.outputItems=new tf(this._client)}create(t,n,a){return this._client.post(`/evals/${t}/runs`,{body:n,...a})}retrieve(t,n,a){return this._client.get(`/evals/${t}/runs/${n}`,a)}list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,af,{query:n,...a})}del(t,n,a){return this._client.delete(`/evals/${t}/runs/${n}`,a)}cancel(t,n,a){return this._client.post(`/evals/${t}/runs/${n}`,a)}}class af extends Ae{}Us.RunListResponsesPage=af;Us.OutputItems=tf;Us.OutputItemListResponsesPage=nf;class zs extends z{constructor(){super(...arguments),this.runs=new Us(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,a){return this._client.post(`/evals/${t}`,{body:n,...a})}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/evals",lf,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class lf extends Ae{}zs.EvalListResponsesPage=lf;zs.Runs=Us;zs.RunListResponsesPage=af;let sf=class extends z{create(t,n){return this._client.post("/files",sa({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/files",rf,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:a=30*60*1e3}={}){const l=new Set(["processed","error","deleted"]),s=Date.now();let i=await this.retrieve(t);for(;!i.status||!l.has(i.status);)if(await Rs(n),i=await this.retrieve(t),Date.now()-s>a)throw new qo({message:`Giving up on waiting for file ${t} to finish processing after ${a} milliseconds.`});return i}};class rf extends Ae{}sf.FileObjectsPage=rf;class Tp extends z{}let Rp=class extends z{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class uf extends z{constructor(){super(...arguments),this.graders=new Rp(this._client)}}uf.Graders=Rp;class cf extends z{create(t,n,a){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,of,{body:n,method:"post",...a})}retrieve(t,n={},a){return ce(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...a})}del(t,n,a){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,a)}}class of extends Rr{}cf.PermissionCreateResponsesPage=of;let zr=class extends z{constructor(){super(...arguments),this.permissions=new cf(this._client)}};zr.Permissions=cf;zr.PermissionCreateResponsesPage=of;class ff extends z{list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,df,{query:n,...a})}}class df extends Ae{}ff.FineTuningJobCheckpointsPage=df;class dl extends z{constructor(){super(...arguments),this.checkpoints=new ff(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",hf,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},a){return ce(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,mf,{query:n,...a})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class hf extends Ae{}class mf extends Ae{}dl.FineTuningJobsPage=hf;dl.FineTuningJobEventsPage=mf;dl.Checkpoints=ff;dl.FineTuningJobCheckpointsPage=df;class Ln extends z{constructor(){super(...arguments),this.methods=new Tp(this._client),this.jobs=new dl(this._client),this.checkpoints=new zr(this._client),this.alpha=new uf(this._client)}}Ln.Methods=Tp;Ln.Jobs=dl;Ln.FineTuningJobsPage=hf;Ln.FineTuningJobEventsPage=mf;Ln.Checkpoints=zr;Ln.Alpha=uf;class Op extends z{}class gf extends z{constructor(){super(...arguments),this.graderModels=new Op(this._client)}}gf.GraderModels=Op;class Cp extends z{createVariation(t,n){return this._client.post("/images/variations",sa({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",sa({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class pf extends z{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",yf,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class yf extends Rr{}pf.ModelsPage=yf;class Mp extends z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function Qv(e,t){return!t||!Zv(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(a=>({...a,parsed:null}))}:n)}:Dp(e,t)}function Dp(e,t){const n=e.output.map(l=>{if(l.type==="function_call")return{...l,parsed_arguments:Pv(t,l)};if(l.type==="message"){const s=l.content.map(i=>i.type==="output_text"?{...i,parsed:Vv(t,i.text)}:i);return{...l,content:s}}return l}),a=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Up(a),Object.defineProperty(a,"output_parsed",{enumerable:!0,get(){for(const l of a.output)if(l.type==="message"){for(const s of l.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),a}function Vv(e,t){var n,a,l,s;return((a=(n=e.text)==null?void 0:n.format)==null?void 0:a.type)!=="json_schema"?null:"$parseRaw"in((l=e.text)==null?void 0:l.format)?((s=e.text)==null?void 0:s.format).$parseRaw(t):JSON.parse(t)}function Zv(e){var t;return!!Vo((t=e.text)==null?void 0:t.format)}function Kv(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Jv(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Pv(e,t){const n=Jv(e.tools??[],t.name);return{...t,...t,parsed_arguments:Kv(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Up(e){const t=[];for(const n of e.output)if(n.type==="message")for(const a of n.content)a.type==="output_text"&&t.push(a.text);e.output_text=t.join("")}class zp extends z{list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,Iv,{query:n,...a})}}var ma=function(e,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!l:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(e,n):l?l.value=n:t.set(e,n),n},fn=function(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)},ga,si,dn,ii,ph,yh,bh,xh;class bf extends Xo{constructor(t){super(),ga.add(this),si.set(this,void 0),dn.set(this,void 0),ii.set(this,void 0),ma(this,si,t,"f")}static createResponse(t,n,a){const l=new bf(n);return l._run(()=>l._createOrRetrieveResponse(t,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createOrRetrieveResponse(t,n,a){var r;const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),fn(this,ga,"m",ph).call(this);let s,i=null;"response_id"in n?(s=await t.responses.retrieve(n.response_id,{stream:!0},{...a,signal:this.controller.signal,stream:!0}),i=n.starting_after??null):s=await t.responses.create({...n,stream:!0},{...a,signal:this.controller.signal}),this._connected();for await(const c of s)fn(this,ga,"m",yh).call(this,c,i);if((r=s.controller.signal)!=null&&r.aborted)throw new bt;return fn(this,ga,"m",bh).call(this)}[(si=new WeakMap,dn=new WeakMap,ii=new WeakMap,ga=new WeakSet,ph=function(){this.ended||ma(this,dn,void 0,"f")},yh=function(n,a){if(this.ended)return;const l=(i,r)=>{(a==null||r.sequence_number>a)&&this._emit(i,r)},s=fn(this,ga,"m",xh).call(this,n);switch(l("event",n),n.type){case"response.output_text.delta":{const i=s.output[n.output_index];if(!i)throw new D(`missing output at index ${n.output_index}`);if(i.type==="message"){const r=i.content[n.content_index];if(!r)throw new D(`missing content at index ${n.content_index}`);if(r.type!=="output_text")throw new D(`expected content to be 'output_text', got ${r.type}`);l("response.output_text.delta",{...n,snapshot:r.text})}break}case"response.function_call_arguments.delta":{const i=s.output[n.output_index];if(!i)throw new D(`missing output at index ${n.output_index}`);i.type==="function_call"&&l("response.function_call_arguments.delta",{...n,snapshot:i.arguments});break}default:l(n.type,n);break}},bh=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=fn(this,dn,"f");if(!n)throw new D("request ended without sending any events");ma(this,dn,void 0,"f");const a=Fv(n,fn(this,si,"f"));return ma(this,ii,a,"f"),a},xh=function(n){let a=fn(this,dn,"f");if(!a){if(n.type!=="response.created")throw new D(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return a=ma(this,dn,n.response,"f"),a}switch(n.type){case"response.output_item.added":{a.output.push(n.item);break}case"response.content_part.added":{const l=a.output[n.output_index];if(!l)throw new D(`missing output at index ${n.output_index}`);l.type==="message"&&l.content.push(n.part);break}case"response.output_text.delta":{const l=a.output[n.output_index];if(!l)throw new D(`missing output at index ${n.output_index}`);if(l.type==="message"){const s=l.content[n.content_index];if(!s)throw new D(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new D(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const l=a.output[n.output_index];if(!l)throw new D(`missing output at index ${n.output_index}`);l.type==="function_call"&&(l.arguments+=n.delta);break}case"response.completed":{ma(this,dn,n.response,"f");break}}return a},Symbol.asyncIterator)](){const t=[],n=[];let a=!1;return this.on("event",l=>{const s=n.shift();s?s.resolve(l):t.push(l)}),this.on("end",()=>{a=!0;for(const l of n)l.resolve(void 0);n.length=0}),this.on("abort",l=>{a=!0;for(const s of n)s.reject(l);n.length=0}),this.on("error",l=>{a=!0;for(const s of n)s.reject(l);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((s,i)=>n.push({resolve:s,reject:i})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=fn(this,ii,"f");if(!t)throw new D("stream ended without producing a ChatCompletion");return t}}function Fv(e,t){return Qv(e,t)}class xf extends z{constructor(){super(...arguments),this.inputItems=new zp(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&Up(a),a))}retrieve(t,n={},a){return this._client.get(`/responses/${t}`,{query:n,...a,stream:(n==null?void 0:n.stream)??!1})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(a=>Dp(a,t))}stream(t,n){return bf.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Iv extends Ae{}xf.InputItems=zp;class Bp extends z{create(t,n,a){return this._client.post(`/uploads/${t}/parts`,sa({body:n,...a}))}}class vf extends z{constructor(){super(...arguments),this.parts=new Bp(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,a){return this._client.post(`/uploads/${t}/complete`,{body:n,...a})}}vf.Parts=Bp;const Wv=async e=>{const t=await Promise.allSettled(e),n=t.filter(l=>l.status==="rejected");if(n.length){for(const l of n)console.error(l.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const a=[];for(const l of t)l.status==="fulfilled"&&a.push(l.value);return a};class Br extends z{create(t,n,a){return this._client.post(`/vector_stores/${t}/files`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,n,a){return this._client.get(`/vector_stores/${t}/files/${n}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,n,a,l){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:a,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,n={},a){return ce(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Hr,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,n,a){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async createAndPoll(t,n,a){const l=await this.create(t,n,a);return await this.poll(t,l.id,a)}async poll(t,n,a){const l={...a==null?void 0:a.headers,"X-Stainless-Poll-Helper":"true"};for(a!=null&&a.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const s=await this.retrieve(t,n,{...a,headers:l}).withResponse(),i=s.data;switch(i.status){case"in_progress":let r=5e3;if(a!=null&&a.pollIntervalMs)r=a.pollIntervalMs;else{const c=s.response.headers.get("openai-poll-after-ms");if(c){const o=parseInt(c);isNaN(o)||(r=o)}}await Rs(r);break;case"failed":case"completed":return i}}}async upload(t,n,a){const l=await this._client.files.create({file:n,purpose:"assistants"},a);return this.create(t,{file_id:l.id},a)}async uploadAndPoll(t,n,a){const l=await this.upload(t,n,a);return await this.poll(t,l.id,a)}content(t,n,a){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,_f,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Hr extends Ae{}class _f extends Rr{}Br.VectorStoreFilesPage=Hr;Br.FileContentResponsesPage=_f;class Hp extends z{create(t,n,a){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,n,a){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}cancel(t,n,a){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async createAndPoll(t,n,a){const l=await this.create(t,n);return await this.poll(t,l.id,a)}listFiles(t,n,a={},l){return ce(a)?this.listFiles(t,n,{},a):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Hr,{query:a,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}async poll(t,n,a){const l={...a==null?void 0:a.headers,"X-Stainless-Poll-Helper":"true"};for(a!=null&&a.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const{data:s,response:i}=await this.retrieve(t,n,{...a,headers:l}).withResponse();switch(s.status){case"in_progress":let r=5e3;if(a!=null&&a.pollIntervalMs)r=a.pollIntervalMs;else{const c=i.headers.get("openai-poll-after-ms");if(c){const o=parseInt(c);isNaN(o)||(r=o)}}await Rs(r);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:n,fileIds:a=[]},l){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(l==null?void 0:l.maxConcurrency)??5,i=Math.min(s,n.length),r=this._client,c=n.values(),o=[...a];async function g(m){for(let h of m){const x=await r.files.create({file:h,purpose:"assistants"},l);o.push(x.id)}}const d=Array(i).fill(c).map(g);return await Wv(d),await this.createAndPoll(t,{file_ids:o})}}class $n extends z{constructor(){super(...arguments),this.files=new Br(this._client),this.fileBatches=new Hp(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,a){return this._client.post(`/vector_stores/${t}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t={},n){return ce(t)?this.list({},t):this._client.getAPIList("/vector_stores",Sf,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,a){return this._client.getAPIList(`/vector_stores/${t}/search`,wf,{body:n,method:"post",...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Sf extends Ae{}class wf extends Rr{}$n.VectorStoresPage=Sf;$n.VectorStoreSearchResponsesPage=wf;$n.Files=Br;$n.VectorStoreFilesPage=Hr;$n.FileContentResponsesPage=_f;$n.FileBatches=Hp;var Lp;class q extends vv{constructor({baseURL:t=ei("OPENAI_BASE_URL"),apiKey:n=ei("OPENAI_API_KEY"),organization:a=ei("OPENAI_ORG_ID")??null,project:l=ei("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:n,organization:a,project:l,...s,baseURL:t||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&Ov())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new Ep(this),this.chat=new Mr(this),this.embeddings=new jp(this),this.files=new sf(this),this.images=new Cp(this),this.audio=new Os(this),this.moderations=new Mp(this),this.models=new pf(this),this.fineTuning=new Ln(this),this.graders=new gf(this),this.vectorStores=new $n(this),this.beta=new fl(this),this.batches=new Go(this),this.uploads=new vf(this),this.responses=new xf(this),this.evals=new zs(this),this.containers=new Ds(this),this._options=i,this.apiKey=n,this.organization=a,this.project=l}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return nv(t,{arrayFormat:"brackets"})}}Lp=q;q.OpenAI=Lp;q.DEFAULT_TIMEOUT=6e5;q.OpenAIError=D;q.APIError=Ue;q.APIConnectionError=Er;q.APIConnectionTimeoutError=qo;q.APIUserAbortError=bt;q.NotFoundError=Bg;q.ConflictError=Hg;q.RateLimitError=$g;q.BadRequestError=Dg;q.AuthenticationError=Ug;q.InternalServerError=qg;q.PermissionDeniedError=zg;q.UnprocessableEntityError=Lg;q.toFile=Vg;q.fileFromPath=Og;q.Completions=Ep;q.Chat=Mr;q.ChatCompletionsPage=Cr;q.Embeddings=jp;q.Files=sf;q.FileObjectsPage=rf;q.Images=Cp;q.Audio=Os;q.Moderations=Mp;q.Models=pf;q.ModelsPage=yf;q.FineTuning=Ln;q.Graders=gf;q.VectorStores=$n;q.VectorStoresPage=Sf;q.VectorStoreSearchResponsesPage=wf;q.Beta=fl;q.Batches=Go;q.BatchesPage=Yo;q.Uploads=vf;q.Responses=xf;q.Evals=zs;q.EvalListResponsesPage=lf;q.Containers=Ds;q.ContainerListResponsesPage=ef;const Ou="openai_api_key",ri="openai_api_key_validated";class e1{static setApiKey(t){localStorage.setItem(Ou,t),localStorage.setItem(ri,"false")}static getApiKey(){return localStorage.getItem(Ou)}static hasApiKey(){const t=this.getApiKey();return!!t&&t.length>0}static clearApiKey(){localStorage.removeItem(Ou),localStorage.removeItem(ri)}static async validateApiKey(t){try{const a=(await fetch("https://api.openai.com/v1/models",{headers:{Authorization:`Bearer ${t}`}})).ok;return a&&localStorage.setItem(ri,"true"),a}catch(n){return console.error("API key validation error:",n),!1}}static isKeyValidated(){return localStorage.getItem(ri)==="true"}}const ds=e1,Lr=()=>{const e=ds.getApiKey();if(!e)throw new Error("OpenAI API key not found. Please set your API key.");return new q({apiKey:e,dangerouslyAllowBrowser:!0})};function t1(e,t){const n=[],a=e.match(/=== REQUIRED IMAGES ===(.*?)=== END IMAGES ===/s);return a&&a[1].trim().split(/\n(?=\d+\.)/).forEach((i,r)=>{const c=i.match(/filename:\s*["']?([^"'\n]+)["']?/),o=i.match(/description:\s*["']?(.*?)["']?\s*(?:placement:|$)/s);if(c&&o){const g=o[1].trim(),d=`${r+1}.png`;g&&g!=="AI 이미지 생성기용 상세 프롬프트"&&n.push({filename:d,description:g})}}),n}function n1(e){const t=[],n=/\[IMAGE:\s*([^|]+?)\s*\|\s*([^\]]+?)\]/g;let a;for(;(a=n.exec(e))!==null;){const l=a[2].trim();l&&l!=="AI 이미지 생성기용 상세 프롬프트"&&t.push({filename:a[1].trim(),description:l})}return t}function a1(e){let t=e.replace(/=== REQUIRED IMAGES ===.*?=== END IMAGES ===/s,"");return t=t.replace(/\[IMAGE:[^\]]+\]/g,""),t.trim()}async function l1(e){const t=`
당신은 프로젝트의 전체적인 비주얼 컨셉을 잡는 아트 디렉터입니다. 사용자가 제공한 프로젝트 개요를 바탕으로, 프로젝트의 '비주얼 아이덴티티'를 정의해주세요.

### 📜 프로젝트 개요
- **프로젝트명**: ${e.projectTitle}
- **대상 학습자**: ${e.targetAudience}
- **사용자 추가 제안**: ${e.suggestions||"없음"}

### 📋 생성할 항목
1.  **Mood & Tone**: 프로젝트의 전반적인 분위기를 설명하는 핵심 키워드 3-4개를 제시해주세요. (예: "활기찬, 재미있는, 다채로운, 친근한")
2.  **Color Palette**: 분위기에 맞는 색상 팔레트를 HEX 코드로 제안해주세요. (primary, secondary, accent, text, background)
3.  **Typography**: 제목과 본문에 어울리는 폰트 패밀리와 기본 사이즈를 제안해주세요. (headingFont, bodyFont, baseSize)
4.  **Component Style**: 버튼, 카드 등 UI 요소의 전반적인 스타일을 간결하게 설명해주세요. (예: "버튼은 모서리가 둥글고, 카드에는 약간의 그림자 효과를 적용합니다.")

### 💻 출력 형식
반드시 다음 JSON 형식으로 응답해주세요:
{
    "moodAndTone": "활기찬, 재미있는, 다채로운, 친근한",
    "colorPalette": {
        "primary": "#4F46E5",
        "secondary": "#7C3AED",
        "accent": "#F59E0B",
        "text": "#1F2937",
        "background": "#FFFFFF"
    },
    "typography": {
        "headingFont": "Inter, system-ui, sans-serif",
        "bodyFont": "Inter, system-ui, sans-serif",
        "baseSize": "16px"
    },
    "componentStyle": "버튼은 모서리가 둥글고 호버 시 살짝 위로 올라가는 효과를 줍니다. 카드는 부드러운 그림자와 함께 깨끗한 흰색 배경을 가집니다."
}
`,n=await Lr().responses.create({model:"gpt-5",input:[{role:"system",content:"You are an expert art director specializing in educational content design. Always respond in valid JSON format."},{role:"user",content:t}]});try{return JSON.parse(n.output_text)}catch(a){throw console.error("Failed to parse JSON response:",a),new Error("Invalid response format from AI")}}async function vh(e,t,n){const a=e.suggestions?`
- 사용자 추가 제안사항: ${e.suggestions}`:"",l=e.pages.map((r,c)=>`페이지 ${c+1}: ${r.topic}`).join(`
`),s=e.pages.map(async(r,c)=>{const o=c+1,g=c>0?`이전 페이지: ${e.pages[c-1].topic}`:"첫 페이지입니다",d=c<e.pages.length-1?`다음 페이지: ${e.pages[c+1].topic}`:"마지막 페이지입니다",m=e.layoutMode||"fixed",h=m==="scrollable"?"가로 1600px 고정, 세로는 콘텐츠에 맞게 자유롭게 확장되는 스크롤 가능한 레이아웃":"스크롤 없는 1600x1000px 화면에 들어갈 콘텐츠 레이아웃",x=e.contentMode==="restricted"?"사용자가 제공한 페이지 주제의 내용만을 정확히 사용하여 레이아웃을 구성하세요. 추가적인 내용을 생성하지 마시고, 주어진 주제를 효과적으로 시각화하는 레이아웃과 디자인을 상세히 설명하세요. 레이아웃 구성, 섹션 배치, 시각적 요소의 배열은 자세히 서술하되, 내용은 주제에서 벗어나지 마세요.":"제공된 페이지 주제를 바탕으로 창의적으로 내용을 보강하고 확장하여 풍부한 교육 콘텐츠를 만드세요. 학습자의 이해를 돕는 추가 설명, 예시, 시각 자료 등을 자유롭게 제안하세요.",_=[{role:"user",content:[{type:"input_text",text:`당신은 주어진 '비주얼 아이덴티티'를 바탕으로 교육 콘텐츠 레이아웃을 구성하는 전문 UI 디자이너입니다. ${h}을 구성해주세요.

### 📌 콘텐츠 생성 방침
${x}

### ✨ 비주얼 아이덴티티 (반드시 준수할 것)
- **분위기**: ${t.moodAndTone}
- **핵심 디자인 원칙**: 콘텐츠의 중요도에 따라 시각적 계층(Visual Hierarchy)을 만드세요. 사용자의 시선이 자연스럽게 흐르도록 유도하고, 콘텐츠를 단순히 박스에 넣는 것이 아니라 콘텐츠 자체의 형태에 맞는 맞춤형 디자인을 하세요.

### 📍 전체 프로젝트 구성
${l}

### 📍 페이지 컨텍스트
- ${g}
- **현재 페이지 ${o}: ${r.topic}**
- ${d}
${r.contentAnalysis?`
### 📊 콘텐츠 분석 결과
- **예상 구성**: ${r.contentAnalysis.outline.join(", ")}
- **예상 섹션 수**: ${r.contentAnalysis.estimatedSections}개
- **콘텐츠 밀도**: ${r.contentAnalysis.densityScore>=.8?"높음 (분할 권장)":r.contentAnalysis.densityScore>=.6?"적정":"여유"}
`:""}

### 📜 핵심 규칙
1.  **자유 서술**: 정해진 키워드 없이, 개발자가 이해하기 쉽도록 레이아웃을 상세히 설명해주세요.
2.  **${m==="scrollable"?"콘텐츠 우선":"공간 최적화"}**: ${m==="scrollable"?"콘텐츠의 완전한 전달을 우선시하고, 적절한 여백으로 가독성을 확보하세요.":"콘텐츠를 화면에 효과적으로 배치하여 어색한 빈 공간이 생기지 않도록 하세요."}
3.  **이미지 최소화**: 학습에 필수적인 이미지만 사용하고, 장식용 이미지는 피하세요.
4.  **구조화된 이미지 섹션**: 이미지가 필요한 경우 응답 끝에 다음 형식으로 분리해주세요:

=== REQUIRED IMAGES ===
1. filename: "1.png"
   description: "AI 이미지 생성을 위한 상세한 설명"
   placement: "이미지가 배치될 위치"

2. filename: "2.png"
   description: "AI 이미지 생성을 위한 상세한 설명"
   placement: "이미지가 배치될 위치"
=== END IMAGES ===

**중요**: filename은 반드시 "1.png", "2.png", "3.png" 형태의 **숫자.png** 형식만 사용하세요. 다른 이름 (예: hero.png, diagram.png)은 절대 사용하지 마세요!
5.  **페이지 간 연결성**: 이전/다음 페이지와의 자연스러운 흐름을 고려하세요.
6.  **전체 일관성**: 프로젝트 전체의 흐름과 일관성을 유지하면서 현재 페이지의 특색을 살려주세요.

### 🚫 절대 금지 사항
- **페이지 네비게이션 금지**: 절대로 페이지 간 이동 버튼, 링크, 네비게이션 메뉴를 만들지 마세요. 각 페이지는 완전히 독립적인 HTML 파일입니다.
- **페이지 번호 표시 금지**: "1/5", "다음", "이전" 같은 페이지 표시나 버튼을 절대 만들지 마세요.
- **최소 폰트 크기**: 모든 텍스트는 반드시 18pt 이상으로 설정하세요. 본문은 18-20pt, 제목은 24pt 이상을 권장합니다.
- **이미지 파일명 규칙**: 이미지 파일명은 "1.png", "2.png", "3.png"만 사용하세요. hero.png, diagram.png, icon.png 같은 설명적 이름은 금지입니다!

### 📝 프로젝트 정보
- 프로젝트: ${e.projectTitle}
- 대상: ${e.targetAudience}${a}

이제 위의 가이드라인에 맞춰 페이지 레이아웃을 상세히 서술해주세요. 반드시 레이아웃 구조와 디자인을 구체적으로 설명해야 합니다.

⚠️ **파일명 규칙 재확인**: 이미지 파일명은 절대 "1.png", "2.png", "3.png" 외에는 사용하지 마세요. 
   - ✅ 올바른 예: "1.png", "2.png"
   - ❌ 잘못된 예: "hero.png", "diagram.png", "main-image.png", "icon.png"
`}]}];r.image&&_[0].content.push({type:"input_image",image_url:`data:${r.image.mimeType};base64,${r.image.data}`});try{const f=(await Lr().responses.create({model:"gpt-5",input:[{role:"system",content:"You are an expert educational content layout designer. CRITICAL: For image filenames, ONLY use numbered format like '1.png', '2.png', '3.png'. NEVER use descriptive names like 'hero.png' or 'diagram.png'. Always follow the structured format exactly."},..._]})).output_text.trim(),y=t1(f,o);if(y.length===0){const w=n1(f);y.push(...w.map((E,S)=>({filename:`${S+1}.png`,description:E.description})))}const b=a1(f);return{pageId:r.id,proposal:{layoutDescription:b,images:y}}}catch(p){return console.error(`Error generating layout for page ${o}:`,p),{pageId:r.id,proposal:{layoutDescription:`페이지 ${o}: ${r.topic}에 대한 기본 레이아웃`,images:[]}}}});(await Promise.all(s)).forEach(r=>{n(r.pageId,r.proposal)})}async function _h(e,t,n,a){const l=t.suggestions?`
- 전체적인 분위기 및 스타일 제안: ${t.suggestions}`:"",s=Object.entries(e).map(([o,g])=>{const d=t.pages.find(h=>h.id===o);return`페이지 ${t.pages.findIndex(h=>h.id===o)+1} (${d==null?void 0:d.topic}): ${g.layoutDescription.substring(0,100)}...`}).join(`
`),r=Object.keys(e).map(async o=>{const g=t.pages.find(_=>_.id===o);if(!g||!e[o])return null;const d=e[o],h=t.pages.findIndex(_=>_.id===o)+1,v=`당신은 최고 수준의 UI/UX 디자이너입니다. 주어진 페이지 구성안과 '비주얼 아이덴티티'를 바탕으로, 학습자의 몰입도를 높이는 동적 효과를 제안해주세요.

${t.contentMode==="restricted"?`### ⚠️ 원본 유지 모드
이 프로젝트는 사용자가 제공한 내용만을 사용합니다. 하지만 애니메이션과 상호작용은 반드시 제안해야 합니다! 기존 내용을 효과적으로 전달하기 위한 애니메이션과 인터랙션을 상세히 설명하세요. 추가 콘텐츠 생성은 제한되지만, 시각적 효과와 상호작용은 풍부하게 제안하세요.`:`### ✨ AI 보강 모드
창의적인 애니메이션과 상호작용을 자유롭게 제안하세요. 학습 효과를 높이는 추가적인 시각 효과나 인터랙션을 적극적으로 제안할 수 있습니다.`}

### ✨ 비주얼 아이덴티티 (반드시 준수할 것)
- **분위기**: ${n.moodAndTone}
- **색상**: Primary-${n.colorPalette.primary}
- **컴포넌트 스타일**: ${n.componentStyle}
- **핵심 디자인 원칙**: 효율적인 공간을 활용하고, 빈 공간이 많다면 이를 채울 아이디어를 적극적으로 제안하라

### 📍 전체 페이지 구성 개요
${s}

### 📝 프로젝트 정보
- 프로젝트: ${t.projectTitle}
- 대상: ${t.targetAudience}${l}
- 현재 페이지 ${h}: ${g.topic}

### 페이지 구성안:
${d.layoutDescription}
${g.contentAnalysis?`
### 📊 콘텐츠 구성 정보
- **주요 내용**: ${g.contentAnalysis.outline.join(", ")}
- **섹션 수**: ${g.contentAnalysis.estimatedSections}개
- **콘텐츠 밀도**: ${g.contentAnalysis.densityScore>=.8?"높음":g.contentAnalysis.densityScore>=.6?"적정":"여유"}
`:""}

### 제안 가이드라인
- **목적 지향적 제안**: "애니메이션을 추가하라"가 아니라, "콘텐츠의 스토리를 강화하고, 사용자의 이해를 돕는 점진적 정보 공개(Progressive Disclosure)를 위한 애니메이션을 제안하라."
- **미세 상호작용**: 버튼 호버 효과와 같은 미세 상호작용(Micro-interaction)으로 페이지에 생동감을 불어넣는 아이디어를 포함하세요.
- **분위기 일관성**: 제안하는 모든 효과는 정의된 '분위기'(${n.moodAndTone})와 일치해야 합니다.
- **전체 일관성**: 다른 페이지들과 일관된 애니메이션 스타일을 유지하되, 각 페이지의 특색을 살려주세요.

### 🚫 절대 금지 사항 (매우 중요!)
- **네비게이션 금지**: 페이지 간 이동을 위한 버튼, 링크, 화살표, 네비게이션 바 등을 절대 만들지 마세요.
- **페이지 연결 금지**: "다음 페이지로", "이전으로 돌아가기" 같은 상호작용을 절대 제안하지 마세요.
- **독립적 페이지**: 각 페이지는 완전히 독립적인 HTML 파일로, 다른 페이지와 연결되지 않습니다.
- **최소 폰트 크기 강제**: 모든 텍스트 애니메이션과 효과에서도 18pt 이상 유지를 명시하세요.

### 제안 항목 (JSON 형식으로 출력)
반드시 다음 JSON 형식으로 응답해주세요:
{
    "animationDescription": "페이지 로드 시 제목이 위에서 부드럽게 내려오고, 콘텐츠 요소들이 순차적으로 페이드인되는 효과를 적용합니다.",
    "interactionDescription": "카드에 호버하면 살짝 확대되고 그림자가 진해지며, 클릭 가능한 요소들은 호버 시 색상이 밝아집니다."
}`;try{const _=await Lr().responses.create({model:"gpt-5",input:[{role:"system",content:"You are an expert UI/UX designer. Always respond in valid JSON format."},{role:"user",content:v}]}),p=JSON.parse(_.output_text.trim());return{pageId:o,enhancement:{animationDescription:p.animationDescription,interactionDescription:p.interactionDescription}}}catch(_){return console.error("Failed to parse enhancement response:",_),{pageId:o,enhancement:{animationDescription:"기본 페이드인 애니메이션을 적용합니다.",interactionDescription:"호버 효과와 클릭 피드백을 제공합니다."}}}});(await Promise.all(r)).forEach(o=>{o&&a(o.pageId,o.enhancement)})}async function s1(e){const t=`당신은 초중고등학생을 위한 교육 커리큘럼 전문가입니다. 사용자의 요청을 바탕으로, 5~10페이지 분량의 체계적인 교육 콘텐츠 계획안을 생성해주세요. 각 페이지는 5분 내외의 짧은 학습 단위여야 합니다.

### 📜 핵심 규칙
1.  **프로젝트 제목**: 전체 내용을 아우르는 창의적이고 흥미로운 제목을 제안해주세요.
2.  **대상 학습자**: 사용자의 요청에서 대상 학습자를 명확히 파악하여 기재해주세요.
3.  **페이지별 주제**: 논리적인 순서에 따라 각 페이지의 핵심 주제를 명확하고 간결한 문장으로 작성해주세요. (도입 -> 개념 설명 -> 예시 -> 심화/활동 -> 정리 순서를 추천합니다.)
4.  **페이지 수**: 반드시 5개 이상, 10개 이하의 페이지로 구성해야 합니다.

### 사용자의 요구
"${e}"

이제 위의 규칙에 따라 다음 JSON 형식으로 계획안을 생성해주세요:
{
    "projectTitle": "프로젝트 제목",
    "targetAudience": "대상 학습자",
    "pages": [
        { "topic": "페이지 1 주제" },
        { "topic": "페이지 2 주제" },
        ...
    ]
}`,n=await Lr().responses.create({model:"gpt-5",input:[{role:"system",content:"You are an educational curriculum expert. Always respond in valid JSON format in Korean."},{role:"user",content:t}]});try{return JSON.parse(n.output_text.trim())}catch(a){throw console.error("Failed to parse curriculum plan:",a),new Error("Invalid response format from AI")}}const i1=({initialData:e,onNext:t,isProcessing:n})=>{const[a,l]=R.useState(e.projectTitle),[s,i]=R.useState(e.targetAudience),[r,c]=R.useState(e.pages),[o,g]=R.useState(e.suggestions||""),[d,m]=R.useState(e.layoutMode||"fixed"),[h,x]=R.useState(e.contentMode||"enhanced"),[v,_]=R.useState(""),[p,f]=R.useState(!1),[y,b]=R.useState(""),[w,E]=R.useState(!1),[S,T]=R.useState(""),j=()=>{if(r.length>=10)return;const N={id:Date.now().toString(),topic:""};c([...r,N])},O=N=>{r.length<=1||c(r.filter(L=>L.id!==N))},H=(N,L)=>{c(r.map(X=>X.id===N?{...X,topic:L}:X))},ee=(N,L)=>{if(!L)return;if(L.size>5*1024*1024){alert("파일 크기가 너무 큽니다. 5MB 미만의 이미지를 선택해주세요.");return}if(!["image/png","image/jpeg","image/webp"].includes(L.type)){alert("지원하지 않는 파일 형식입니다. PNG, JPEG, WEBP 이미지를 선택해주세요.");return}const X=new FileReader;X.onloadend=()=>{const _t=X.result.split(",")[1];c(r.map(Rt=>Rt.id===N?{...Rt,image:{filename:L.name,mimeType:L.type,data:_t}}:Rt))},X.readAsDataURL(L)},qe=N=>{c(r.map(L=>{if(L.id===N){const{image:X,..._t}=L;return _t}return L}))},Tt=()=>{l("AI 리터러시 첫걸음"),i("AI에 대해 처음 배우는 중학생"),c([{id:"test-1",topic:"'생각하는 기계' AI, 궁금하지 않니? - 학생들의 호기심을 유발하는 질문으로 시작하기"},{id:"test-2",topic:"AI는 우리를 돕는 '똑똑한 컴퓨터 프로그램'이야 - AI의 핵심 개념을 쉬운 비유로 설명하기"},{id:"test-3",topic:"우리 주변의 AI 친구들 찾아보기! - 스마트폰 음성 비서, 유튜브 추천 등 일상 속 사례 제시"},{id:"test-4",topic:"AI는 어떻게 똑똑해질까? '데이터' 먹고 쑥쑥! - '머신러닝'의 기본 원리를 고양이 사진 예시로 설명"},{id:"test-5",topic:"오늘 배운 AI 개념 퀴즈! - 간단한 O/X 퀴즈로 학습 내용 확인하며 마무리"}]),g("중학생 눈높이에 맞춰 친근한 말투와 귀여운 아이콘을 사용해주세요. 전체적으로 밝고 긍정적인 느낌을 원해요.")},ze=async()=>{if(y){E(!0),T("");try{const N=await s1(y);l(N.projectTitle),i(N.targetAudience),c(N.pages.map((L,X)=>({id:`gen-${Date.now()}-${X}`,topic:L.topic}))),g(""),f(!1),b("")}catch(N){console.error("Failed to generate curriculum plan:",N),T("계획 생성에 실패했습니다. 잠시 후 다시 시도해주세요.")}finally{E(!1)}}},C=()=>{if(!a||!s||r.some(N=>!N.topic)){_("모든 필수 항목을 입력해주세요.");return}_(""),t({projectTitle:a,targetAudience:s,pages:r,suggestions:o,layoutMode:d,contentMode:h})},$=r.length;return u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"1/5 단계: 기본 정보 입력"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"제작할 교육 콘텐츠에 대한 기본 정보를 알려주세요."})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[u.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-100 text-blue-700 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 text-sm transition-colors flex items-center space-x-2",children:[u.jsx($o,{}),u.jsx("span",{children:"딸깍"})]}),u.jsx("button",{onClick:Tt,className:"bg-purple-100 text-purple-700 font-semibold py-2 px-4 rounded-lg hover:bg-purple-200 text-sm transition-colors",children:"🧪 테스트 모드"})]})]}),v&&u.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-6",children:v}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"projectTitle",className:"block text-sm font-medium text-slate-700 mb-1",children:"프로젝트 제목"}),u.jsx("input",{type:"text",id:"projectTitle",value:a,onChange:N=>l(N.target.value),placeholder:"예: 인공지능 시작하기",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-slate-700 mb-1",children:"대상 학습자"}),u.jsx("input",{type:"text",id:"targetAudience",value:s,onChange:N=>i(N.target.value),placeholder:"예: 중학생",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),u.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[u.jsx("label",{className:"block text-lg font-medium text-slate-700 mb-4",children:"레이아웃 모드 선택"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("label",{className:`relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all ${d==="fixed"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white hover:border-slate-400"}`,children:[u.jsx("input",{type:"radio",name:"layoutMode",value:"fixed",checked:d==="fixed",onChange:N=>m(N.target.value),className:"sr-only"}),u.jsx("span",{className:"text-base font-semibold text-slate-800 mb-2",children:"📐 고정 크기 (1600×1000px)"}),u.jsxs("span",{className:"text-sm text-slate-600",children:["• 스크롤 없는 단일 화면",u.jsx("br",{}),"• 모든 콘텐츠가 화면에 완전히 표시",u.jsx("br",{}),"• 프레젠테이션에 최적화"]}),d==="fixed"&&u.jsx("span",{className:"absolute top-2 right-2 text-blue-600",children:"✓"})]}),u.jsxs("label",{className:`relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all ${d==="scrollable"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white hover:border-slate-400"}`,children:[u.jsx("input",{type:"radio",name:"layoutMode",value:"scrollable",checked:d==="scrollable",onChange:N=>m(N.target.value),className:"sr-only"}),u.jsx("span",{className:"text-base font-semibold text-slate-800 mb-2",children:"📜 스크롤 가능 (가로 1600px)"}),u.jsxs("span",{className:"text-sm text-slate-600",children:["• 세로 스크롤 허용",u.jsx("br",{}),"• 콘텐츠 양에 따라 유연한 높이",u.jsx("br",{}),"• 상세한 내용 전달에 적합"]}),d==="scrollable"&&u.jsx("span",{className:"absolute top-2 right-2 text-blue-600",children:"✓"})]})]}),u.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"💡 선택한 모드는 모든 페이지에 동일하게 적용됩니다."})]}),u.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[u.jsx("label",{className:"block text-lg font-medium text-slate-700 mb-4",children:"콘텐츠 생성 모드"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("label",{className:`relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all ${h==="enhanced"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white hover:border-slate-400"}`,children:[u.jsx("input",{type:"radio",name:"contentMode",value:"enhanced",checked:h==="enhanced",onChange:N=>x(N.target.value),className:"sr-only"}),u.jsx("span",{className:"text-base font-semibold text-slate-800 mb-2",children:"✨ AI 보강 모드"}),u.jsxs("span",{className:"text-sm text-slate-600",children:["• AI가 내용을 창의적으로 확장",u.jsx("br",{}),"• 풍부한 교육 콘텐츠 생성",u.jsx("br",{}),"• 기본 추천 모드"]}),h==="enhanced"&&u.jsx("span",{className:"absolute top-2 right-2 text-blue-600",children:"✓"})]}),u.jsxs("label",{className:`relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all ${h==="restricted"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white hover:border-slate-400"}`,children:[u.jsx("input",{type:"radio",name:"contentMode",value:"restricted",checked:h==="restricted",onChange:N=>x(N.target.value),className:"sr-only"}),u.jsx("span",{className:"text-base font-semibold text-slate-800 mb-2",children:"📝 원본 유지 모드"}),u.jsxs("span",{className:"text-sm text-slate-600",children:["• 입력한 내용만 사용",u.jsx("br",{}),"• AI 추가 내용 생성 제한",u.jsx("br",{}),"• 정확한 내용 전달 시 사용"]}),h==="restricted"&&u.jsx("span",{className:"absolute top-2 right-2 text-blue-600",children:"✓"})]})]}),u.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"💡 AI 보강 모드는 더 풍부한 콘텐츠를, 원본 유지 모드는 정확한 내용 전달을 우선시합니다."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("label",{className:"text-lg font-medium text-slate-700",children:["페이지별 주제 (",$,"/10)"]}),u.jsxs("button",{onClick:j,disabled:r.length>=10,className:"flex items-center space-x-2 text-sm font-medium text-blue-600 hover:text-blue-800 disabled:text-slate-400 disabled:cursor-not-allowed",children:[u.jsx(kx,{}),u.jsx("span",{children:"페이지 추가"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((N,L)=>u.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex flex-col gap-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("p",{className:"font-semibold text-slate-600",children:["페이지 ",L+1]}),u.jsx("button",{onClick:()=>O(N.id),disabled:r.length<=1,className:"p-1 text-slate-400 hover:text-red-600 disabled:text-slate-300 disabled:cursor-not-allowed transition-colors","aria-label":`페이지 ${L+1} 제거`,children:u.jsx(Pd,{})})]}),u.jsx("textarea",{id:`page-${N.id}`,value:N.topic,onChange:X=>H(N.id,X.target.value),placeholder:`페이지 ${L+1} 주제`,className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",rows:4}),N.image?u.jsxs("div",{className:"space-y-2",children:[u.jsx("img",{src:`data:${N.image.mimeType};base64,${N.image.data}`,alt:"참고 이미지 미리보기",className:"w-full h-32 object-cover rounded-md border border-slate-200"}),u.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-200 p-2 rounded-md",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 truncate",children:[u.jsx(Vx,{}),u.jsx("span",{className:"truncate",title:N.image.filename,children:N.image.filename})]}),u.jsx("button",{onClick:()=>qe(N.id),className:"p-1 text-slate-500 hover:text-red-600 rounded-full hover:bg-red-100 flex-shrink-0","aria-label":`페이지 ${L+1} 이미지 제거`,children:u.jsx(Pd,{})})]})]}):u.jsxs("label",{htmlFor:`file-${N.id}`,className:"cursor-pointer flex flex-col items-center justify-center space-y-2 text-sm font-medium text-slate-500 hover:text-blue-600 transition-colors w-full border-2 border-dashed border-slate-300 hover:border-blue-400 rounded-md p-4 text-center h-full",children:[u.jsx(Qx,{}),u.jsx("span",{children:"참고 이미지 업로드 (선택 사항)"}),u.jsx("input",{id:`file-${N.id}`,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:X=>ee(N.id,X.target.files?X.target.files[0]:null)})]})]},N.id))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"suggestions",className:"block text-sm font-medium text-slate-700 mb-1",children:"전체적인 제안 (선택 사항)"}),u.jsx("textarea",{id:"suggestions",value:o,onChange:N=>g(N.target.value),placeholder:"예: 파란색과 금색을 주로 사용해주세요. 전반적으로 재미있고 격려하는 분위기를 원해요.",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",rows:4})]})]}),p&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"AI로 교안 자동 구성하기"}),u.jsx("p",{className:"text-slate-500 mb-4 text-sm",children:"만들고 싶은 교육 내용의 주제와 대상을 간단히 입력해주세요. AI가 전체 목차를 자동으로 생성해 드립니다."}),S&&u.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4",children:S}),u.jsx("textarea",{value:y,onChange:N=>b(N.target.value),placeholder:"예: 중학생을 위한 AI 윤리 교육",className:"w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",rows:4,disabled:w}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[u.jsx("button",{onClick:()=>f(!1),disabled:w,className:"bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg hover:bg-slate-300 transition-colors disabled:opacity-50",children:"취소"}),u.jsx("button",{onClick:ze,disabled:w||!y,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-400 disabled:cursor-wait",children:w?"생성 중...":"생성하기"})]})]})}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 flex justify-between",children:[u.jsxs("button",{onClick:()=>{if(!a||!s||r.some(N=>!N.topic)){_("FastTrack을 사용하려면 모든 필수 항목을 입력해주세요.");return}_(""),t({projectTitle:a,targetAudience:s,pages:r,suggestions:o,layoutMode:d,contentMode:h},!0)},disabled:n,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-2 px-6 rounded-lg hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-slate-400 disabled:cursor-wait transition-all flex items-center gap-2",children:[u.jsx("span",{children:"⚡"}),n?"FastTrack 진행 중...":"FastTrack (모든 단계 자동 진행)"]}),u.jsx("button",{onClick:C,disabled:n,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400 disabled:cursor-wait transition-colors",children:n?"생성 중...":"다음: 비주얼 아이덴티티 →"})]})]})},r1=()=>u.jsxs("div",{className:"p-8 animate-pulse",children:[u.jsx("div",{className:"h-8 bg-slate-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-8"}),u.jsx("div",{className:"space-y-6",children:[...Array(3)].map((e,t)=>u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[u.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/3 mb-4"}),u.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),u.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]},t))})]}),Sl=({color:e,name:t})=>u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-white shadow",style:{backgroundColor:e}}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:t}),u.jsx("p",{className:"text-xs text-slate-500 font-mono",children:e})]})]}),u1=({visualIdentity:e,onNext:t,onBack:n,isLoading:a})=>{if(a||!e)return u.jsx(r1,{});const{moodAndTone:l,colorPalette:s,typography:i,componentStyle:r}=e;return u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"2/5 단계: 비주얼 아이덴티티"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"AI가 프로젝트의 전반적인 디자인 컨셉을 정의했습니다."})]}),u.jsxs("div",{className:"space-y-8 max-h-[60vh] overflow-y-auto pr-4",children:[u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[u.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-3",children:"🎨 분위기 & 톤"}),u.jsx("p",{className:"text-slate-600",children:l})]}),u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[u.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:"🎨 색상 팔레트"}),u.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-4 justify-items-center",children:[u.jsx(Sl,{color:s.primary,name:"Primary"}),u.jsx(Sl,{color:s.secondary,name:"Secondary"}),u.jsx(Sl,{color:s.accent,name:"Accent"}),u.jsx(Sl,{color:s.text,name:"Text"}),u.jsx(Sl,{color:s.background,name:"Background"})]})]}),u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[u.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-3",children:"✒️ 타이포그래피"}),u.jsxs("div",{className:"space-y-2 text-slate-600",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"제목 폰트:"})," ",i.headingFont]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"본문 폰트:"})," ",i.bodyFont]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-slate-700",children:"기본 크기:"})," ",i.baseSize]})]})]}),u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[u.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-3",children:"📦 컴포넌트 스타일"}),u.jsx("p",{className:"text-slate-600",children:r})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 flex justify-between",children:[u.jsx("button",{onClick:n,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 transition-colors",children:"← 이전"}),u.jsx("button",{onClick:t,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors",children:"다음: 레이아웃 제안 →"})]})]})},c1=e=>{const t=e.split(`
`).filter(c=>c.trim()!=="");if(t.length===0)return[u.jsx("div",{className:"text-slate-400 text-center py-10",children:"레이아웃 설명을 입력하면 미리보기가 여기에 표시됩니다."},"empty")];const n=[];let a=!1,l=[],s=[];const i=()=>{const c=u.jsxs("div",{className:"flex-grow flex gap-4",children:[u.jsx("div",{className:"flex-1 bg-slate-100 border border-slate-200 p-2 rounded space-y-2 flex flex-col",children:l}),u.jsx("div",{className:"flex-1 bg-slate-100 border border-slate-200 p-2 rounded space-y-2 flex flex-col",children:s})]},`col-layout-${n.length}`);return l=[],s=[],c};let r=null;for(let c=0;c<t.length;c++){const o=t[c],[g,...d]=o.split(/: (.*)/s),m=d.join(": ").trim(),h=x=>{r===1?l.push(x):r===2?s.push(x):n.push(x)};switch(g){case"TWO_COLUMN_LAYOUT_START":a=!0;break;case"TWO_COLUMN_LAYOUT_END":a&&(n.push(i()),a=!1,r=null);break;case"COLUMN_1_START":a&&(r=1);break;case"COLUMN_1_END":a&&(r=null);break;case"COLUMN_2_START":a&&(r=2);break;case"COLUMN_2_END":a&&(r=null);break;case"HEADER":h(u.jsx("div",{className:"bg-blue-100 border border-blue-200 p-3 rounded-t-lg text-blue-800 font-semibold",children:m},c));break;case"TEXT":h(u.jsx("div",{className:"bg-white p-4 text-left text-sm text-slate-700",children:m},c));break;case"IMAGE":const[x]=m.split("|");h(u.jsxs("div",{className:"bg-purple-100 border-dashed border-2 border-purple-300 p-4 rounded text-purple-800 flex items-center justify-center min-h-[80px] text-xs text-center",children:["🖼️",u.jsx("br",{}),x.trim()]},c));break;case"BUTTON":h(u.jsx("div",{className:"text-center py-2",children:u.jsx("button",{className:"bg-blue-500 text-white py-2 px-6 rounded-lg text-sm",children:m})},c));break;default:h(u.jsx("div",{className:"bg-slate-200 border border-slate-300 p-4 rounded text-sm text-slate-600",children:o},c));break}}return a&&n.push(i()),n},o1=({description:e})=>{const t=c1(e);return u.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 space-y-2 h-full min-h-[300px] flex flex-col",children:t})},f1=({pageId:e,index:t,pageSpec:n,onSpecChange:a,pageTopic:l})=>{const[s,i]=R.useState("edit");return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[u.jsxs("h3",{className:"font-bold text-slate-800 text-lg mb-2",children:["📄 페이지 ",t+1,": ",l]}),u.jsx("div",{className:"mb-4 border-b border-slate-200",children:u.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[u.jsx("button",{onClick:()=>i("edit"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="edit"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,"aria-current":s==="edit"?"page":void 0,children:"설명 편집"}),u.jsx("button",{onClick:()=>i("preview"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${s==="preview"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,"aria-current":s==="preview"?"page":void 0,children:"간이 미리보기"})]})}),s==="edit"?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`layout-desc-${e}`,className:"font-semibold text-slate-600 block mb-1",children:"레이아웃 설명:"}),u.jsx("textarea",{id:`layout-desc-${e}`,value:n.layoutDescription,onChange:r=>a(e,r.target.value),className:"w-full p-2 border border-slate-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",rows:12})]}),n.images&&n.images.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-600 mb-2",children:"이미지 기획:"}),u.jsx("div",{className:"bg-slate-50 p-3 rounded-md border border-slate-200 space-y-2 text-sm",children:n.images.map(r=>u.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-3 items-start",children:[u.jsx("span",{className:"font-mono text-xs bg-slate-200 text-slate-700 font-semibold px-2 py-1 rounded-md mt-0.5",children:r.filename}),u.jsx("p",{className:"text-slate-600",children:r.description})]},r.filename))})]})]}):u.jsx(o1,{description:n.layoutDescription})]})},d1=({index:e,pageTopic:t})=>u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg animate-pulse",children:[u.jsxs("h3",{className:"font-bold text-slate-400 text-lg mb-4",children:["📄 페이지 ",e+1,": ",t]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),u.jsx("div",{className:"h-32 bg-slate-200 rounded"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),u.jsx("div",{className:"h-16 bg-slate-200 rounded"})]})]})]}),h1=({projectData:e,initialSpec:t,onUpdateSpec:n,onNext:a,onBack:l,isLoading:s})=>{const[i,r]=R.useState(t);R.useEffect(()=>{r(t)},[t]);const c=(g,d)=>{if(!i)return;const m={...i,[g]:{...i[g],layoutDescription:d}};r(m),n(m)},o=i&&Object.keys(i).length===e.pages.length;return u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"3/5 단계: 레이아웃 제안"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"AI가 제안한 레이아웃 구성안입니다. 필요에 따라 설명을 수정할 수 있습니다."})]}),u.jsx("div",{className:"space-y-8 max-h-[60vh] overflow-y-auto pr-4",children:e.pages.map((g,d)=>{const m=i==null?void 0:i[g.id];return m?u.jsx(f1,{pageId:g.id,index:d,pageSpec:m,onSpecChange:c,pageTopic:g.topic||"제목 없는 페이지"},g.id):u.jsx(d1,{index:d,pageTopic:g.topic||"제목 없는 페이지"},g.id)})}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 flex justify-between",children:[u.jsx("button",{onClick:l,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 transition-colors",children:"← 이전"}),u.jsx("button",{onClick:()=>a(i),disabled:!o||s,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed",children:s?"생성 중...":"다음: 효과 추가 →"})]})]})},m1=({pageId:e,index:t,pageEnhancement:n,layoutDescription:a,onSpecChange:l,pageTopic:s})=>u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[u.jsxs("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:["📄 페이지 ",t+1,": ",s]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-6",children:[u.jsxs("div",{className:"bg-slate-50 p-3 rounded-md border border-slate-200 mb-4 lg:mb-0",children:[u.jsx("p",{className:"font-semibold text-slate-600 block mb-2 text-sm",children:"최종 레이아웃:"}),u.jsx("p",{className:"text-xs text-slate-500 bg-white p-2 rounded max-h-48 overflow-y-auto",children:a})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-semibold text-slate-600 block mb-1",children:"애니메이션 제안:"}),u.jsx("textarea",{value:n.animationDescription,onChange:i=>l(e,"animationDescription",i.target.value),className:"w-full p-2 border border-slate-300 rounded-md text-sm",rows:4})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-semibold text-slate-600 block mb-1",children:"상호작용 제안:"}),u.jsx("textarea",{value:n.interactionDescription,onChange:i=>l(e,"interactionDescription",i.target.value),className:"w-full p-2 border border-slate-300 rounded-md text-sm",rows:4})]})]})]})]}),g1=({index:e,pageTopic:t})=>u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg animate-pulse",children:[u.jsxs("h3",{className:"font-bold text-slate-400 text-lg mb-4",children:["📄 페이지 ",e+1,": ",t]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-6",children:[u.jsx("div",{className:"bg-slate-200 rounded-md h-32 mb-4 lg:mb-0"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3 mb-2"}),u.jsx("div",{className:"h-16 bg-slate-200 rounded"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3 mb-2"}),u.jsx("div",{className:"h-16 bg-slate-200 rounded"})]})]})]})]}),p1=({projectData:e,step2Spec:t,initialSpec:n,onUpdateSpec:a,onNext:l,onBack:s,isLoading:i})=>{const[r,c]=R.useState(n);R.useEffect(()=>{c(n)},[n]);const o=(d,m,h)=>{if(!r)return;const x={...r,[d]:{...r[d],[m]:h}};c(x),a(x)},g=r&&Object.keys(r).length===e.pages.length;return u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"4/5 단계: 애니메이션 및 상호작용 추가"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"AI가 제안한 애니메이션과 상호작용 효과를 검토하고 수정하세요."})]}),u.jsx("div",{className:"space-y-8 max-h-[60vh] overflow-y-auto pr-4",children:e.pages.map((d,m)=>{const h=r==null?void 0:r[d.id];return h?u.jsx(m1,{pageId:d.id,index:m,pageEnhancement:h,layoutDescription:t[d.id].layoutDescription,onSpecChange:o,pageTopic:d.topic||"제목 없는 페이지"},d.id):u.jsx(g1,{index:m,pageTopic:d.topic||"제목 없는 페이지"},d.id)})}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 flex justify-between",children:[u.jsx("button",{onClick:s,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 transition-colors",children:"← 이전"}),u.jsx("button",{onClick:()=>l(r),disabled:!g||i,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed",children:i?"생성 중...":"다음: 최종 프롬프트 생성 →"})]})]})},y1=`
### ⛔ 스크롤 절대 금지 규칙
**이것은 가장 중요한 규칙입니다. 어떤 경우에도 타협 불가!**

1.  **컨테이너 내부 스크롤 완전 금지**
    *   \`overflow: hidden !important;\` 필수 적용
    *   절대로 \`overflow: auto\`, \`overflow: scroll\`, \`overflow-y: auto\` 사용 금지
    *   모든 콘텐츠는 1600x1000px 안에 완벽히 수납되어야 함

2.  **콘텐츠 양 조절 필수**
    *   텍스트가 길면 줄이고 요약하라
    *   이미지 크기를 조절하라
    *   여백과 패딩을 최적화하라
    *   **절대로 스크롤로 해결하려 하지 마라**

3.  **레이아웃 최적화**
    *   모든 요소의 높이를 계산하여 1000px를 초과하지 않도록 조정
    *   padding은 컨테이너 크기 내에서 계산 (box-sizing: border-box 필수)
    *   콘텐츠가 많으면 그리드나 컬럼을 활용하여 가로로 배치

4.  **🔴 최소 폰트 크기 규칙 (매우 중요!) 🔴**
    *   **모든 텍스트는 최소 18pt(24px) 이상**
    *   본문: 18-20pt (24-27px)
    *   부제목: 22-24pt (29-32px)
    *   제목: 28-36pt (37-48px)
    *   작은 주석이나 캡션도 최소 18pt 유지
    *   **가독성을 위해 절대 18pt 미만 사용 금지**

5.  **🚫 페이지 독립성 규칙 (절대 위반 금지!) 🚫**
    *   **네비게이션 요소 완전 금지**: 다음/이전 버튼, 페이지 번호, 진행률 표시 등 절대 금지
    *   **페이지 간 링크 금지**: 다른 HTML 파일로의 링크나 참조 절대 금지
    *   **각 페이지는 완전히 독립적**: 다른 페이지의 존재를 암시하는 요소 금지
    *   **페이지 표시 금지**: "1/5", "페이지 1", "다음으로" 같은 표현 절대 사용 금지
`,b1=`
### 📜 스크롤 가능 레이아웃 규칙
**콘텐츠 우선 접근으로 자연스러운 흐름을 만듭니다.**

1.  **가로 고정, 세로 유연**
    *   가로: 1600px 고정
    *   세로: 콘텐츠 양에 따라 자유롭게 확장
    *   \`overflow-x: hidden; overflow-y: auto;\` 적용
    *   최소 높이 1000px 유지

2.  **콘텐츠 우선 배치**
    *   콘텐츠의 자연스러운 흐름 유지
    *   적절한 여백으로 가독성 확보
    *   섹션 간 충분한 간격 유지
    *   길이 제한 없이 완전한 정보 전달

3.  **반응형 요소 설계**
    *   이미지는 최대 너비 제한 (max-width: 100%)
    *   긴 콘텐츠는 섹션별로 구분
    *   스크롤 진행에 따른 애니메이션 고려 가능

4.  **🔴 최소 폰트 크기 규칙 (매우 중요!) 🔴**
    *   **모든 텍스트는 최소 18pt(24px) 이상**
    *   본문: 18-20pt (24-27px)
    *   부제목: 22-24pt (29-32px)
    *   제목: 28-36pt (37-48px)
    *   작은 주석이나 캡션도 최소 18pt 유지
    *   **가독성을 위해 절대 18pt 미만 사용 금지**

5.  **🚫 페이지 독립성 규칙 (절대 위반 금지!) 🚫**
    *   **네비게이션 요소 완전 금지**: 다음/이전 버튼, 페이지 번호, 진행률 표시 등 절대 금지
    *   **페이지 간 링크 금지**: 다른 HTML 파일로의 링크나 참조 절대 금지
    *   **각 페이지는 완전히 독립적**: 다른 페이지의 존재를 암시하는 요소 금지
    *   **페이지 표시 금지**: "1/5", "페이지 1", "다음으로" 같은 표현 절대 사용 금지
`;function x1(e="fixed"){return e==="scrollable"?b1:y1}const v1="\n### 🛠️ 기술적 개발 규칙\n1.  **프로젝트 폴더 구조**: 다음과 같은 체계적인 폴더 구조로 결과물을 구성해주세요.\n    *   `/` (root)\n        *   `page1.html`, `page2.html`, ...\n        *   `css/`\n            *   `style.css` (폰트, 색상 등 모든 공통 스타일)\n        *   `js/`\n            *   `script.js` (모든 상호작용 관련 JavaScript)\n        *   `images/`\n            *   `page1/`\n                *   `1.png`\n            *   `README.md`\n2.  **하이브리드 스타일링**:\n    *   **공통 스타일**: `css/style.css`에는 폰트, 색상 변수, 공통 버튼 스타일 등 프로젝트 전반에 사용될 스타일을 정의하세요.\n    *   **페이지 전용 스타일**: 각 HTML 파일의 `<head>` 안에 `<style>` 태그를 사용하여, 해당 페이지에만 적용되는 복잡하고 창의적인 레이아웃(Grid, Flexbox 등)을 자유롭게 작성하세요. 이를 통해 각 페이지의 디자인 품질을 극대화하세요.\n3.  **완전히 독립된 페이지**: 각 페이지는 그 자체로 완결된 하나의 독립적인 웹페이지입니다. **절대로** 다른 페이지로 이동하는 링크, '다음'/'이전' 버튼, 메뉴, 또는 외부 사이트로 나가는 하이퍼링크를 포함해서는 안 됩니다.\n4.  **이미지 관리**:\n    *   **경로**: 이미지는 반드시 페이지별 하위 폴더에 저장하고, HTML에서는 `<img src=\"./images/page1/1.png\">` 와 같은 상대 경로를 사용해야 합니다.\n    *   **파일명 규칙**: 각 페이지별로 `1.png`, `2.png` 형태로 순차적으로 번호를 부여합니다\"\n",_1=`
### ✨ 디자인 및 애니메이션 가이드라인
1.  **디자인 시스템 준수**: 아래에 정의된 '디자인 시스템'의 색상, 타이포그래피, 스타일 가이드를 모든 페이지에서 일관되게 적용해주세요.
2.  **이미지 사용 최소화**: 학습 내용에 필수적인 이미지만 사용하세요. 의미 없는 장식용 이미지는 피하고, 여백과 타이포그래피를 활용해 디자인을 완성하세요.
3.  **애니메이션**:
    *   **방향성**: 모든 애니메이션은 학습자의 시선 흐름을 자연스럽게 유도해야 합니다. (예: 왼쪽에서 오른쪽으로, 위에서 아래로)
    *   **자연스러움**: \`transition: all 0.5s ease-in-out;\` 과 같이 부드러운 \`ease\` 함수를 사용하세요. 너무 빠르거나 갑작스러운 움직임은 피해주세요.
`;function S1(e,t,n,a){const l=e.layoutMode||"fixed",s=e.pages.map((o,g)=>{const d=g+1,m=n[o.id],h=a[o.id];if(!m||!h)return console.warn(`Missing data for page ${o.id}:`,{proposal:!!m,enhancement:!!h}),`
## 페이지 ${d}: ${o.topic}

### 1. 페이지 구성 및 내용
\`\`\`
[페이지 레이아웃 정보가 생성되지 않았습니다]
\`\`\`

### 2. 페이지에 사용될 이미지
- 이미지 정보가 생성되지 않았습니다.

### 3. 애니메이션 및 상호작용
- **애니메이션**: [애니메이션 정보가 생성되지 않았습니다]
- **상호작용**: [상호작용 정보가 생성되지 않았습니다]
`;const x=m.images&&m.images.length>0?m.images.map(v=>`- **${v.filename}**: ${v.description}`).join(`
`):"- 이 페이지에는 이미지가 계획되지 않았습니다.";return`
## 페이지 ${d}: ${o.topic}

### 1. 페이지 구성 및 내용
\`\`\`
${m.layoutDescription}
\`\`\`

### 2. 페이지에 사용될 이미지
${x}

### 3. 애니메이션 및 상호작용
- **애니메이션**: ${h.animationDescription}
- **상호작용**: ${h.interactionDescription}
`}).join(""),i=`
## 2. 디자인 시스템
- **분위기 & 톤**: ${t.moodAndTone}
- **색상 팔레트 (css/style.css 에 변수로 정의할 것)**:
  --primary-color: ${t.colorPalette.primary};
  --secondary-color: ${t.colorPalette.secondary};
  --accent-color: ${t.colorPalette.accent};
  --text-color: ${t.colorPalette.text};
  --background-color: ${t.colorPalette.background};
- **타이포그래피 (css/style.css 에 정의할 것)**:
  - Heading Font: ${t.typography.headingFont}
  - Body Font: ${t.typography.bodyFont}
  - Base Size: ${t.typography.baseSize}
- **컴포넌트 스타일**: ${t.componentStyle}
`,r=e.contentMode||"enhanced",c=r==="restricted"?"📝 원본 유지 모드 - 사용자가 입력한 내용만 사용":"✨ AI 보강 모드 - AI가 내용을 창의적으로 확장";return`
# 최종 교안 개발 프롬프트

## 1. 프로젝트 개요
- **프로젝트명**: ${e.projectTitle}
- **대상 학습자**: ${e.targetAudience}
- **레이아웃 모드**: ${l==="scrollable"?"📜 스크롤 가능 (가로 1600px, 세로 유연)":"📐 고정 크기 (1600x1000px)"}
- **콘텐츠 모드**: ${c}
- **사용자 추가 제안**: ${e.suggestions||"없음"}
${i}
## 3. 핵심 개발 요구사항
${x1(l)}
${v1}
${_1}

### 📌 콘텐츠 생성 규칙
${r==="restricted"?`
- **원본 유지 모드 활성화**: 사용자가 입력한 내용만을 정확히 사용
- **추가 내용 생성 금지**: AI의 창의적 확장이나 보강 금지
- **레이아웃 중심**: 주어진 내용을 효과적으로 배치하는 것에 집중
- **시각적 표현 최적화**: 제한된 내용으로도 효과적인 학습 경험 제공
`:`
- **AI 보강 모드 활성화**: 내용을 창의적으로 확장하고 보강
- **학습 효과 극대화**: 추가 설명, 예시, 시각 자료 적극 활용
- **풍부한 콘텐츠**: 학습자의 이해를 돕는 다양한 요소 추가
- **창의적 표현**: 교육적 가치를 높이는 콘텐츠 생성
`}

## 4. 페이지별 상세 구현 가이드
${s}
`}function w1(e,t,n){const a=[],l=e.layoutMode==="scrollable"?"1600px width, flexible height for scrollable layout":"1600x1000px display",s=`Style: ${t.moodAndTone}. Educational content for ${e.targetAudience}. Use colors ${t.colorPalette.primary} and ${t.colorPalette.secondary} as accents. Clean, modern, minimalist design suitable for ${l}.`;return e.pages.forEach((i,r)=>{const c=r+1,o=n[i.id];o&&o.images&&o.images.length>0&&o.images.forEach(g=>{if(!g.description||g.description.trim()===""||g.description.trim()==="AI 이미지 생성기용 상세 프롬프트")return;const d=`${g.description}

${s}`;a.push({pageNumber:c,filename:g.filename||"1.png",description:g.description,fullPrompt:d})})}),a}const A1="modulepreload",E1=function(e){return"/"+e},Sh={},N1=function(t,n,a){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));l=Promise.allSettled(n.map(c=>{if(c=E1(c),c in Sh)return;Sh[c]=!0;const o=c.endsWith(".css"),g=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":A1,o||(d.as="script"),d.crossOrigin="",d.href=c,r&&d.setAttribute("nonce",r),document.head.appendChild(d),o)return new Promise((m,h)=>{d.addEventListener("load",m),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return l.then(i=>{for(const r of i||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})},j1="https://api.openai.com/v1/images/generations";class T1{constructor(t){Af(this,"apiKey");if(this.apiKey=t||ds.getApiKey()||"",!this.apiKey)throw new Error("OpenAI API key is required for image generation")}async generateImage(t){var n;try{const a=await fetch(j1,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"dall-e-3",prompt:t.fullPrompt,n:1,size:"1792x1024",quality:"standard",response_format:"url"})});if(!a.ok){const c=await a.json();throw new Error(`Image generation failed: ${((n=c.error)==null?void 0:n.message)||"Unknown error"}`)}const s=(await a.json()).data[0].url,r=await(await fetch(s)).blob();return{pageNumber:t.pageNumber,filename:t.filename,imageData:r,url:s}}catch(a){throw console.error(`Failed to generate image for page${t.pageNumber}/${t.filename}:`,a),a}}async generateAllImages(t,n){const a=t.length;let l=0;const s=[],i=[],r=t.map(async o=>{try{n&&n(l,a,`page${o.pageNumber}/${o.filename}`);const g=await this.generateImage(o);return l++,n&&n(l,a),{success:!0,image:g}}catch(g){return l++,n&&n(l,a),i.push({prompt:o,error:g}),{success:!1,error:g}}});return(await Promise.all(r)).forEach(o=>{o.success&&o.image&&s.push(o.image)}),i.length>0&&console.error(`Failed to generate ${i.length} images:`,i),s}async createZipFile(t){const n=(await N1(async()=>{const{default:l}=await import("./jszip.min-Bc-NQUlJ.js").then(s=>s.j);return{default:l}},[])).default,a=new n;return t.forEach(l=>{const s=`images/page${l.pageNumber}/${l.filename}`;a.file(s,l.imageData)}),await a.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})}async generateAndPackageImages(t,n){const a=await this.generateAllImages(t,n);if(a.length===0)throw new Error("No images were generated successfully");return await this.createZipFile(a)}}const R1=()=>u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),O1=({imagePrompts:e,projectTitle:t})=>{const[n,a]=R.useState("idle"),[l,s]=R.useState(0),[i,r]=R.useState(0),[c,o]=R.useState(0),[g,d]=R.useState(""),[m,h]=R.useState(null),[x,v]=R.useState(null),_=R.useCallback(async()=>{if(e.length===0){h("이미지 프롬프트가 없습니다.");return}a("generating"),h(null),r(e.length),o(0),s(0),v(null);try{const w=await new T1().generateAndPackageImages(e,(E,S,T)=>{o(E),s(E/S*100),T&&d(T)});v(w),a("completed"),p(w,t)}catch(b){console.error("Image generation failed:",b),h(b instanceof Error?b.message:"이미지 생성 중 오류가 발생했습니다."),a("error")}},[e,t]),p=(b,w)=>{const E=URL.createObjectURL(b),S=document.createElement("a");S.href=E,S.download=`${w.replace(/[^a-z0-9가-힣]/gi,"_")}_images.zip`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(E)},f=()=>{x&&p(x,t)},y=b=>b<1024?b+" B":b<1024*1024?(b/1024).toFixed(1)+" KB":(b/(1024*1024)).toFixed(1)+" MB";return u.jsxs("div",{className:"mt-6 p-6 bg-white rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"AI 이미지 생성"}),u.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["총 ",e.length,"개의 이미지를 생성합니다"]})]}),n==="idle"&&u.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[u.jsx($o,{}),u.jsx("span",{children:"이미지 생성 시작"})]}),n==="completed"&&x&&u.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-md",children:[u.jsx(R1,{}),u.jsxs("span",{children:["ZIP 다운로드 (",y(x.size),")"]})]})]}),n==="generating"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm text-slate-600",children:[u.jsxs("span",{children:["진행 중: ",g]}),u.jsxs("span",{children:[c," / ",i]})]}),u.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full transition-all duration-500 relative",style:{width:`${l}%`},children:u.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),u.jsx("p",{className:"text-sm text-slate-500 text-center",children:"병렬 처리로 모든 이미지를 동시에 생성 중입니다..."})]}),n==="completed"&&u.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsx("p",{className:"text-green-800 font-medium",children:"✅ 모든 이미지가 성공적으로 생성되었습니다!"}),u.jsxs("p",{className:"text-green-600 text-sm mt-1",children:[c,"개의 이미지가 ZIP 파일로 패키징되었습니다."]})]}),m&&u.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[u.jsx("p",{className:"text-red-800 font-medium",children:"⚠️ 오류 발생"}),u.jsx("p",{className:"text-red-600 text-sm mt-1",children:m}),n==="error"&&u.jsx("button",{onClick:_,className:"mt-3 text-sm text-red-700 underline hover:text-red-900",children:"다시 시도"})]}),e.length>0&&n==="idle"&&u.jsxs("div",{className:"mt-6",children:[u.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"생성할 이미지 목록"}),u.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 p-3 bg-slate-50 rounded-lg",children:e.map((b,w)=>u.jsxs("div",{className:"flex items-start space-x-2 text-xs",children:[u.jsxs("span",{className:"text-slate-500 font-mono",children:["page",b.pageNumber,"/",b.filename]}),u.jsxs("span",{className:"text-slate-600 flex-1 truncate",children:[b.description.substring(0,60),"..."]})]},w))})]})]})},wh=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),Ah=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),C1=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),M1=({projectData:e,visualIdentity:t,step2Spec:n,step3Spec:a,onBack:l,onStartOver:s})=>{const[i,r]=R.useState(!1),[c,o]=R.useState(!1),g=R.useMemo(()=>S1(e,t,n,a),[e,t,n,a]),d=R.useMemo(()=>{const j=[];return j.push("# AI 이미지 생성 프롬프트"),j.push(""),j.push("## 프로젝트 개요"),j.push(`- **프로젝트명**: ${e.projectTitle}`),j.push(`- **대상**: ${e.targetAudience}`),j.push(`- **비주얼 스타일**: ${t.moodAndTone}`),j.push(`- **주요 색상**: ${t.colorPalette.primary}, ${t.colorPalette.secondary}`),j.push(""),j.push("## 페이지별 이미지 생성 프롬프트"),j.push(""),e.pages.forEach((O,H)=>{const ee=H+1,qe=n[O.id];if(qe&&qe.images&&qe.images.length>0){let Tt=!1;qe.images.forEach(ze=>{if(!ze.description||ze.description.trim()===""||ze.description.trim()==="AI 이미지 생성기용 상세 프롬프트")return;Tt=!0,j.push(`### 📁 images/page${ee}/`),j.push(`**파일명**: ${ze.filename||"1.png"}`),j.push(""),j.push("**생성 프롬프트**:"),j.push(`${ze.description}`),j.push("");const C=e.layoutMode==="scrollable"?"1600px width, flexible height for scrollable layout":"1600x1000px display";j.push(`Style: ${t.moodAndTone}. Educational content for ${e.targetAudience}. Use colors ${t.colorPalette.primary} and ${t.colorPalette.secondary} as accents. Clean, modern, minimalist design suitable for ${C}.`),j.push(""),j.push("---"),j.push("")}),Tt||(j.push(`### 📁 images/page${ee}/`),j.push("이 페이지에는 이미지가 계획되지 않았습니다."),j.push(""),j.push("---"),j.push(""))}else j.push(`### 📁 images/page${ee}/`),j.push("이 페이지에는 이미지가 계획되지 않았습니다."),j.push(""),j.push("---"),j.push("")}),j.join(`
`)},[e,t,n]),[m,h]=R.useState(g),[x,v]=R.useState(d),[_,p]=R.useState(""),[f,y]=R.useState(""),[b,w]=R.useState("main"),E=R.useMemo(()=>w1(e,t,n),[e,t,n]),S=()=>{navigator.clipboard.writeText(m).then(()=>{p("클립보드에 복사되었습니다!"),setTimeout(()=>p(""),2e3)},()=>{p("복사에 실패했습니다."),setTimeout(()=>p(""),2e3)})},T=()=>{navigator.clipboard.writeText(x).then(()=>{y("클립보드에 복사되었습니다!"),setTimeout(()=>y(""),2e3)},()=>{y("복사에 실패했습니다."),setTimeout(()=>y(""),2e3)})};return u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"5/5 단계: 최종 프롬프트"}),u.jsx("p",{className:"text-slate-500 mt-1",children:"프롬프트가 완성되었습니다! 복사하여 사용하세요."})]}),u.jsxs("div",{className:"flex space-x-2 mb-4",children:[u.jsx("button",{onClick:()=>w("main"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${b==="main"?"bg-blue-600 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"📝 HTML 생성 프롬프트"}),u.jsx("button",{onClick:()=>w("image"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${b==="image"?"bg-blue-600 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"🎨 이미지 생성 프롬프트"})]}),b==="main"&&u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{readOnly:!i,value:m,onChange:j=>h(j.target.value),className:`w-full h-96 p-4 font-mono text-sm bg-slate-900 text-slate-100 border rounded-lg resize-none focus:ring-2 ${i?"border-blue-500 ring-blue-500":"border-slate-700"}`}),u.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[_?u.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-3 py-1.5 rounded-md transition-opacity duration-300",children:_}):u.jsx("button",{onClick:S,className:"p-2 bg-slate-700 border border-slate-600 rounded-md text-slate-300 hover:bg-slate-600","aria-label":"프롬프트 복사",children:u.jsx(wh,{})}),u.jsx("button",{onClick:()=>r(!i),className:`p-2 border rounded-md transition-colors ${i?"bg-blue-600 text-white border-blue-500":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"}`,"aria-label":i?"편집 완료":"프롬프트 수정",children:u.jsx(Ah,{})})]})]}),b==="image"&&u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{readOnly:!c,value:x,onChange:j=>v(j.target.value),className:`w-full h-96 p-4 font-mono text-sm bg-slate-900 text-slate-100 border rounded-lg resize-none focus:ring-2 ${c?"border-blue-500 ring-blue-500":"border-slate-700"}`}),u.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[f?u.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-3 py-1.5 rounded-md transition-opacity duration-300",children:f}):u.jsx("button",{onClick:T,className:"p-2 bg-slate-700 border border-slate-600 rounded-md text-slate-300 hover:bg-slate-600","aria-label":"이미지 프롬프트 복사",children:u.jsx(wh,{})}),u.jsx("button",{onClick:()=>o(!c),className:`p-2 border rounded-md transition-colors ${c?"bg-blue-600 text-white border-blue-500":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"}`,"aria-label":c?"편집 완료":"프롬프트 수정",children:u.jsx(Ah,{})})]})]}),b==="image"&&u.jsx(O1,{imagePrompts:E,projectTitle:e.projectTitle}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 flex justify-between items-center",children:[u.jsx("button",{onClick:l,className:"bg-slate-200 text-slate-700 font-bold py-2 px-6 rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400 transition-colors",children:"← 이전"}),u.jsxs("button",{onClick:s,className:"flex items-center space-x-2 text-sm font-medium text-slate-500 hover:text-slate-800",children:[u.jsx(C1,{}),u.jsx("span",{children:"처음부터 다시 시작"})]})]})]})};function D1({projectId:e,projectData:t,currentStep:n,visualIdentity:a,step2Spec:l,step3Spec:s,onSaveStatusChange:i,enabled:r=!0}){const c=R.useRef(null),o=R.useRef(null),g=R.useRef(!1),d=R.useRef(""),m=R.useRef([]),h=R.useCallback(()=>JSON.stringify({projectData:t,currentStep:n,visualIdentity:a,step2Spec:l,step3Spec:s}),[t,n,a,l,s]),x=R.useCallback(async _=>{if(!r||!e||g.current){g.current&&!m.current.includes(_)&&m.current.push(_);return}const p=h();if(p===d.current&&_!=="exit_workspace"){console.log(`[AutoSave] No changes detected for trigger: ${_}`);return}console.log(`[AutoSave] Saving with trigger: ${_}`),g.current=!0,i("saving");try{ve.updateProject(e,{name:t.projectTitle||"새 프로젝트",currentStep:n,projectData:t,visualIdentity:a||void 0,step2Spec:l||void 0,step3Spec:s||void 0})&&(d.current=p,i("saved"),console.log(`[AutoSave] Save successful for trigger: ${_}`),setTimeout(()=>{i("idle")},2e3))}catch(f){console.error(`[AutoSave] Save failed for trigger: ${_}`,f),i("error"),setTimeout(()=>{i("idle")},3e3)}finally{if(g.current=!1,m.current.length>0){const f=m.current.shift();f&&setTimeout(()=>x(f),100)}}},[r,e,t,n,a,l,s,h,i]),v=R.useCallback(_=>{console.log(`[AutoSave] Trigger requested: ${_}`),c.current&&clearTimeout(c.current),_==="exit_workspace"?x(_):c.current=setTimeout(()=>{x(_)},300)},[x]);return R.useEffect(()=>{if(r)return o.current=setInterval(()=>{!g.current&&ve.isAutosaveEnabled()&&h()!==d.current&&x("auto_interval")},3e4),()=>{o.current&&clearInterval(o.current)}},[x,h]),R.useEffect(()=>{if(!(!r||!ve.isAutosaveEnabled()))return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{h()!==d.current&&x("auto_interval")},2e3),()=>{c.current&&clearTimeout(c.current)}},[t,n,a,l,s,x,h]),R.useEffect(()=>()=>{c.current&&clearTimeout(c.current),o.current&&clearInterval(o.current)},[]),{triggerSave:v,isSaving:g.current}}const U1=({projectId:e,onBackToProjects:t})=>{const[n,a]=R.useState(oe.BasicInfo),[l,s]=R.useState({projectTitle:"",targetAudience:"",pages:[{id:"1",topic:""}],suggestions:""}),[i,r]=R.useState(null),[c,o]=R.useState(null),[g,d]=R.useState(null),[m,h]=R.useState(!1),[x,v]=R.useState(null),[_,p]=R.useState("idle"),[f,y]=R.useState(!1),[b,w]=R.useState(!1),[E,S]=R.useState(""),T=R.useRef({step1Hash:"",step2Hash:"",step3Hash:""}),{triggerSave:j}=D1({projectId:e,projectData:l,currentStep:n,visualIdentity:i,step2Spec:c,step3Spec:g,onSaveStatusChange:p,enabled:f});R.useEffect(()=>{y(!1);const B=ve.getProject(e);B&&(s(B.data.projectData),a(B.currentStep),r(B.data.visualIdentity||null),o(B.data.step2Spec||null),d(B.data.step3Spec||null)),setTimeout(()=>{y(!0)},100)},[e]);const O=R.useCallback(B=>{a(B),j("step_change")},[j]);R.useEffect(()=>{n===oe.FinalPrompt&&j("final_step")},[n,j]),R.useEffect(()=>()=>{j("exit_workspace")},[j]);const H=R.useCallback(()=>{j("exit_workspace"),t()},[j,t]),ee=B=>JSON.stringify(B),qe=async(B,ye=!1)=>{s(B),w(ye);const Ge=ee(B),Qe=Ge!==T.current.step1Hash;if(ye&&S("Step 2: 비주얼 아이덴티티 생성 중..."),O(oe.VisualIdentity),i&&!Qe){console.log("Using cached visual identity - no changes detected"),ye&&await L(i);return}h(!0),v(null);try{const Be=await l1(B);r(Be),T.current.step1Hash=Ge,ye&&await L(Be)}catch(Be){v("비주얼 아이덴티티 생성에 실패했습니다. 다시 시도해 주세요."),console.error(Be),w(!1),O(oe.BasicInfo)}finally{ye||h(!1)}},Tt=async()=>{if(!i)return;const B=ee({projectData:l,visualIdentity:i}),ye=B!==T.current.step2Hash;if(O(oe.PageProposal),c&&Object.keys(c).length===l.pages.length&&!ye){console.log("Using cached page proposals - no changes detected");return}o({}),h(!0),v(null);try{await vh(l,i,(Ge,Qe)=>{o(Be=>({...Be,[Ge]:Qe}))}),T.current.step2Hash=B}catch(Ge){v("페이지 제안 생성에 실패했습니다. 다시 시도해 주세요."),console.error(Ge),O(oe.VisualIdentity)}finally{h(!1)}},ze=async B=>{if(!i)return;o(B);const ye=ee({spec:B,projectData:l,visualIdentity:i}),Ge=ye!==T.current.step3Hash;if(O(oe.Enhancements),g&&Object.keys(g).length===l.pages.length&&!Ge){console.log("Using cached enhancement suggestions - no changes detected");return}d({}),h(!0),v(null);try{await _h(B,l,i,(Qe,Be)=>{d(qn=>({...qn,[Qe]:Be}))}),T.current.step3Hash=ye}catch(Qe){v("개선 사항 생성에 실패했습니다. 다시 시도해 주세요."),console.error(Qe),O(oe.PageProposal)}finally{h(!1)}},C=B=>{d(B),O(oe.FinalPrompt)},$=()=>{const B=n>oe.BasicInfo?n-1:oe.BasicInfo;O(B)},N=()=>{confirm("정말로 처음부터 다시 시작하시겠습니까? 현재 작업 내용은 초기화됩니다.")&&(s({projectTitle:l.projectTitle,targetAudience:"",pages:[{id:"1",topic:""}],suggestions:""}),r(null),o(null),d(null),O(oe.BasicInfo),v(null),h(!1),w(!1))},L=async B=>{S("Step 3: 페이지 레이아웃 생성 중...");const ye=ee({projectData:l,visualIdentity:B}),Ge=ye!==T.current.step2Hash;if(O(oe.PageProposal),c&&Object.keys(c).length===l.pages.length&&!Ge){console.log("Using cached page proposals in FastTrack - no changes detected"),await X(c,B);return}o({});try{const Qe={};await vh(l,B,(Be,qn)=>{Qe[Be]=qn,o(Bs=>({...Bs,[Be]:qn}))}),T.current.step2Hash=ye,await X(Qe,B)}catch(Qe){v("페이지 제안 생성에 실패했습니다."),console.error(Qe),w(!1),h(!1)}},X=async(B,ye)=>{S("Step 4: 애니메이션 효과 생성 중...");const Ge=ee({spec:B,projectData:l,visualIdentity:ye}),Qe=Ge!==T.current.step3Hash;if(O(oe.Enhancements),g&&Object.keys(g).length===l.pages.length&&!Qe){console.log("Using cached enhancement suggestions in FastTrack - no changes detected"),_t(B,g);return}d({});try{const Be={};await _h(B,l,ye,(qn,Bs)=>{Be[qn]=Bs,d(qp=>({...qp,[qn]:Bs}))}),T.current.step3Hash=Ge,_t(B,Be)}catch(Be){v("개선 사항 생성에 실패했습니다."),console.error(Be),w(!1),h(!1)}},_t=(B,ye)=>{S("Step 5: 최종 프롬프트 생성 완료!"),o(B),d(ye),console.log("FastTrack Step4 - Final Data:",{hasVisualIdentity:!!i,step2SpecKeys:Object.keys(B||{}),step3SpecKeys:Object.keys(ye||{}),pageIds:l.pages.map(Ge=>Ge.id)}),O(oe.FinalPrompt),h(!1),w(!1),j("final_step")},Rt=R.useCallback(B=>{o(B)},[]),hl=R.useCallback(B=>{d(B)},[]),Yt=()=>{switch(n){case oe.BasicInfo:return u.jsx(i1,{initialData:l,onNext:qe,isProcessing:m});case oe.VisualIdentity:return u.jsx(u1,{visualIdentity:i,onNext:Tt,onBack:$,isLoading:m});case oe.PageProposal:return u.jsx(h1,{projectData:l,initialSpec:c,onUpdateSpec:Rt,onNext:ze,onBack:$,isLoading:m});case oe.Enhancements:return u.jsx(p1,{projectData:l,step2Spec:c,initialSpec:g,onUpdateSpec:hl,onNext:C,onBack:$,isLoading:m});case oe.FinalPrompt:return u.jsx(M1,{projectData:l,visualIdentity:i,step2Spec:c,step3Spec:g,onBack:$,onStartOver:N});default:return u.jsx("div",{children:"잘못된 단계"})}};return u.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 font-sans",children:[u.jsxs("div",{className:"fixed top-4 left-4 right-4 z-40 flex justify-between items-center",children:[u.jsxs("button",{onClick:H,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2",children:[u.jsx("span",{children:"←"}),u.jsx("span",{children:"프로젝트 목록"})]}),u.jsxs("div",{className:`px-3 py-2 rounded-lg shadow-sm transition-all ${_==="saving"?"bg-yellow-100 text-yellow-800":_==="saved"?"bg-green-100 text-green-800":_==="error"?"bg-red-100 text-red-800":"bg-white text-gray-600 border border-gray-200"}`,children:[_==="saving"&&"💾 저장 중...",_==="saved"&&"✅ 저장됨",_==="error"&&"❌ 저장 실패",_==="idle"&&u.jsx(u.Fragment,{children:l.projectTitle?u.jsxs("span",{className:"text-sm",children:["📝 ",l.projectTitle]}):u.jsx("span",{className:"text-sm",children:"📝 새 프로젝트"})})]})]}),b&&m&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md text-center",children:[u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full animate-pulse mb-4",children:u.jsx("span",{className:"text-3xl text-white",children:"⚡"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"FastTrack 진행 중"}),u.jsx("p",{className:"text-gray-600 mb-4",children:E}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 h-2 rounded-full transition-all duration-500",style:{width:`${E.includes("Step 2")?"20%":E.includes("Step 3")?"40%":E.includes("Step 4")?"70%":E.includes("Step 5")?"100%":"10%"}`}})}),u.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"잠시만 기다려주세요..."})]})}),u.jsxs("div",{className:"w-full max-w-5xl mx-auto mt-16",children:[x&&u.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"오류: "}),u.jsx("span",{className:"block sm:inline",children:x})]}),u.jsx("main",{className:"bg-white rounded-xl shadow-2xl shadow-slate-200",children:Yt()}),u.jsx("footer",{className:"text-center mt-8 text-slate-400 text-sm",children:u.jsx("p",{children:"React, Tailwind CSS, Google Gemini 기반"})})]})]})},z1=({onApiKeySet:e})=>{const[t,n]=R.useState(""),[a,l]=R.useState(!1),[s,i]=R.useState(""),[r,c]=R.useState(!1),o=async g=>{if(g.preventDefault(),i(""),!t.trim()){i("API 키를 입력해주세요.");return}if(!t.startsWith("sk-")){i("올바른 OpenAI API 키 형식이 아닙니다. (sk-로 시작해야 합니다)");return}l(!0);try{await ds.validateApiKey(t)?(ds.setApiKey(t),e()):i("유효하지 않은 API 키입니다. 키를 다시 확인해주세요.")}catch{i("API 키 검증 중 오류가 발생했습니다.")}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl shadow-lg mb-4",children:u.jsx($o,{})}),u.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"EduContent Prompt Generator"}),u.jsx("p",{className:"text-slate-600",children:"OpenAI API 키를 입력하여 시작하세요"})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("form",{onSubmit:o,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 mb-2",children:"OpenAI API 키"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"apiKey",type:r?"text":"password",value:t,onChange:g=>n(g.target.value),placeholder:"sk-...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",disabled:a}),u.jsx("button",{type:"button",onClick:()=>c(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:r?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):u.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"API 키는 브라우저 로컬 저장소에 안전하게 저장됩니다."})]}),s&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-700",children:s})}),u.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:a?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"검증 중..."]}):"시작하기"})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"API 키 얻는 방법"}),u.jsxs("ol",{className:"space-y-2 text-sm text-slate-600",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2 text-blue-600 font-semibold",children:"1."}),u.jsxs("span",{children:[u.jsx("a",{href:"https://platform.openai.com/signup",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"OpenAI 계정 생성"})," 또는 로그인"]})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2 text-blue-600 font-semibold",children:"2."}),u.jsxs("span",{children:[u.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"API Keys 페이지"}),"로 이동"]})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2 text-blue-600 font-semibold",children:"3."}),u.jsx("span",{children:'"Create new secret key" 버튼 클릭'})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2 text-blue-600 font-semibold",children:"4."}),u.jsx("span",{children:"생성된 키 복사 후 위 입력란에 붙여넣기"})]})]}),u.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-amber-800",children:[u.jsx("strong",{children:"주의:"})," API 사용에는 요금이 발생할 수 있습니다. OpenAI 계정의 사용량과 요금을 정기적으로 확인하세요."]})})]})]}),u.jsx("p",{className:"mt-6 text-center text-sm text-slate-500",children:"이 애플리케이션은 교육 콘텐츠 생성을 위해 OpenAI API를 사용합니다."})]})})};function B1(){const[e,t]=R.useState(!1),[n,a]=R.useState("landing"),[l,s]=R.useState(null),[i,r]=R.useState(!1);R.useEffect(()=>{const h=ds.hasApiKey();if(t(h),h){const x=ve.getProjectList();r(x.length>0);const v=ve.getCurrentProjectId();v&&ve.getProject(v)&&(s(v),a("workspace"))}},[]);const c=(h="새 프로젝트")=>{const x=ve.createProject({projectTitle:h,targetAudience:"",pages:[{id:"1",topic:""}],suggestions:""});s(x.id),ve.setCurrentProjectId(x.id),a("workspace")},o=()=>{a("projectList")},g=h=>{s(h),ve.setCurrentProjectId(h),a("workspace")},d=()=>{const h=ve.getProjectList();r(h.length>0),h.length>0?a("projectList"):a("landing"),s(null)},m=()=>{const h=ve.getProjectList();r(h.length>0),a("landing")};if(!e)return u.jsx(z1,{onApiKeySet:()=>{t(!0);const h=ve.getProjectList();r(h.length>0)}});switch(n){case"landing":return u.jsx(Gx,{onNewProject:c,onOpenProjects:o,hasProjects:i});case"projectList":return u.jsx(Xx,{onProjectSelect:g,onNewProject:c,onBack:m});case"workspace":return l?u.jsx(U1,{projectId:l,onBackToProjects:d}):null;default:return null}}const $p=document.getElementById("root");if(!$p)throw new Error("Could not find root element to mount to");const H1=qx.createRoot($p);H1.render(u.jsx(iy.StrictMode,{children:u.jsx(B1,{})}));export{$1 as c,Eh as g};
